function [CoordinateNew, TJoint, FGrf, Pu] = ComputeTorque(RefJoints, CoordinatesValue, i,e_optimal,K_optimal)

% Import Java libraries
import org.opensim.modeling.*;

% Input model    
subjectModel = Model('subject01_gait2392_scaled_991221.osim');

% Subject parameters
M = 66.7; % Mass (kg)
L = 1.68; % Height (m)

% Body segment lengths
% Following parametres are taken from human like biped model that its figure is
% located in 'Simulation' folder. 
Lbrc = 0.0974; 
Lt = 0.435434;
Ls = 0.411025; 
Hf = 0.0394514; 
Lff = 0.138036; 
Lfb = 0.0447026; 
Ltoe = 0.065; 
Lgt = 0.187014;
Lgs = 0.178461; 
Lgu = 0.3937; 
Hfgx = 0.102202; 
Hfgy = 0.0306608; 
Lgtoex = 0.0353621; 
Lgtoey = 0.00613217; 

% Masses
mu = 10.4507427698677 + 30.3810732711942; % Mass of the upper segment (kg)
mt = 8.25393044065955; % Mass of the thigh segment (kg)
ms = 3.28998291749041; % Mass of the shank segment (kg)
mf = 1.10923227157465; % Mass of the foot segment (kg)
mtoe = 0.192207768018455; % Mass of the toe segment (kg)


% Moments of inertia
Ito = 1.13692; % Moment of inertia of the toe segment (kg*m^2)
Ip = 0.0520476; % Moment of inertia of the pelvis segment (kg*m^2)
Iu = Ito + 30.3810732711942*((0.4512-0.3937)^2) + Ip + 10.4507427698677*((0.3937-0.2268)^2); % Moment of inertia of the upper segment (kg*m^2)
It = 0.151634; % Moment of inertia of the thigh segment (kg*m^2)
Is = 0.0414317; % Moment of inertia of the shank segment (kg*m^2)
If = 0.00380034; % Moment of inertia of the foot segment (kg*m^2)
Itoe = 9.26912e-05; % Moment of inertia of the toe segment (kg*m^2)
% Gravity
g = 9.81; % Gravitational acceleration (m/s^2)



%% Inputs 
tar = CoordinatesValue(1);
tkr = CoordinatesValue(2);
thr = CoordinatesValue(3);
tal = CoordinatesValue(4);
tkl = CoordinatesValue(5);
thl = CoordinatesValue(6);
tar_dt = CoordinatesValue(7);
tkr_dt = CoordinatesValue(8);
thr_dt = CoordinatesValue(9);
tal_dt = CoordinatesValue(10);
tkl_dt = CoordinatesValue(11);
thl_dt = CoordinatesValue(12);
tu = CoordinatesValue(13);
tu_dt = CoordinatesValue(14);
X = CoordinatesValue(15);
X_dt = CoordinatesValue(16);
Y = CoordinatesValue(17);
Y_dt = CoordinatesValue(18);



tjd = RefJoints(:,1);
tjd_dt = RefJoints(:,2);
tjd_ddt = RefJoints(:,3);

%% Change Contact Parametrs of HuntCrossley Force

% Initialization of the Model 
Coordiantes = subjectModel.getCoordinateSet();
state = subjectModel.initSystem();

% List of coordinates to unlock
coordinateNames = {'ankle_angle_r', 'knee_angle_r', 'hip_flexion_r', ...
                   'ankle_angle_l', 'knee_angle_l', 'hip_flexion_l', ...
                   'pelvis_tilt', 'pelvis_tx', 'pelvis_ty'};
lockedStatus = [false, false, false, false, false, false, false, false, false];

% Loop through each coordinate and set locked status
for j = 1:length(coordinateNames)
    Coordiantes.get(coordinateNames{j}).setDefaultLocked(lockedStatus(j));
end

% Lock lumbar_extension coordinate
Coordiantes.get('lumbar_extension').setDefaultLocked(true);

% coordinate values
coordValues = [tar, tkr, thr, tal, tkl, thl, tu, X, Y];
coordSpeedValues = [tar_dt, tkr_dt, thr_dt, tal_dt, tkl_dt, thl_dt, tu_dt, X_dt, Y_dt];


% Loop through each coordinate and set its value and speed value
for j = 1:length(coordinateNames)
    coord = Coordiantes.get(coordinateNames{j});
    coord.setValue(state, coordValues(j));
    coord.setSpeedValue(state, coordSpeedValues(j));
end


%% Calculate Ground Reaction Forces by Hunt-Crossely Model. 
% To calculate ground reaction forces, we extract vertical and horizental
% displacement of toes and heel by inverse kinemtaic. 

% Define absolut angles
ttr = thr + tu; 
tsr = tu + thr + tkr; 
tfr = tu + thr + tkr + tar; 
ttoer = tfr; 
tfl = tu + thl + tkl + tal;
tsl = tu + thl + tkl; 
ttl = tu + thl; 
ttoel = tfl;
ttr_dt = thr_dt + tu_dt; 
tsr_dt = ttr_dt + tkr_dt; 
tfr_dt = tsr_dt + tar_dt; 
ttoer_dt = tfr_dt; 
ttl_dt = thl_dt + tu_dt; 
tsl_dt = ttl_dt + tkl_dt; 
tfl_dt = tsl_dt + tal_dt; 
ttoel_dt = tfl_dt;

% Define constants
a1 = 0.0711581;  
a2 = 0.0665283;
t2 = 0.435434; 
t1 = 0.0049502;
Ls = 0.411025;
k1 = 0.138036; 
k2 = 0.0404955;
p1 = 0.0384514; 
p2 = 0.0447026;
Rb = 0.1;
Rm = 0.1;
us = 0.8; 
ud = 0.6; 
vt = 1;
kb = 6.779139943555200e+03;
cb = 0.031411556094665;
km = kb; 
cm = cb;
r1 =0.129734;
r2=0.384773;
kb = 6.779139943555200e+03;
cb = 0.031411556094665;

% Calculate Hip Position
xh = X - a2 * sin(-tu) - a1 * cos(-tu);
xh_dt = X_dt + tu_dt * a2 * cos(-tu) - tu_dt * a1 * sin(-tu);
yh = Y - a2 * cos(-tu) + a1 * sin(-tu);
yh_dt = Y_dt - tu_dt * a2 * sin(-tu) - tu_dt * a1 * cos(-tu);

% Calculate Knee Position
xkr = xh + t2 * sin(ttr) - t1 * cos(ttr);
xkr_dt = xh_dt + ttr_dt * t2 * cos(ttr) + ttr_dt * t1 * sin(ttr);
ykr = yh - t2 * cos(ttr) - t1 * sin(ttr);
ykr_dt = yh_dt + ttr_dt * t2 * sin(ttr) - ttr_dt * t1 * cos(ttr);

% Calculate Ankle Position
xar = xkr - Ls * sin(-tsr);
xar_dt = xkr_dt + tsr_dt * Ls * cos(-tsr);
yar = ykr - Ls * cos(-tsr);
yar_dt = ykr_dt - tsr_dt * Ls * sin(-tsr);

% Calculate Midfoot Position
xmr = xar + k2 * sin(tfr) + k1 * cos(tfr);
xmr_dt = xar_dt + tfr_dt * k2 * cos(tfr) - tfr_dt * k1 * sin(tfr);
ymr = yar - k2 * cos(tfr) + k1 * sin(tfr);
ymr_dt = yar_dt + tfr_dt * k2 * sin(tfr) + tfr_dt * k1 * cos(tfr);

% Calculate Foot Position
xfr = xmr + Ltoe * cos(ttoer);
xfr_dt = xmr_dt - ttoer_dt * Ltoe * sin(ttoer);
yfr = ymr + Ltoe * sin(ttoer);
yfr_dt = ymr_dt + ttoer_dt * Ltoe * cos(ttoer);

% Calculate Backfoot Position
xbr = xar + p1 * sin(tfr) - p2 * cos(tfr);
xbr_dt = xar_dt + tfr_dt * p1 * cos(tfr) + tfr_dt * p2 * sin(tfr);
ybr = yar - p1 * cos(tfr) - p2 * sin(tfr) - 0.03;
ybr_dt = yar_dt + tfr_dt * p1 * sin(tfr) - tfr_dt * p2 * cos(tfr);

% Calculate Ankle Position for Left Foot
xkl = xh + t2 * sin(ttl) - t1 * cos(ttl);
xkl_dt = xh_dt + ttl_dt * t2 * cos(ttl) + ttl_dt * t1 * sin(ttl);
ykl = yh - t2 * cos(ttl) - t1 * sin(ttl);
ykl_dt = yh_dt + ttl_dt * t2 * sin(ttl) - ttl_dt * t1 * cos(ttl);

% Calculate Ankle Position for Left Foot
xal = xkl - Ls * sin(-tsl);
xal_dt = xkl_dt + tsl_dt * Ls * cos(-tsl);
yal = ykl - Ls * cos(-tsl);
yal_dt = ykl_dt - tsl_dt * Ls * sin(-tsl);

% Calculate Midfoot Position for Left Foot
xml = xal + k2 * sin(tfl) + k1 * cos(tfl);
xml_dt = xal_dt + tfl_dt * k2 * cos(tfl) - tfl_dt * k1 * sin(tfl);
yml = yal - k2 * cos(tfl) + k1 * sin(tfl);
yml_dt = yal_dt + tfl_dt * k2 * sin(tfl) + tfl_dt * k1 * cos(tfl);

% Calculate Foot Position for Left Foot
xfl = xml + Ltoe * cos(ttoel);
xfl_dt = xml_dt - ttoel_dt * Ltoe * sin(ttoel);
yfl = yml + Ltoe * sin(ttoel);
yfl_dt = yml_dt + ttoel_dt * Ltoe * cos(ttoel);

% Calculate Backfoot Position for Left Foot
xbl = xal + p1 * sin(tfl) - p2 * cos(tfl);
xbl_dt = xal_dt + tfl_dt * p1 * cos(tfl) + tfl_dt * p2 * sin(tfl);
ybl = yal - p1 * cos(tfl) - p2 * sin(tfl) - 0.03;
ybl_dt = yal_dt + tfl_dt * p1 * sin(tfl) - tfl_dt * p2 * cos(tfl);

% Calculate Normal Forces
Nfr = (4 / 3) * (km ^ (3 / 2)) * sqrt(Rm) * (0.5 + 0.5 * tanh(-yfr)) * ((-yfr) ^ (3 / 2)) * (0.5 + 0.5 * tanh(1 * (-yfr_dt + (2 / 3 * cm)))) * (1 - 1.5 * cm * yfr_dt);
Nrr = (4 / 3) * (kb ^ (3 / 2)) * sqrt(Rb) * (0.5 + 0.5 * tanh(-ybr)) * ((-ybr) ^ (3 / 2)) * (0.5 + 0.5 * tanh(1 * (-ybr_dt + (2 / 3 * cb)))) * (1 - 1.5 * cb * ybr_dt);
Nfl = (4 / 3) * (km ^ (3 / 2)) * sqrt(Rm) * (0.5 + 0.5 * tanh(-yfl)) * ((-yfl) ^ (3 / 2)) * (0.5 + 0.5 * tanh(1 * (-yfl_dt + (2 / 3 * cm)))) * (1 - 1.5 * cm * yfl_dt);
Nrl = (4 / 3) * (kb ^ (3 / 2)) * sqrt(Rb) * (0.5 + 0.5 * tanh(-ybl)) * ((-ybl) ^ (3 / 2)) * (0.5 + 0.5 * tanh(1 * (-ybl_dt + (2 / 3 * cb)))) * (1 - 1.5 * cb * ybl_dt);

% Ensure real values
if imag(Nfr) ~= 0
    Nfr = real(Nfr);
end
if imag(Nrr) ~= 0
    Nrr = real(Nrr);
end
if imag(Nfl) ~= 0
    Nfl = real(Nfl);
end
if imag(Nrl) ~= 0
    Nrl = real(Nrl);
end

% Calculate Contact Forces
Ffr = Nfr * (ud + (us - ud) * exp(-1 * (abs(xfr_dt) / vt) .^ 2)) .* tanh(-1.5 * xfr_dt);
Frr = Nrr * (ud + (us - ud) * exp(-1 * (abs(xbr_dt) / vt) .^ 2)) .* tanh(-1.5 * xbr_dt);
Ffl = Nfl * (ud + (us - ud) * exp(-1 * (abs(xfl_dt) / vt) .^ 2)) .* tanh(-1.5 * xfl_dt);
Frl = Nrl * (ud + (us - ud) * exp(-1 * (abs(xbl_dt) / vt) .^ 2)) .* tanh(-1.5 * xbl_dt);

Fmr=0;Nmr=0;Fml=0;Nml=0;

%% Compute Joint Torque

% M0 and V0 are matrices of Biped Dynamic Equation, derived by Lagrang
% method. 


M0 = [                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             2*mf*Hfgx^2 - 4*mf*Hfgx*Lfb + mf*Hfgy^2 + 2*mf*Lfb^2 + mtoe*Lgtoex^2 + 2*mtoe*Lgtoex*k1 + mtoe*Lgtoey^2 + 2*mtoe*Lgtoey*k2 + mtoe*k1^2 + mtoe*k2^2 + If + Itoe,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       2*mf*Hfgx^2 - 4*mf*Hfgx*Lfb - Ls*mf*sin(tar)*Hfgx + mf*Hfgy^2 + Ls*mf*cos(tar)*Hfgy + 2*mf*Lfb^2 + Ls*mf*sin(tar)*Lfb + mtoe*Lgtoex^2 + 2*mtoe*Lgtoex*k1 - Ls*mtoe*sin(tar)*Lgtoex + mtoe*Lgtoey^2 + 2*mtoe*Lgtoey*k2 + Ls*mtoe*cos(tar)*Lgtoey + mtoe*k1^2 - Ls*mtoe*sin(tar)*k1 + mtoe*k2^2 + Ls*mtoe*cos(tar)*k2 + If + Itoe,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 If + Itoe + 2*Hfgx^2*mf + Hfgy^2*mf + 2*Lfb^2*mf + Lgtoex^2*mtoe + Lgtoey^2*mtoe + k1^2*mtoe + k2^2*mtoe - 4*Hfgx*Lfb*mf + 2*Lgtoex*k1*mtoe + 2*Lgtoey*k2*mtoe - Hfgx*mf*t1*cos(tar + tkr) + Hfgy*mf*t2*cos(tar + tkr) + Lfb*mf*t1*cos(tar + tkr) - Lgtoex*mtoe*t1*cos(tar + tkr) + Lgtoey*mtoe*t2*cos(tar + tkr) - Hfgx*mf*t2*sin(tar + tkr) - Hfgy*mf*t1*sin(tar + tkr) + Lfb*mf*t2*sin(tar + tkr) - Lgtoex*mtoe*t2*sin(tar + tkr) - Lgtoey*mtoe*t1*sin(tar + tkr) - k1*mtoe*t1*cos(tar + tkr) + k2*mtoe*t2*cos(tar + tkr) - k1*mtoe*t2*sin(tar + tkr) - k2*mtoe*t1*sin(tar + tkr) + Hfgy*Ls*mf*cos(tar) + Lgtoey*Ls*mtoe*cos(tar) - Hfgx*Ls*mf*sin(tar) + Lfb*Ls*mf*sin(tar) - Lgtoex*Ls*mtoe*sin(tar) + Ls*k2*mtoe*cos(tar) - Ls*k1*mtoe*sin(tar),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   Hfgy*mf*sin(tal - tar + thl - thr + tkl - tkr)*(Hfgx - Lfb),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         mf*(Hfgy*sin(tal - tar + thl - thr + tkl - tkr) - Ls*sin(tar - thl + thr - tkl + tkr))*(Hfgx - Lfb),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              mf*cos(tar + thr + tkr + tu)*(Hfgx - Lfb)*(Hfgy*sin(tal + thl + tkl + tu) + Ls*sin(thl + tkl + tu) - t1*cos(thl + tu) + t2*sin(thl + tu)) - mf*sin(tar + thr + tkr + tu)*(Hfgx - Lfb)*(Hfgy*cos(tal + thl + tkl + tu) + Ls*cos(thl + tkl + tu) + t2*cos(thl + tu) + t1*sin(thl + tu)),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          If + Itoe + 2*Hfgx^2*mf + Hfgy^2*mf + 2*Lfb^2*mf + Lgtoex^2*mtoe + Lgtoey^2*mtoe + k1^2*mtoe + k2^2*mtoe - 4*Hfgx*Lfb*mf + 2*Lgtoex*k1*mtoe + 2*Lgtoey*k2*mtoe - 2*Hfgx*a2*mf*sin(tar + thr + tkr) - Hfgy*a1*mf*sin(tar + thr + tkr) + 2*Lfb*a2*mf*sin(tar + thr + tkr) - Lgtoex*a2*mtoe*sin(tar + thr + tkr) - Lgtoey*a1*mtoe*sin(tar + thr + tkr) - a1*k1*mtoe*cos(tar + thr + tkr) + a2*k2*mtoe*cos(tar + thr + tkr) - Hfgx*mf*t1*cos(tar + tkr) + Hfgy*mf*t2*cos(tar + tkr) + Lfb*mf*t1*cos(tar + tkr) - Lgtoex*mtoe*t1*cos(tar + tkr) + Lgtoey*mtoe*t2*cos(tar + tkr) - a1*k2*mtoe*sin(tar + thr + tkr) - a2*k1*mtoe*sin(tar + thr + tkr) - Hfgx*mf*t2*sin(tar + tkr) - Hfgy*mf*t1*sin(tar + tkr) + Lfb*mf*t2*sin(tar + tkr) - Lgtoex*mtoe*t2*sin(tar + tkr) - Lgtoey*mtoe*t1*sin(tar + tkr) - k1*mtoe*t1*cos(tar + tkr) + k2*mtoe*t2*cos(tar + tkr) - Hfgx*mf*t1*cos(tar - thl + thr + tkr) - k1*mtoe*t2*sin(tar + tkr) - k2*mtoe*t1*sin(tar + tkr) + Lfb*mf*t1*cos(tar - thl + thr + tkr) - Hfgx*mf*t2*sin(tar - thl + thr + tkr) + Lfb*mf*t2*sin(tar - thl + thr + tkr) - Hfgx*Ls*mf*sin(tar - thl + thr - tkl + tkr) + Lfb*Ls*mf*sin(tar - thl + thr - tkl + tkr) + Hfgy*Ls*mf*cos(tar) + Lgtoey*Ls*mtoe*cos(tar) - Hfgx*Ls*mf*sin(tar) + Hfgx*Hfgy*mf*sin(tal - tar + thl - thr + tkl - tkr) + Lfb*Ls*mf*sin(tar) - Lgtoex*Ls*mtoe*sin(tar) - Hfgy*Lfb*mf*sin(tal - tar + thl - thr + tkl - tkr) + Ls*k2*mtoe*cos(tar) - Ls*k1*mtoe*sin(tar) - 2*Hfgx*a1*mf*cos(tar + thr + tkr) + Hfgy*a2*mf*cos(tar + thr + tkr) + 2*Lfb*a1*mf*cos(tar + thr + tkr) - Lgtoex*a1*mtoe*cos(tar + thr + tkr) + Lgtoey*a2*mtoe*cos(tar + thr + tkr),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        mf*(Hfgy*cos(tar + thr + tkr + tu) - sin(tar + thr + tkr + tu)*(Hfgx - Lfb)) + mtoe*(Lgtoey*cos(tar + thr + tkr + tu) - Lgtoex*sin(tar + thr + tkr + tu) + k2*cos(tar + thr + tkr + tu) - k1*sin(tar + thr + tkr + tu)) - mf*sin(tar + thr + tkr + tu)*(Hfgx - Lfb),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        mf*(cos(tar + thr + tkr + tu)*(Hfgx - Lfb) + Hfgy*sin(tar + thr + tkr + tu)) + mtoe*(Lgtoex*cos(tar + thr + tkr + tu) + Lgtoey*sin(tar + thr + tkr + tu) + k1*cos(tar + thr + tkr + tu) + k2*sin(tar + thr + tkr + tu)) + mf*cos(tar + thr + tkr + tu)*(Hfgx - Lfb)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       2*mf*Hfgx^2 - 4*mf*Hfgx*Lfb - Ls*mf*sin(tar)*Hfgx + mf*Hfgy^2 + Ls*mf*cos(tar)*Hfgy + 2*mf*Lfb^2 + Ls*mf*sin(tar)*Lfb + mtoe*Lgtoex^2 + 2*mtoe*Lgtoex*k1 - Ls*mtoe*sin(tar)*Lgtoex + mtoe*Lgtoey^2 + 2*mtoe*Lgtoey*k2 + Ls*mtoe*cos(tar)*Lgtoey + mtoe*k1^2 - Ls*mtoe*sin(tar)*k1 + mtoe*k2^2 + Ls*mtoe*cos(tar)*k2 + If + Itoe,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   If + Is + Itoe + 2*Hfgx^2*mf + Hfgy^2*mf + 2*Lfb^2*mf + Ls^2*mf + Lgs^2*ms + Lgtoex^2*mtoe + Lgtoey^2*mtoe + Ls^2*mtoe + k1^2*mtoe + k2^2*mtoe - 4*Hfgx*Lfb*mf + 2*Lgtoex*k1*mtoe + 2*Lgtoey*k2*mtoe + 2*Hfgy*Ls*mf*cos(tar) + 2*Lgtoey*Ls*mtoe*cos(tar) - 2*Hfgx*Ls*mf*sin(tar) + 2*Lfb*Ls*mf*sin(tar) - 2*Lgtoex*Ls*mtoe*sin(tar) + 2*Ls*k2*mtoe*cos(tar) - 2*Ls*k1*mtoe*sin(tar),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       If + Is + Itoe + 2*Hfgx^2*mf + Hfgy^2*mf + 2*Lfb^2*mf + Ls^2*mf + Lgs^2*ms + Lgtoex^2*mtoe + Lgtoey^2*mtoe + Ls^2*mtoe + k1^2*mtoe + k2^2*mtoe - 4*Hfgx*Lfb*mf + 2*Lgtoex*k1*mtoe + 2*Lgtoey*k2*mtoe - Hfgx*mf*t1*cos(tar + tkr) + Hfgy*mf*t2*cos(tar + tkr) + Lfb*mf*t1*cos(tar + tkr) - Lgtoex*mtoe*t1*cos(tar + tkr) + Lgtoey*mtoe*t2*cos(tar + tkr) - Hfgx*mf*t2*sin(tar + tkr) - Hfgy*mf*t1*sin(tar + tkr) + Lfb*mf*t2*sin(tar + tkr) - Lgtoex*mtoe*t2*sin(tar + tkr) - Lgtoey*mtoe*t1*sin(tar + tkr) - k1*mtoe*t1*cos(tar + tkr) + k2*mtoe*t2*cos(tar + tkr) - k1*mtoe*t2*sin(tar + tkr) - k2*mtoe*t1*sin(tar + tkr) + 2*Hfgy*Ls*mf*cos(tar) + 2*Lgtoey*Ls*mtoe*cos(tar) - 2*Hfgx*Ls*mf*sin(tar) + 2*Lfb*Ls*mf*sin(tar) - 2*Lgtoex*Ls*mtoe*sin(tar) + 2*Ls*k2*mtoe*cos(tar) + Ls*mf*t2*cos(tkr) + Lgs*ms*t2*cos(tkr) + Ls*mtoe*t2*cos(tkr) - 2*Ls*k1*mtoe*sin(tar) - Ls*mf*t1*sin(tkr) - Lgs*ms*t1*sin(tkr) - Ls*mtoe*t1*sin(tkr),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   Hfgy*mf*sin(tal - tar + thl - thr + tkl - tkr)*(Hfgx - Lfb),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         mf*(Hfgy*sin(tal - tar + thl - thr + tkl - tkr) - Ls*sin(tar - thl + thr - tkl + tkr))*(Hfgx - Lfb),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              mf*cos(tar + thr + tkr + tu)*(Hfgx - Lfb)*(Hfgy*sin(tal + thl + tkl + tu) + Ls*sin(thl + tkl + tu) - t1*cos(thl + tu) + t2*sin(thl + tu)) - mf*sin(tar + thr + tkr + tu)*(Hfgx - Lfb)*(Hfgy*cos(tal + thl + tkl + tu) + Ls*cos(thl + tkl + tu) + t2*cos(thl + tu) + t1*sin(thl + tu)),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          If + Is + Itoe + 2*Hfgx^2*mf + Hfgy^2*mf + 2*Lfb^2*mf + Ls^2*mf + Lgs^2*ms + Lgtoex^2*mtoe + Lgtoey^2*mtoe + Ls^2*mtoe + k1^2*mtoe + k2^2*mtoe - 4*Hfgx*Lfb*mf + 2*Lgtoex*k1*mtoe + 2*Lgtoey*k2*mtoe - 2*Hfgx*a2*mf*sin(tar + thr + tkr) - Hfgy*a1*mf*sin(tar + thr + tkr) + 2*Lfb*a2*mf*sin(tar + thr + tkr) - Lgtoex*a2*mtoe*sin(tar + thr + tkr) - Lgtoey*a1*mtoe*sin(tar + thr + tkr) + Ls*a2*mf*cos(thr + tkr) + Lgs*a2*ms*cos(thr + tkr) + Ls*a2*mtoe*cos(thr + tkr) - a1*k1*mtoe*cos(tar + thr + tkr) + a2*k2*mtoe*cos(tar + thr + tkr) - Hfgx*mf*t1*cos(tar + tkr) + Hfgy*mf*t2*cos(tar + tkr) - Ls*a1*mf*sin(thr + tkr) - Lgs*a1*ms*sin(thr + tkr) - Ls*a1*mtoe*sin(thr + tkr) + Lfb*mf*t1*cos(tar + tkr) - Lgtoex*mtoe*t1*cos(tar + tkr) + Lgtoey*mtoe*t2*cos(tar + tkr) - a1*k2*mtoe*sin(tar + thr + tkr) - a2*k1*mtoe*sin(tar + thr + tkr) - Hfgx*mf*t2*sin(tar + tkr) - Hfgy*mf*t1*sin(tar + tkr) + Lfb*mf*t2*sin(tar + tkr) - Lgtoex*mtoe*t2*sin(tar + tkr) - Lgtoey*mtoe*t1*sin(tar + tkr) - k1*mtoe*t1*cos(tar + tkr) + k2*mtoe*t2*cos(tar + tkr) - Hfgx*mf*t1*cos(tar - thl + thr + tkr) - k1*mtoe*t2*sin(tar + tkr) - k2*mtoe*t1*sin(tar + tkr) + Lfb*mf*t1*cos(tar - thl + thr + tkr) - Hfgx*mf*t2*sin(tar - thl + thr + tkr) + Lfb*mf*t2*sin(tar - thl + thr + tkr) - Hfgx*Ls*mf*sin(tar - thl + thr - tkl + tkr) + Lfb*Ls*mf*sin(tar - thl + thr - tkl + tkr) + 2*Hfgy*Ls*mf*cos(tar) + 2*Lgtoey*Ls*mtoe*cos(tar) - 2*Hfgx*Ls*mf*sin(tar) + Hfgx*Hfgy*mf*sin(tal - tar + thl - thr + tkl - tkr) + 2*Lfb*Ls*mf*sin(tar) - 2*Lgtoex*Ls*mtoe*sin(tar) - Hfgy*Lfb*mf*sin(tal - tar + thl - thr + tkl - tkr) + 2*Ls*k2*mtoe*cos(tar) + Ls*mf*t2*cos(tkr) + Lgs*ms*t2*cos(tkr) + Ls*mtoe*t2*cos(tkr) - 2*Ls*k1*mtoe*sin(tar) - Ls*mf*t1*sin(tkr) - Lgs*ms*t1*sin(tkr) - Ls*mtoe*t1*sin(tkr) - 2*Hfgx*a1*mf*cos(tar + thr + tkr) + Hfgy*a2*mf*cos(tar + thr + tkr) + 2*Lfb*a1*mf*cos(tar + thr + tkr) - Lgtoex*a1*mtoe*cos(tar + thr + tkr) + Lgtoey*a2*mtoe*cos(tar + thr + tkr),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     Hfgy*mf*cos(tar + thr + tkr + tu) + Lgtoey*mtoe*cos(tar + thr + tkr + tu) - 2*Hfgx*mf*sin(tar + thr + tkr + tu) + 2*Lfb*mf*sin(tar + thr + tkr + tu) - Lgtoex*mtoe*sin(tar + thr + tkr + tu) + Ls*mf*cos(thr + tkr + tu) + Lgs*ms*cos(thr + tkr + tu) + Ls*mtoe*cos(thr + tkr + tu) + k2*mtoe*cos(tar + thr + tkr + tu) - k1*mtoe*sin(tar + thr + tkr + tu),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     2*Hfgx*mf*cos(tar + thr + tkr + tu) - 2*Lfb*mf*cos(tar + thr + tkr + tu) + Lgtoex*mtoe*cos(tar + thr + tkr + tu) + Hfgy*mf*sin(tar + thr + tkr + tu) + Lgtoey*mtoe*sin(tar + thr + tkr + tu) + k1*mtoe*cos(tar + thr + tkr + tu) + Ls*mf*sin(thr + tkr + tu) + Lgs*ms*sin(thr + tkr + tu) + Ls*mtoe*sin(thr + tkr + tu) + k2*mtoe*sin(tar + thr + tkr + tu)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             If + Itoe + 2*Hfgx^2*mf + Hfgy^2*mf + 2*Lfb^2*mf + Lgtoex^2*mtoe + Lgtoey^2*mtoe + k1^2*mtoe + k2^2*mtoe - 4*Hfgx*Lfb*mf + 2*Lgtoex*k1*mtoe + 2*Lgtoey*k2*mtoe - Hfgx*mf*t1*cos(tar + tkr) + Hfgy*mf*t2*cos(tar + tkr) + Lfb*mf*t1*cos(tar + tkr) - Lgtoex*mtoe*t1*cos(tar + tkr) + Lgtoey*mtoe*t2*cos(tar + tkr) - Hfgx*mf*t2*sin(tar + tkr) - Hfgy*mf*t1*sin(tar + tkr) + Lfb*mf*t2*sin(tar + tkr) - Lgtoex*mtoe*t2*sin(tar + tkr) - Lgtoey*mtoe*t1*sin(tar + tkr) - k1*mtoe*t1*cos(tar + tkr) + k2*mtoe*t2*cos(tar + tkr) - k1*mtoe*t2*sin(tar + tkr) - k2*mtoe*t1*sin(tar + tkr) + Hfgy*Ls*mf*cos(tar) + Lgtoey*Ls*mtoe*cos(tar) - Hfgx*Ls*mf*sin(tar) + Lfb*Ls*mf*sin(tar) - Lgtoex*Ls*mtoe*sin(tar) + Ls*k2*mtoe*cos(tar) - Ls*k1*mtoe*sin(tar),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   If + Is + Itoe + 2*Hfgx^2*mf + Hfgy^2*mf + 2*Lfb^2*mf + Ls^2*mf + Lgs^2*ms + Lgtoex^2*mtoe + Lgtoey^2*mtoe + Ls^2*mtoe + k1^2*mtoe + k2^2*mtoe - 4*Hfgx*Lfb*mf + 2*Lgtoex*k1*mtoe + 2*Lgtoey*k2*mtoe - Hfgx*mf*t1*cos(tar + tkr) + Hfgy*mf*t2*cos(tar + tkr) + Lfb*mf*t1*cos(tar + tkr) - Lgtoex*mtoe*t1*cos(tar + tkr) + Lgtoey*mtoe*t2*cos(tar + tkr) - Hfgx*mf*t2*sin(tar + tkr) - Hfgy*mf*t1*sin(tar + tkr) + Lfb*mf*t2*sin(tar + tkr) - Lgtoex*mtoe*t2*sin(tar + tkr) - Lgtoey*mtoe*t1*sin(tar + tkr) - k1*mtoe*t1*cos(tar + tkr) + k2*mtoe*t2*cos(tar + tkr) - k1*mtoe*t2*sin(tar + tkr) - k2*mtoe*t1*sin(tar + tkr) + 2*Hfgy*Ls*mf*cos(tar) + 2*Lgtoey*Ls*mtoe*cos(tar) - 2*Hfgx*Ls*mf*sin(tar) + 2*Lfb*Ls*mf*sin(tar) - 2*Lgtoex*Ls*mtoe*sin(tar) + 2*Ls*k2*mtoe*cos(tar) + Ls*mf*t2*cos(tkr) + Lgs*ms*t2*cos(tkr) + Ls*mtoe*t2*cos(tkr) - 2*Ls*k1*mtoe*sin(tar) - Ls*mf*t1*sin(tkr) - Lgs*ms*t1*sin(tkr) - Ls*mtoe*t1*sin(tkr),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               If + Is + It + Itoe + 2*Hfgx^2*mf + Hfgy^2*mf + 2*Lfb^2*mf + Ls^2*mf + Lgs^2*ms + Lgt^2*mt + Lgtoex^2*mtoe + Lgtoey^2*mtoe + Ls^2*mtoe + k1^2*mtoe + k2^2*mtoe + mf*t1^2 + mf*t2^2 + ms*t1^2 + ms*t2^2 + mtoe*t1^2 + mtoe*t2^2 - 4*Hfgx*Lfb*mf + 2*Lgtoex*k1*mtoe + 2*Lgtoey*k2*mtoe - 2*Hfgx*mf*t1*cos(tar + tkr) + 2*Hfgy*mf*t2*cos(tar + tkr) + 2*Lfb*mf*t1*cos(tar + tkr) - 2*Lgtoex*mtoe*t1*cos(tar + tkr) + 2*Lgtoey*mtoe*t2*cos(tar + tkr) - 2*Hfgx*mf*t2*sin(tar + tkr) - 2*Hfgy*mf*t1*sin(tar + tkr) + 2*Lfb*mf*t2*sin(tar + tkr) - 2*Lgtoex*mtoe*t2*sin(tar + tkr) - 2*Lgtoey*mtoe*t1*sin(tar + tkr) - 2*k1*mtoe*t1*cos(tar + tkr) + 2*k2*mtoe*t2*cos(tar + tkr) - 2*k1*mtoe*t2*sin(tar + tkr) - 2*k2*mtoe*t1*sin(tar + tkr) + 2*Hfgy*Ls*mf*cos(tar) + 2*Lgtoey*Ls*mtoe*cos(tar) - 2*Hfgx*Ls*mf*sin(tar) + 2*Lfb*Ls*mf*sin(tar) - 2*Lgtoex*Ls*mtoe*sin(tar) + 2*Ls*k2*mtoe*cos(tar) + 2*Ls*mf*t2*cos(tkr) + 2*Lgs*ms*t2*cos(tkr) + 2*Ls*mtoe*t2*cos(tkr) - 2*Ls*k1*mtoe*sin(tar) - 2*Ls*mf*t1*sin(tkr) - 2*Lgs*ms*t1*sin(tkr) - 2*Ls*mtoe*t1*sin(tkr),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   Hfgy*mf*sin(tal - tar + thl - thr + tkl - tkr)*(Hfgx - Lfb),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         mf*(Hfgy*sin(tal - tar + thl - thr + tkl - tkr) - Ls*sin(tar - thl + thr - tkl + tkr))*(Hfgx - Lfb),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              mf*cos(tar + thr + tkr + tu)*(Hfgx - Lfb)*(Hfgy*sin(tal + thl + tkl + tu) + Ls*sin(thl + tkl + tu) - t1*cos(thl + tu) + t2*sin(thl + tu)) - mf*sin(tar + thr + tkr + tu)*(Hfgx - Lfb)*(Hfgy*cos(tal + thl + tkl + tu) + Ls*cos(thl + tkl + tu) + t2*cos(thl + tu) + t1*sin(thl + tu)),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      If + Is + It + Itoe + 2*Hfgx^2*mf + Hfgy^2*mf + 2*Lfb^2*mf + Ls^2*mf + Lgs^2*ms + Lgt^2*mt + Lgtoex^2*mtoe + Lgtoey^2*mtoe + Ls^2*mtoe + k1^2*mtoe + k2^2*mtoe + mf*t1^2 + mf*t2^2 + ms*t1^2 + ms*t2^2 + mtoe*t1^2 + mtoe*t2^2 - 4*Hfgx*Lfb*mf + 2*Lgtoex*k1*mtoe + 2*Lgtoey*k2*mtoe - 2*Hfgx*a2*mf*sin(tar + thr + tkr) - Hfgy*a1*mf*sin(tar + thr + tkr) + 2*Lfb*a2*mf*sin(tar + thr + tkr) - Lgtoex*a2*mtoe*sin(tar + thr + tkr) - Lgtoey*a1*mtoe*sin(tar + thr + tkr) + Ls*a2*mf*cos(thr + tkr) + Lgs*a2*ms*cos(thr + tkr) + Ls*a2*mtoe*cos(thr + tkr) - a1*k1*mtoe*cos(tar + thr + tkr) + a2*k2*mtoe*cos(tar + thr + tkr) - 2*Hfgx*mf*t1*cos(tar + tkr) + 2*Hfgy*mf*t2*cos(tar + tkr) - Ls*a1*mf*sin(thr + tkr) - Lgs*a1*ms*sin(thr + tkr) - Ls*a1*mtoe*sin(thr + tkr) + 2*Lfb*mf*t1*cos(tar + tkr) - 2*Lgtoex*mtoe*t1*cos(tar + tkr) + 2*Lgtoey*mtoe*t2*cos(tar + tkr) - a1*k2*mtoe*sin(tar + thr + tkr) - a2*k1*mtoe*sin(tar + thr + tkr) - 2*Hfgx*mf*t2*sin(tar + tkr) - 2*Hfgy*mf*t1*sin(tar + tkr) + 2*Lfb*mf*t2*sin(tar + tkr) - 2*Lgtoex*mtoe*t2*sin(tar + tkr) - 2*Lgtoey*mtoe*t1*sin(tar + tkr) - 2*k1*mtoe*t1*cos(tar + tkr) + 2*k2*mtoe*t2*cos(tar + tkr) - Hfgx*mf*t1*cos(tar - thl + thr + tkr) - 2*k1*mtoe*t2*sin(tar + tkr) - 2*k2*mtoe*t1*sin(tar + tkr) + Lfb*mf*t1*cos(tar - thl + thr + tkr) - Hfgx*mf*t2*sin(tar - thl + thr + tkr) + Lfb*mf*t2*sin(tar - thl + thr + tkr) - Hfgx*Ls*mf*sin(tar - thl + thr - tkl + tkr) + Lfb*Ls*mf*sin(tar - thl + thr - tkl + tkr) + 2*Hfgy*Ls*mf*cos(tar) + 2*Lgtoey*Ls*mtoe*cos(tar) - 2*Hfgx*Ls*mf*sin(tar) + Hfgx*Hfgy*mf*sin(tal - tar + thl - thr + tkl - tkr) + 2*Lfb*Ls*mf*sin(tar) - 2*Lgtoex*Ls*mtoe*sin(tar) - Hfgy*Lfb*mf*sin(tal - tar + thl - thr + tkl - tkr) + Lgt*a2*mt*cos(thr) + 2*Ls*k2*mtoe*cos(tar) - Lgt*a1*mt*sin(thr) + 2*Ls*mf*t2*cos(tkr) + 2*Lgs*ms*t2*cos(tkr) + 2*Ls*mtoe*t2*cos(tkr) - 2*Ls*k1*mtoe*sin(tar) - 2*Ls*mf*t1*sin(tkr) - 2*Lgs*ms*t1*sin(tkr) - 2*Ls*mtoe*t1*sin(tkr) + a1*mf*t1*cos(thr) + a2*mf*t2*cos(thr) + a1*ms*t1*cos(thr) + a2*ms*t2*cos(thr) + a1*mtoe*t1*cos(thr) + a2*mtoe*t2*cos(thr) - 2*Hfgx*a1*mf*cos(tar + thr + tkr) + Hfgy*a2*mf*cos(tar + thr + tkr) + 2*Lfb*a1*mf*cos(tar + thr + tkr) - Lgtoex*a1*mtoe*cos(tar + thr + tkr) + Lgtoey*a2*mtoe*cos(tar + thr + tkr) - a1*mf*t2*sin(thr) + a2*mf*t1*sin(thr) - a1*ms*t2*sin(thr) + a2*ms*t1*sin(thr) - a1*mtoe*t2*sin(thr) + a2*mtoe*t1*sin(thr),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            Hfgy*mf*cos(tar + thr + tkr + tu) + Lgtoey*mtoe*cos(tar + thr + tkr + tu) - 2*Hfgx*mf*sin(tar + thr + tkr + tu) + 2*Lfb*mf*sin(tar + thr + tkr + tu) - Lgtoex*mtoe*sin(tar + thr + tkr + tu) + Ls*mf*cos(thr + tkr + tu) + Lgs*ms*cos(thr + tkr + tu) + Ls*mtoe*cos(thr + tkr + tu) + k2*mtoe*cos(tar + thr + tkr + tu) - k1*mtoe*sin(tar + thr + tkr + tu) + Lgt*mt*cos(thr + tu) + mf*t2*cos(thr + tu) + ms*t2*cos(thr + tu) + mtoe*t2*cos(thr + tu) + mf*t1*sin(thr + tu) + ms*t1*sin(thr + tu) + mtoe*t1*sin(thr + tu),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            2*Hfgx*mf*cos(tar + thr + tkr + tu) - 2*Lfb*mf*cos(tar + thr + tkr + tu) + Lgtoex*mtoe*cos(tar + thr + tkr + tu) + Hfgy*mf*sin(tar + thr + tkr + tu) + Lgtoey*mtoe*sin(tar + thr + tkr + tu) + k1*mtoe*cos(tar + thr + tkr + tu) + Ls*mf*sin(thr + tkr + tu) + Lgs*ms*sin(thr + tkr + tu) + Ls*mtoe*sin(thr + tkr + tu) + k2*mtoe*sin(tar + thr + tkr + tu) + Lgt*mt*sin(thr + tu) - mf*t1*cos(thr + tu) - ms*t1*cos(thr + tu) - mtoe*t1*cos(thr + tu) + mf*t2*sin(thr + tu) + ms*t2*sin(thr + tu) + mtoe*t2*sin(thr + tu)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              Hfgy*mf*sin(tal - tar + thl - thr + tkl - tkr)*(Hfgx - Lfb),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              Hfgy*mf*sin(tal - tar + thl - thr + tkl - tkr)*(Hfgx - Lfb),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  Hfgy*mf*sin(tal - tar + thl - thr + tkl - tkr)*(Hfgx - Lfb),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             mf*Hfgy^2 + mtoe*Lgtoex^2 + 2*mtoe*Lgtoex*k1 + mtoe*Lgtoey^2 - 2*mtoe*Lgtoey*k2 + mtoe*k1^2 + mtoe*k2^2 + If + Itoe,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     mf*Hfgy^2 + Ls*mf*cos(tal)*Hfgy + mtoe*Lgtoex^2 + 2*mtoe*Lgtoex*k1 - Ls*mtoe*sin(tal)*Lgtoex + mtoe*Lgtoey^2 - 2*mtoe*Lgtoey*k2 - Ls*mtoe*cos(tal)*Lgtoey + mtoe*k1^2 - Ls*mtoe*sin(tal)*k1 + mtoe*k2^2 + Ls*mtoe*cos(tal)*k2 + If + Itoe,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 If + Itoe + Hfgy^2*mf + Lgtoex^2*mtoe + Lgtoey^2*mtoe + k1^2*mtoe + k2^2*mtoe + 2*Lgtoex*k1*mtoe - 2*Lgtoey*k2*mtoe + Hfgy*mf*t2*cos(tal + tkl) - Lgtoex*mtoe*t1*cos(tal + tkl) - Lgtoey*mtoe*t2*cos(tal + tkl) - Hfgy*mf*t1*sin(tal + tkl) - Lgtoex*mtoe*t2*sin(tal + tkl) + Lgtoey*mtoe*t1*sin(tal + tkl) - k1*mtoe*t1*cos(tal + tkl) + k2*mtoe*t2*cos(tal + tkl) - k1*mtoe*t2*sin(tal + tkl) - k2*mtoe*t1*sin(tal + tkl) + Hfgy*Ls*mf*cos(tal) - Lgtoey*Ls*mtoe*cos(tal) - Lgtoex*Ls*mtoe*sin(tal) + Ls*k2*mtoe*cos(tal) - Ls*k1*mtoe*sin(tal),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     If + Itoe + Hfgy^2*mf + Lgtoex^2*mtoe + Lgtoey^2*mtoe + k1^2*mtoe + k2^2*mtoe + 2*Lgtoex*k1*mtoe - 2*Lgtoey*k2*mtoe - Hfgy*a1*mf*sin(tal + thl + tkl) - Lgtoex*a2*mtoe*sin(tal + thl + tkl) + Lgtoey*a1*mtoe*sin(tal + thl + tkl) - a1*k1*mtoe*cos(tal + thl + tkl) + a2*k2*mtoe*cos(tal + thl + tkl) + Hfgy*mf*t2*cos(tal + tkl) - Lgtoex*mtoe*t1*cos(tal + tkl) - Lgtoey*mtoe*t2*cos(tal + tkl) - a1*k2*mtoe*sin(tal + thl + tkl) - a2*k1*mtoe*sin(tal + thl + tkl) - Hfgy*mf*t1*sin(tal + tkl) - Lgtoex*mtoe*t2*sin(tal + tkl) + Lgtoey*mtoe*t1*sin(tal + tkl) - k1*mtoe*t1*cos(tal + tkl) + k2*mtoe*t2*cos(tal + tkl) - k1*mtoe*t2*sin(tal + tkl) - k2*mtoe*t1*sin(tal + tkl) + Hfgy*Ls*mf*cos(tal) - Lgtoey*Ls*mtoe*cos(tal) + Hfgx*Hfgy*mf*sin(tal - tar + thl - thr + tkl - tkr) - Lgtoex*Ls*mtoe*sin(tal) - Hfgy*Lfb*mf*sin(tal - tar + thl - thr + tkl - tkr) + Ls*k2*mtoe*cos(tal) - Ls*k1*mtoe*sin(tal) + Hfgy*a2*mf*cos(tal + thl + tkl) - Lgtoex*a1*mtoe*cos(tal + thl + tkl) - Lgtoey*a2*mtoe*cos(tal + thl + tkl),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       Hfgy*mf*cos(tal + thl + tkl + tu) - mtoe*(Lgtoey*cos(tal + thl + tkl + tu) + Lgtoex*sin(tal + thl + tkl + tu) - k2*cos(tal + thl + tkl + tu) + k1*sin(tal + thl + tkl + tu)),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       mtoe*(Lgtoex*cos(tal + thl + tkl + tu) - Lgtoey*sin(tal + thl + tkl + tu) + k1*cos(tal + thl + tkl + tu) + k2*sin(tal + thl + tkl + tu)) + Hfgy*mf*sin(tal + thl + tkl + tu)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       mf*(Hfgy*sin(tal - tar + thl - thr + tkl - tkr) - Ls*sin(tar - thl + thr - tkl + tkr))*(Hfgx - Lfb),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       mf*(Hfgy*sin(tal - tar + thl - thr + tkl - tkr) - Ls*sin(tar - thl + thr - tkl + tkr))*(Hfgx - Lfb),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           mf*(Hfgy*sin(tal - tar + thl - thr + tkl - tkr) - Ls*sin(tar - thl + thr - tkl + tkr))*(Hfgx - Lfb),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        mf*Hfgy^2 + Ls*mf*cos(tal)*Hfgy + mtoe*Lgtoex^2 + 2*mtoe*Lgtoex*k1 - Ls*mtoe*sin(tal)*Lgtoex + mtoe*Lgtoey^2 - 2*mtoe*Lgtoey*k2 - Ls*mtoe*cos(tal)*Lgtoey + mtoe*k1^2 - Ls*mtoe*sin(tal)*k1 + mtoe*k2^2 + Ls*mtoe*cos(tal)*k2 + If + Itoe,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     If + Is + Itoe + Hfgy^2*mf + Ls^2*mf + Lgs^2*ms + Lgtoex^2*mtoe + Lgtoey^2*mtoe + Ls^2*mtoe + k1^2*mtoe + k2^2*mtoe + 2*Lgtoex*k1*mtoe - 2*Lgtoey*k2*mtoe + 2*Hfgy*Ls*mf*cos(tal) - 2*Lgtoey*Ls*mtoe*cos(tal) - 2*Lgtoex*Ls*mtoe*sin(tal) + 2*Ls*k2*mtoe*cos(tal) - 2*Ls*k1*mtoe*sin(tal),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       If + Is + Itoe + Hfgy^2*mf + Ls^2*mf + Lgs^2*ms + Lgtoex^2*mtoe + Lgtoey^2*mtoe + Ls^2*mtoe + k1^2*mtoe + k2^2*mtoe + 2*Lgtoex*k1*mtoe - 2*Lgtoey*k2*mtoe + Hfgy*mf*t2*cos(tal + tkl) - Lgtoex*mtoe*t1*cos(tal + tkl) - Lgtoey*mtoe*t2*cos(tal + tkl) - Hfgy*mf*t1*sin(tal + tkl) - Lgtoex*mtoe*t2*sin(tal + tkl) + Lgtoey*mtoe*t1*sin(tal + tkl) - k1*mtoe*t1*cos(tal + tkl) + k2*mtoe*t2*cos(tal + tkl) - k1*mtoe*t2*sin(tal + tkl) - k2*mtoe*t1*sin(tal + tkl) + 2*Hfgy*Ls*mf*cos(tal) - 2*Lgtoey*Ls*mtoe*cos(tal) - 2*Lgtoex*Ls*mtoe*sin(tal) - Lgs*ms*t1*cos(2*thl + tkl + 2*tu) + 2*Ls*k2*mtoe*cos(tal) + Lgs*ms*t2*sin(2*thl + tkl + 2*tu) + Ls*mf*t2*cos(tkl) + Ls*mtoe*t2*cos(tkl) - 2*Ls*k1*mtoe*sin(tal) - Ls*mf*t1*sin(tkl) - Ls*mtoe*t1*sin(tkl),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        If + Is + Itoe + Hfgy^2*mf + Ls^2*mf + Lgs^2*ms + Lgtoex^2*mtoe + Lgtoey^2*mtoe + Ls^2*mtoe + k1^2*mtoe + k2^2*mtoe + 2*Lgtoex*k1*mtoe - 2*Lgtoey*k2*mtoe - Hfgy*a1*mf*sin(tal + thl + tkl) - Lgtoex*a2*mtoe*sin(tal + thl + tkl) + Lgtoey*a1*mtoe*sin(tal + thl + tkl) + Ls*a2*mf*cos(thl + tkl) + Ls*a2*mtoe*cos(thl + tkl) - a1*k1*mtoe*cos(tal + thl + tkl) + a2*k2*mtoe*cos(tal + thl + tkl) + Hfgy*mf*t2*cos(tal + tkl) - Ls*a1*mf*sin(thl + tkl) - Ls*a1*mtoe*sin(thl + tkl) - Lgtoex*mtoe*t1*cos(tal + tkl) - Lgtoey*mtoe*t2*cos(tal + tkl) - a1*k2*mtoe*sin(tal + thl + tkl) - a2*k1*mtoe*sin(tal + thl + tkl) - Hfgy*mf*t1*sin(tal + tkl) - Lgtoex*mtoe*t2*sin(tal + tkl) + Lgtoey*mtoe*t1*sin(tal + tkl) - k1*mtoe*t1*cos(tal + tkl) + k2*mtoe*t2*cos(tal + tkl) - k1*mtoe*t2*sin(tal + tkl) - k2*mtoe*t1*sin(tal + tkl) - Lgs*a1*ms*cos(thl + tkl + 2*tu) + Lgs*a2*ms*sin(thl + tkl + 2*tu) - Hfgx*Ls*mf*sin(tar - thl + thr - tkl + tkr) + Lfb*Ls*mf*sin(tar - thl + thr - tkl + tkr) + 2*Hfgy*Ls*mf*cos(tal) - 2*Lgtoey*Ls*mtoe*cos(tal) + Hfgx*Hfgy*mf*sin(tal - tar + thl - thr + tkl - tkr) - 2*Lgtoex*Ls*mtoe*sin(tal) - Hfgy*Lfb*mf*sin(tal - tar + thl - thr + tkl - tkr) - Lgs*ms*t1*cos(2*thl + tkl + 2*tu) + 2*Ls*k2*mtoe*cos(tal) + Lgs*ms*t2*sin(2*thl + tkl + 2*tu) + Ls*mf*t2*cos(tkl) + Ls*mtoe*t2*cos(tkl) - 2*Ls*k1*mtoe*sin(tal) - Ls*mf*t1*sin(tkl) - Ls*mtoe*t1*sin(tkl) + Hfgy*a2*mf*cos(tal + thl + tkl) - Lgtoex*a1*mtoe*cos(tal + thl + tkl) - Lgtoey*a2*mtoe*cos(tal + thl + tkl),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        Hfgy*mf*cos(tal + thl + tkl + tu) - Lgtoey*mtoe*cos(tal + thl + tkl + tu) - Lgtoex*mtoe*sin(tal + thl + tkl + tu) + Ls*mf*cos(thl + tkl + tu) + Ls*mtoe*cos(thl + tkl + tu) + k2*mtoe*cos(tal + thl + tkl + tu) + Lgs*ms*sin(thl + tkl + tu) - k1*mtoe*sin(tal + thl + tkl + tu),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        Lgtoex*mtoe*cos(tal + thl + tkl + tu) + Hfgy*mf*sin(tal + thl + tkl + tu) - Lgtoey*mtoe*sin(tal + thl + tkl + tu) + Lgs*ms*cos(thl + tkl + tu) + k1*mtoe*cos(tal + thl + tkl + tu) + Ls*mf*sin(thl + tkl + tu) + Ls*mtoe*sin(thl + tkl + tu) + k2*mtoe*sin(tal + thl + tkl + tu)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            mf*cos(tar + thr + tkr + tu)*(Hfgx - Lfb)*(Hfgy*sin(tal + thl + tkl + tu) + Ls*sin(thl + tkl + tu) - t1*cos(thl + tu) + t2*sin(thl + tu)) - mf*sin(tar + thr + tkr + tu)*(Hfgx - Lfb)*(Hfgy*cos(tal + thl + tkl + tu) + Ls*cos(thl + tkl + tu) + t2*cos(thl + tu) + t1*sin(thl + tu)),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            mf*cos(tar + thr + tkr + tu)*(Hfgx - Lfb)*(Hfgy*sin(tal + thl + tkl + tu) + Ls*sin(thl + tkl + tu) - t1*cos(thl + tu) + t2*sin(thl + tu)) - mf*sin(tar + thr + tkr + tu)*(Hfgx - Lfb)*(Hfgy*cos(tal + thl + tkl + tu) + Ls*cos(thl + tkl + tu) + t2*cos(thl + tu) + t1*sin(thl + tu)),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                mf*cos(tar + thr + tkr + tu)*(Hfgx - Lfb)*(Hfgy*sin(tal + thl + tkl + tu) + Ls*sin(thl + tkl + tu) - t1*cos(thl + tu) + t2*sin(thl + tu)) - mf*sin(tar + thr + tkr + tu)*(Hfgx - Lfb)*(Hfgy*cos(tal + thl + tkl + tu) + Ls*cos(thl + tkl + tu) + t2*cos(thl + tu) + t1*sin(thl + tu)),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    If + Itoe + Hfgy^2*mf + Lgtoex^2*mtoe + Lgtoey^2*mtoe + k1^2*mtoe + k2^2*mtoe + 2*Lgtoex*k1*mtoe - 2*Lgtoey*k2*mtoe + Hfgy*mf*t2*cos(tal + tkl) - Lgtoex*mtoe*t1*cos(tal + tkl) - Lgtoey*mtoe*t2*cos(tal + tkl) - Hfgy*mf*t1*sin(tal + tkl) - Lgtoex*mtoe*t2*sin(tal + tkl) + Lgtoey*mtoe*t1*sin(tal + tkl) - k1*mtoe*t1*cos(tal + tkl) + k2*mtoe*t2*cos(tal + tkl) - k1*mtoe*t2*sin(tal + tkl) - k2*mtoe*t1*sin(tal + tkl) + Hfgy*Ls*mf*cos(tal) - Lgtoey*Ls*mtoe*cos(tal) - Lgtoex*Ls*mtoe*sin(tal) + Ls*k2*mtoe*cos(tal) - Ls*k1*mtoe*sin(tal),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       If + Is + Itoe + Hfgy^2*mf + Ls^2*mf + Lgs^2*ms + Lgtoex^2*mtoe + Lgtoey^2*mtoe + Ls^2*mtoe + k1^2*mtoe + k2^2*mtoe + 2*Lgtoex*k1*mtoe - 2*Lgtoey*k2*mtoe + Hfgy*mf*t2*cos(tal + tkl) - Lgtoex*mtoe*t1*cos(tal + tkl) - Lgtoey*mtoe*t2*cos(tal + tkl) - Hfgy*mf*t1*sin(tal + tkl) - Lgtoex*mtoe*t2*sin(tal + tkl) + Lgtoey*mtoe*t1*sin(tal + tkl) - k1*mtoe*t1*cos(tal + tkl) + k2*mtoe*t2*cos(tal + tkl) - k1*mtoe*t2*sin(tal + tkl) - k2*mtoe*t1*sin(tal + tkl) + 2*Hfgy*Ls*mf*cos(tal) - 2*Lgtoey*Ls*mtoe*cos(tal) - 2*Lgtoex*Ls*mtoe*sin(tal) - Lgs*ms*t1*cos(2*thl + tkl + 2*tu) + 2*Ls*k2*mtoe*cos(tal) + Lgs*ms*t2*sin(2*thl + tkl + 2*tu) + Ls*mf*t2*cos(tkl) + Ls*mtoe*t2*cos(tkl) - 2*Ls*k1*mtoe*sin(tal) - Ls*mf*t1*sin(tkl) - Ls*mtoe*t1*sin(tkl),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       If + Is + It + Itoe + Hfgy^2*mf + Ls^2*mf + Lgs^2*ms + Lgt^2*mt + Lgtoex^2*mtoe + Lgtoey^2*mtoe + Ls^2*mtoe + k1^2*mtoe + k2^2*mtoe + mf*t1^2 + mf*t2^2 + ms*t1^2 + ms*t2^2 + mtoe*t1^2 + mtoe*t2^2 + 2*Lgtoex*k1*mtoe - 2*Lgtoey*k2*mtoe + 2*Hfgy*mf*t2*cos(tal + tkl) - 2*Lgtoex*mtoe*t1*cos(tal + tkl) - 2*Lgtoey*mtoe*t2*cos(tal + tkl) - 2*Hfgy*mf*t1*sin(tal + tkl) - 2*Lgtoex*mtoe*t2*sin(tal + tkl) + 2*Lgtoey*mtoe*t1*sin(tal + tkl) - 2*k1*mtoe*t1*cos(tal + tkl) + 2*k2*mtoe*t2*cos(tal + tkl) - 2*k1*mtoe*t2*sin(tal + tkl) - 2*k2*mtoe*t1*sin(tal + tkl) + 2*Hfgy*Ls*mf*cos(tal) - 2*Lgtoey*Ls*mtoe*cos(tal) - 2*Lgtoex*Ls*mtoe*sin(tal) - 2*Lgs*ms*t1*cos(2*thl + tkl + 2*tu) + 2*Ls*k2*mtoe*cos(tal) + 2*Lgs*ms*t2*sin(2*thl + tkl + 2*tu) + 2*Ls*mf*t2*cos(tkl) + 2*Ls*mtoe*t2*cos(tkl) - 2*Ls*k1*mtoe*sin(tal) - 2*Ls*mf*t1*sin(tkl) - 2*Ls*mtoe*t1*sin(tkl),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        If + Is + It + Itoe + Hfgy^2*mf + Ls^2*mf + Lgs^2*ms + Lgt^2*mt + Lgtoex^2*mtoe + Lgtoey^2*mtoe + Ls^2*mtoe + k1^2*mtoe + k2^2*mtoe + mf*t1^2 + mf*t2^2 + ms*t1^2 + ms*t2^2 + mtoe*t1^2 + mtoe*t2^2 + 2*Lgtoex*k1*mtoe - 2*Lgtoey*k2*mtoe - Hfgy*a1*mf*sin(tal + thl + tkl) - Lgtoex*a2*mtoe*sin(tal + thl + tkl) + Lgtoey*a1*mtoe*sin(tal + thl + tkl) + Ls*a2*mf*cos(thl + tkl) + Ls*a2*mtoe*cos(thl + tkl) - a1*k1*mtoe*cos(tal + thl + tkl) + a2*k2*mtoe*cos(tal + thl + tkl) + 2*Hfgy*mf*t2*cos(tal + tkl) - Ls*a1*mf*sin(thl + tkl) - Ls*a1*mtoe*sin(thl + tkl) - 2*Lgtoex*mtoe*t1*cos(tal + tkl) - 2*Lgtoey*mtoe*t2*cos(tal + tkl) - a1*k2*mtoe*sin(tal + thl + tkl) - a2*k1*mtoe*sin(tal + thl + tkl) - 2*Hfgy*mf*t1*sin(tal + tkl) - 2*Lgtoex*mtoe*t2*sin(tal + tkl) + 2*Lgtoey*mtoe*t1*sin(tal + tkl) - 2*k1*mtoe*t1*cos(tal + tkl) + 2*k2*mtoe*t2*cos(tal + tkl) - Hfgx*mf*t1*cos(tar - thl + thr + tkr) - 2*k1*mtoe*t2*sin(tal + tkl) - 2*k2*mtoe*t1*sin(tal + tkl) + Lfb*mf*t1*cos(tar - thl + thr + tkr) - Lgs*a1*ms*cos(thl + tkl + 2*tu) - Hfgx*mf*t2*sin(tar - thl + thr + tkr) + Lfb*mf*t2*sin(tar - thl + thr + tkr) + Lgs*a2*ms*sin(thl + tkl + 2*tu) - Hfgx*Ls*mf*sin(tar - thl + thr - tkl + tkr) + Lfb*Ls*mf*sin(tar - thl + thr - tkl + tkr) + 2*Hfgy*Ls*mf*cos(tal) - 2*Lgtoey*Ls*mtoe*cos(tal) + Hfgx*Hfgy*mf*sin(tal - tar + thl - thr + tkl - tkr) - 2*Lgtoex*Ls*mtoe*sin(tal) - Hfgy*Lfb*mf*sin(tal - tar + thl - thr + tkl - tkr) + Lgt*a2*mt*cos(thl) - 2*Lgs*ms*t1*cos(2*thl + tkl + 2*tu) + 2*Ls*k2*mtoe*cos(tal) - Lgt*a1*mt*sin(thl) + 2*Lgs*ms*t2*sin(2*thl + tkl + 2*tu) + 2*Ls*mf*t2*cos(tkl) + 2*Ls*mtoe*t2*cos(tkl) - 2*Ls*k1*mtoe*sin(tal) - 2*Ls*mf*t1*sin(tkl) - 2*Ls*mtoe*t1*sin(tkl) + a1*mf*t1*cos(thl) + a2*mf*t2*cos(thl) + a1*ms*t1*cos(thl) + a2*ms*t2*cos(thl) + a1*mtoe*t1*cos(thl) + a2*mtoe*t2*cos(thl) + Hfgy*a2*mf*cos(tal + thl + tkl) - Lgtoex*a1*mtoe*cos(tal + thl + tkl) - Lgtoey*a2*mtoe*cos(tal + thl + tkl) - a1*mf*t2*sin(thl) + a2*mf*t1*sin(thl) - a1*ms*t2*sin(thl) + a2*ms*t1*sin(thl) - a1*mtoe*t2*sin(thl) + a2*mtoe*t1*sin(thl),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               Hfgy*mf*cos(tal + thl + tkl + tu) - Lgtoey*mtoe*cos(tal + thl + tkl + tu) - Lgtoex*mtoe*sin(tal + thl + tkl + tu) + Ls*mf*cos(thl + tkl + tu) + Ls*mtoe*cos(thl + tkl + tu) + k2*mtoe*cos(tal + thl + tkl + tu) + Lgs*ms*sin(thl + tkl + tu) - k1*mtoe*sin(tal + thl + tkl + tu) + Lgt*mt*cos(thl + tu) + mf*t2*cos(thl + tu) + ms*t2*cos(thl + tu) + mtoe*t2*cos(thl + tu) + mf*t1*sin(thl + tu) + ms*t1*sin(thl + tu) + mtoe*t1*sin(thl + tu),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               Lgtoex*mtoe*cos(tal + thl + tkl + tu) + Hfgy*mf*sin(tal + thl + tkl + tu) - Lgtoey*mtoe*sin(tal + thl + tkl + tu) + Lgs*ms*cos(thl + tkl + tu) + k1*mtoe*cos(tal + thl + tkl + tu) + Ls*mf*sin(thl + tkl + tu) + Ls*mtoe*sin(thl + tkl + tu) + k2*mtoe*sin(tal + thl + tkl + tu) + Lgt*mt*sin(thl + tu) - mf*t1*cos(thl + tu) - ms*t1*cos(thl + tu) - mtoe*t1*cos(thl + tu) + mf*t2*sin(thl + tu) + ms*t2*sin(thl + tu) + mtoe*t2*sin(thl + tu)
 If + Itoe + 2*Hfgx^2*mf + Hfgy^2*mf + 2*Lfb^2*mf + Lgtoex^2*mtoe + Lgtoey^2*mtoe + k1^2*mtoe + k2^2*mtoe - 4*Hfgx*Lfb*mf + 2*Lgtoex*k1*mtoe + 2*Lgtoey*k2*mtoe - 2*Hfgx*a2*mf*sin(tar + thr + tkr) - Hfgy*a1*mf*sin(tar + thr + tkr) + 2*Lfb*a2*mf*sin(tar + thr + tkr) - Lgtoex*a2*mtoe*sin(tar + thr + tkr) - Lgtoey*a1*mtoe*sin(tar + thr + tkr) - a1*k1*mtoe*cos(tar + thr + tkr) + a2*k2*mtoe*cos(tar + thr + tkr) - Hfgx*mf*t1*cos(tar + tkr) + Hfgy*mf*t2*cos(tar + tkr) + Lfb*mf*t1*cos(tar + tkr) - Lgtoex*mtoe*t1*cos(tar + tkr) + Lgtoey*mtoe*t2*cos(tar + tkr) - a1*k2*mtoe*sin(tar + thr + tkr) - a2*k1*mtoe*sin(tar + thr + tkr) - Hfgx*mf*t2*sin(tar + tkr) - Hfgy*mf*t1*sin(tar + tkr) + Lfb*mf*t2*sin(tar + tkr) - Lgtoex*mtoe*t2*sin(tar + tkr) - Lgtoey*mtoe*t1*sin(tar + tkr) - k1*mtoe*t1*cos(tar + tkr) + k2*mtoe*t2*cos(tar + tkr) - Hfgx*mf*t1*cos(tar - thl + thr + tkr) - k1*mtoe*t2*sin(tar + tkr) - k2*mtoe*t1*sin(tar + tkr) + Lfb*mf*t1*cos(tar - thl + thr + tkr) - Hfgx*mf*t2*sin(tar - thl + thr + tkr) + Lfb*mf*t2*sin(tar - thl + thr + tkr) - Hfgx*Ls*mf*sin(tar - thl + thr - tkl + tkr) + Lfb*Ls*mf*sin(tar - thl + thr - tkl + tkr) + Hfgy*Ls*mf*cos(tar) + Lgtoey*Ls*mtoe*cos(tar) - Hfgx*Ls*mf*sin(tar) + Hfgx*Hfgy*mf*sin(tal - tar + thl - thr + tkl - tkr) + Lfb*Ls*mf*sin(tar) - Lgtoex*Ls*mtoe*sin(tar) - Hfgy*Lfb*mf*sin(tal - tar + thl - thr + tkl - tkr) + Ls*k2*mtoe*cos(tar) - Ls*k1*mtoe*sin(tar) - 2*Hfgx*a1*mf*cos(tar + thr + tkr) + Hfgy*a2*mf*cos(tar + thr + tkr) + 2*Lfb*a1*mf*cos(tar + thr + tkr) - Lgtoex*a1*mtoe*cos(tar + thr + tkr) + Lgtoey*a2*mtoe*cos(tar + thr + tkr), If + Is + Itoe + 2*Hfgx^2*mf + Hfgy^2*mf + 2*Lfb^2*mf + Ls^2*mf + Lgs^2*ms + Lgtoex^2*mtoe + Lgtoey^2*mtoe + Ls^2*mtoe + k1^2*mtoe + k2^2*mtoe - 4*Hfgx*Lfb*mf + 2*Lgtoex*k1*mtoe + 2*Lgtoey*k2*mtoe - 2*Hfgx*a2*mf*sin(tar + thr + tkr) - Hfgy*a1*mf*sin(tar + thr + tkr) + 2*Lfb*a2*mf*sin(tar + thr + tkr) - Lgtoex*a2*mtoe*sin(tar + thr + tkr) - Lgtoey*a1*mtoe*sin(tar + thr + tkr) + Ls*a2*mf*cos(thr + tkr) + Lgs*a2*ms*cos(thr + tkr) + Ls*a2*mtoe*cos(thr + tkr) - a1*k1*mtoe*cos(tar + thr + tkr) + a2*k2*mtoe*cos(tar + thr + tkr) - Hfgx*mf*t1*cos(tar + tkr) + Hfgy*mf*t2*cos(tar + tkr) - Ls*a1*mf*sin(thr + tkr) - Lgs*a1*ms*sin(thr + tkr) - Ls*a1*mtoe*sin(thr + tkr) + Lfb*mf*t1*cos(tar + tkr) - Lgtoex*mtoe*t1*cos(tar + tkr) + Lgtoey*mtoe*t2*cos(tar + tkr) - a1*k2*mtoe*sin(tar + thr + tkr) - a2*k1*mtoe*sin(tar + thr + tkr) - Hfgx*mf*t2*sin(tar + tkr) - Hfgy*mf*t1*sin(tar + tkr) + Lfb*mf*t2*sin(tar + tkr) - Lgtoex*mtoe*t2*sin(tar + tkr) - Lgtoey*mtoe*t1*sin(tar + tkr) - k1*mtoe*t1*cos(tar + tkr) + k2*mtoe*t2*cos(tar + tkr) - Hfgx*mf*t1*cos(tar - thl + thr + tkr) - k1*mtoe*t2*sin(tar + tkr) - k2*mtoe*t1*sin(tar + tkr) + Lfb*mf*t1*cos(tar - thl + thr + tkr) - Hfgx*mf*t2*sin(tar - thl + thr + tkr) + Lfb*mf*t2*sin(tar - thl + thr + tkr) - Hfgx*Ls*mf*sin(tar - thl + thr - tkl + tkr) + Lfb*Ls*mf*sin(tar - thl + thr - tkl + tkr) + 2*Hfgy*Ls*mf*cos(tar) + 2*Lgtoey*Ls*mtoe*cos(tar) - 2*Hfgx*Ls*mf*sin(tar) + Hfgx*Hfgy*mf*sin(tal - tar + thl - thr + tkl - tkr) + 2*Lfb*Ls*mf*sin(tar) - 2*Lgtoex*Ls*mtoe*sin(tar) - Hfgy*Lfb*mf*sin(tal - tar + thl - thr + tkl - tkr) + 2*Ls*k2*mtoe*cos(tar) + Ls*mf*t2*cos(tkr) + Lgs*ms*t2*cos(tkr) + Ls*mtoe*t2*cos(tkr) - 2*Ls*k1*mtoe*sin(tar) - Ls*mf*t1*sin(tkr) - Lgs*ms*t1*sin(tkr) - Ls*mtoe*t1*sin(tkr) - 2*Hfgx*a1*mf*cos(tar + thr + tkr) + Hfgy*a2*mf*cos(tar + thr + tkr) + 2*Lfb*a1*mf*cos(tar + thr + tkr) - Lgtoex*a1*mtoe*cos(tar + thr + tkr) + Lgtoey*a2*mtoe*cos(tar + thr + tkr), If + Is + It + Itoe + 2*Hfgx^2*mf + Hfgy^2*mf + 2*Lfb^2*mf + Ls^2*mf + Lgs^2*ms + Lgt^2*mt + Lgtoex^2*mtoe + Lgtoey^2*mtoe + Ls^2*mtoe + k1^2*mtoe + k2^2*mtoe + mf*t1^2 + mf*t2^2 + ms*t1^2 + ms*t2^2 + mtoe*t1^2 + mtoe*t2^2 - 4*Hfgx*Lfb*mf + 2*Lgtoex*k1*mtoe + 2*Lgtoey*k2*mtoe - 2*Hfgx*a2*mf*sin(tar + thr + tkr) - Hfgy*a1*mf*sin(tar + thr + tkr) + 2*Lfb*a2*mf*sin(tar + thr + tkr) - Lgtoex*a2*mtoe*sin(tar + thr + tkr) - Lgtoey*a1*mtoe*sin(tar + thr + tkr) + Ls*a2*mf*cos(thr + tkr) + Lgs*a2*ms*cos(thr + tkr) + Ls*a2*mtoe*cos(thr + tkr) - a1*k1*mtoe*cos(tar + thr + tkr) + a2*k2*mtoe*cos(tar + thr + tkr) - 2*Hfgx*mf*t1*cos(tar + tkr) + 2*Hfgy*mf*t2*cos(tar + tkr) - Ls*a1*mf*sin(thr + tkr) - Lgs*a1*ms*sin(thr + tkr) - Ls*a1*mtoe*sin(thr + tkr) + 2*Lfb*mf*t1*cos(tar + tkr) - 2*Lgtoex*mtoe*t1*cos(tar + tkr) + 2*Lgtoey*mtoe*t2*cos(tar + tkr) - a1*k2*mtoe*sin(tar + thr + tkr) - a2*k1*mtoe*sin(tar + thr + tkr) - 2*Hfgx*mf*t2*sin(tar + tkr) - 2*Hfgy*mf*t1*sin(tar + tkr) + 2*Lfb*mf*t2*sin(tar + tkr) - 2*Lgtoex*mtoe*t2*sin(tar + tkr) - 2*Lgtoey*mtoe*t1*sin(tar + tkr) - 2*k1*mtoe*t1*cos(tar + tkr) + 2*k2*mtoe*t2*cos(tar + tkr) - Hfgx*mf*t1*cos(tar - thl + thr + tkr) - 2*k1*mtoe*t2*sin(tar + tkr) - 2*k2*mtoe*t1*sin(tar + tkr) + Lfb*mf*t1*cos(tar - thl + thr + tkr) - Hfgx*mf*t2*sin(tar - thl + thr + tkr) + Lfb*mf*t2*sin(tar - thl + thr + tkr) - Hfgx*Ls*mf*sin(tar - thl + thr - tkl + tkr) + Lfb*Ls*mf*sin(tar - thl + thr - tkl + tkr) + 2*Hfgy*Ls*mf*cos(tar) + 2*Lgtoey*Ls*mtoe*cos(tar) - 2*Hfgx*Ls*mf*sin(tar) + Hfgx*Hfgy*mf*sin(tal - tar + thl - thr + tkl - tkr) + 2*Lfb*Ls*mf*sin(tar) - 2*Lgtoex*Ls*mtoe*sin(tar) - Hfgy*Lfb*mf*sin(tal - tar + thl - thr + tkl - tkr) + Lgt*a2*mt*cos(thr) + 2*Ls*k2*mtoe*cos(tar) - Lgt*a1*mt*sin(thr) + 2*Ls*mf*t2*cos(tkr) + 2*Lgs*ms*t2*cos(tkr) + 2*Ls*mtoe*t2*cos(tkr) - 2*Ls*k1*mtoe*sin(tar) - 2*Ls*mf*t1*sin(tkr) - 2*Lgs*ms*t1*sin(tkr) - 2*Ls*mtoe*t1*sin(tkr) + a1*mf*t1*cos(thr) + a2*mf*t2*cos(thr) + a1*ms*t1*cos(thr) + a2*ms*t2*cos(thr) + a1*mtoe*t1*cos(thr) + a2*mtoe*t2*cos(thr) - 2*Hfgx*a1*mf*cos(tar + thr + tkr) + Hfgy*a2*mf*cos(tar + thr + tkr) + 2*Lfb*a1*mf*cos(tar + thr + tkr) - Lgtoex*a1*mtoe*cos(tar + thr + tkr) + Lgtoey*a2*mtoe*cos(tar + thr + tkr) - a1*mf*t2*sin(thr) + a2*mf*t1*sin(thr) - a1*ms*t2*sin(thr) + a2*ms*t1*sin(thr) - a1*mtoe*t2*sin(thr) + a2*mtoe*t1*sin(thr), If + Itoe + Hfgy^2*mf + Lgtoex^2*mtoe + Lgtoey^2*mtoe + k1^2*mtoe + k2^2*mtoe + 2*Lgtoex*k1*mtoe - 2*Lgtoey*k2*mtoe - Hfgy*a1*mf*sin(tal + thl + tkl) - Lgtoex*a2*mtoe*sin(tal + thl + tkl) + Lgtoey*a1*mtoe*sin(tal + thl + tkl) - a1*k1*mtoe*cos(tal + thl + tkl) + a2*k2*mtoe*cos(tal + thl + tkl) + Hfgy*mf*t2*cos(tal + tkl) - Lgtoex*mtoe*t1*cos(tal + tkl) - Lgtoey*mtoe*t2*cos(tal + tkl) - a1*k2*mtoe*sin(tal + thl + tkl) - a2*k1*mtoe*sin(tal + thl + tkl) - Hfgy*mf*t1*sin(tal + tkl) - Lgtoex*mtoe*t2*sin(tal + tkl) + Lgtoey*mtoe*t1*sin(tal + tkl) - k1*mtoe*t1*cos(tal + tkl) + k2*mtoe*t2*cos(tal + tkl) - k1*mtoe*t2*sin(tal + tkl) - k2*mtoe*t1*sin(tal + tkl) + Hfgy*Ls*mf*cos(tal) - Lgtoey*Ls*mtoe*cos(tal) + Hfgx*Hfgy*mf*sin(tal - tar + thl - thr + tkl - tkr) - Lgtoex*Ls*mtoe*sin(tal) - Hfgy*Lfb*mf*sin(tal - tar + thl - thr + tkl - tkr) + Ls*k2*mtoe*cos(tal) - Ls*k1*mtoe*sin(tal) + Hfgy*a2*mf*cos(tal + thl + tkl) - Lgtoex*a1*mtoe*cos(tal + thl + tkl) - Lgtoey*a2*mtoe*cos(tal + thl + tkl), If + Is + Itoe + Hfgy^2*mf + Ls^2*mf + Lgs^2*ms + Lgtoex^2*mtoe + Lgtoey^2*mtoe + Ls^2*mtoe + k1^2*mtoe + k2^2*mtoe + 2*Lgtoex*k1*mtoe - 2*Lgtoey*k2*mtoe - Hfgy*a1*mf*sin(tal + thl + tkl) - Lgtoex*a2*mtoe*sin(tal + thl + tkl) + Lgtoey*a1*mtoe*sin(tal + thl + tkl) + Ls*a2*mf*cos(thl + tkl) + Ls*a2*mtoe*cos(thl + tkl) - a1*k1*mtoe*cos(tal + thl + tkl) + a2*k2*mtoe*cos(tal + thl + tkl) + Hfgy*mf*t2*cos(tal + tkl) - Ls*a1*mf*sin(thl + tkl) - Ls*a1*mtoe*sin(thl + tkl) - Lgtoex*mtoe*t1*cos(tal + tkl) - Lgtoey*mtoe*t2*cos(tal + tkl) - a1*k2*mtoe*sin(tal + thl + tkl) - a2*k1*mtoe*sin(tal + thl + tkl) - Hfgy*mf*t1*sin(tal + tkl) - Lgtoex*mtoe*t2*sin(tal + tkl) + Lgtoey*mtoe*t1*sin(tal + tkl) - k1*mtoe*t1*cos(tal + tkl) + k2*mtoe*t2*cos(tal + tkl) - k1*mtoe*t2*sin(tal + tkl) - k2*mtoe*t1*sin(tal + tkl) - Lgs*a1*ms*cos(thl + tkl + 2*tu) + Lgs*a2*ms*sin(thl + tkl + 2*tu) - Hfgx*Ls*mf*sin(tar - thl + thr - tkl + tkr) + Lfb*Ls*mf*sin(tar - thl + thr - tkl + tkr) + 2*Hfgy*Ls*mf*cos(tal) - 2*Lgtoey*Ls*mtoe*cos(tal) + Hfgx*Hfgy*mf*sin(tal - tar + thl - thr + tkl - tkr) - 2*Lgtoex*Ls*mtoe*sin(tal) - Hfgy*Lfb*mf*sin(tal - tar + thl - thr + tkl - tkr) - Lgs*ms*t1*cos(2*thl + tkl + 2*tu) + 2*Ls*k2*mtoe*cos(tal) + Lgs*ms*t2*sin(2*thl + tkl + 2*tu) + Ls*mf*t2*cos(tkl) + Ls*mtoe*t2*cos(tkl) - 2*Ls*k1*mtoe*sin(tal) - Ls*mf*t1*sin(tkl) - Ls*mtoe*t1*sin(tkl) + Hfgy*a2*mf*cos(tal + thl + tkl) - Lgtoex*a1*mtoe*cos(tal + thl + tkl) - Lgtoey*a2*mtoe*cos(tal + thl + tkl), If + Is + It + Itoe + Hfgy^2*mf + Ls^2*mf + Lgs^2*ms + Lgt^2*mt + Lgtoex^2*mtoe + Lgtoey^2*mtoe + Ls^2*mtoe + k1^2*mtoe + k2^2*mtoe + mf*t1^2 + mf*t2^2 + ms*t1^2 + ms*t2^2 + mtoe*t1^2 + mtoe*t2^2 + 2*Lgtoex*k1*mtoe - 2*Lgtoey*k2*mtoe - Hfgy*a1*mf*sin(tal + thl + tkl) - Lgtoex*a2*mtoe*sin(tal + thl + tkl) + Lgtoey*a1*mtoe*sin(tal + thl + tkl) + Ls*a2*mf*cos(thl + tkl) + Ls*a2*mtoe*cos(thl + tkl) - a1*k1*mtoe*cos(tal + thl + tkl) + a2*k2*mtoe*cos(tal + thl + tkl) + 2*Hfgy*mf*t2*cos(tal + tkl) - Ls*a1*mf*sin(thl + tkl) - Ls*a1*mtoe*sin(thl + tkl) - 2*Lgtoex*mtoe*t1*cos(tal + tkl) - 2*Lgtoey*mtoe*t2*cos(tal + tkl) - a1*k2*mtoe*sin(tal + thl + tkl) - a2*k1*mtoe*sin(tal + thl + tkl) - 2*Hfgy*mf*t1*sin(tal + tkl) - 2*Lgtoex*mtoe*t2*sin(tal + tkl) + 2*Lgtoey*mtoe*t1*sin(tal + tkl) - 2*k1*mtoe*t1*cos(tal + tkl) + 2*k2*mtoe*t2*cos(tal + tkl) - Hfgx*mf*t1*cos(tar - thl + thr + tkr) - 2*k1*mtoe*t2*sin(tal + tkl) - 2*k2*mtoe*t1*sin(tal + tkl) + Lfb*mf*t1*cos(tar - thl + thr + tkr) - Lgs*a1*ms*cos(thl + tkl + 2*tu) - Hfgx*mf*t2*sin(tar - thl + thr + tkr) + Lfb*mf*t2*sin(tar - thl + thr + tkr) + Lgs*a2*ms*sin(thl + tkl + 2*tu) - Hfgx*Ls*mf*sin(tar - thl + thr - tkl + tkr) + Lfb*Ls*mf*sin(tar - thl + thr - tkl + tkr) + 2*Hfgy*Ls*mf*cos(tal) - 2*Lgtoey*Ls*mtoe*cos(tal) + Hfgx*Hfgy*mf*sin(tal - tar + thl - thr + tkl - tkr) - 2*Lgtoex*Ls*mtoe*sin(tal) - Hfgy*Lfb*mf*sin(tal - tar + thl - thr + tkl - tkr) + Lgt*a2*mt*cos(thl) - 2*Lgs*ms*t1*cos(2*thl + tkl + 2*tu) + 2*Ls*k2*mtoe*cos(tal) - Lgt*a1*mt*sin(thl) + 2*Lgs*ms*t2*sin(2*thl + tkl + 2*tu) + 2*Ls*mf*t2*cos(tkl) + 2*Ls*mtoe*t2*cos(tkl) - 2*Ls*k1*mtoe*sin(tal) - 2*Ls*mf*t1*sin(tkl) - 2*Ls*mtoe*t1*sin(tkl) + a1*mf*t1*cos(thl) + a2*mf*t2*cos(thl) + a1*ms*t1*cos(thl) + a2*ms*t2*cos(thl) + a1*mtoe*t1*cos(thl) + a2*mtoe*t2*cos(thl) + Hfgy*a2*mf*cos(tal + thl + tkl) - Lgtoex*a1*mtoe*cos(tal + thl + tkl) - Lgtoey*a2*mtoe*cos(tal + thl + tkl) - a1*mf*t2*sin(thl) + a2*mf*t1*sin(thl) - a1*ms*t2*sin(thl) + a2*ms*t1*sin(thl) - a1*mtoe*t2*sin(thl) + a2*mtoe*t1*sin(thl), 2*If + 2*Is + 2*It + 2*Itoe + Iu + 2*Hfgx^2*mf + 2*Hfgy^2*mf + 2*Lfb^2*mf + 2*Ls^2*mf + 2*Lgs^2*ms + 2*Lgt^2*mt + 2*Lgtoex^2*mtoe + 2*Lgtoey^2*mtoe + 2*Ls^2*mtoe + 2*a1^2*mf + 2*a2^2*mf + 2*a1^2*ms + 2*a2^2*ms + 2*a1^2*mt + 2*a2^2*mt + 2*a1^2*mtoe + 2*a2^2*mtoe + 2*k1^2*mtoe + 2*k2^2*mtoe + mu*r1^2 + mu*r2^2 + 2*mf*t1^2 + 2*mf*t2^2 + 2*ms*t1^2 + 2*ms*t2^2 + 2*mtoe*t1^2 + 2*mtoe*t2^2 - 4*Hfgx*Lfb*mf + 4*Lgtoex*k1*mtoe - 2*Hfgy*a1*mf*sin(tal + thl + tkl) - 4*Hfgx*a2*mf*sin(tar + thr + tkr) - 2*Hfgy*a1*mf*sin(tar + thr + tkr) + 4*Lfb*a2*mf*sin(tar + thr + tkr) - 2*Lgtoex*a2*mtoe*sin(tal + thl + tkl) + 2*Lgtoey*a1*mtoe*sin(tal + thl + tkl) - 2*Lgtoex*a2*mtoe*sin(tar + thr + tkr) - 2*Lgtoey*a1*mtoe*sin(tar + thr + tkr) + 2*Ls*a2*mf*cos(thl + tkl) + 2*Ls*a2*mf*cos(thr + tkr) + 2*Lgs*a2*ms*cos(thr + tkr) + 2*Ls*a2*mtoe*cos(thl + tkl) + 2*Ls*a2*mtoe*cos(thr + tkr) - 2*a1*k1*mtoe*cos(tal + thl + tkl) + 2*a2*k2*mtoe*cos(tal + thl + tkl) - 2*a1*k1*mtoe*cos(tar + thr + tkr) + 2*a2*k2*mtoe*cos(tar + thr + tkr) + 2*Hfgy*mf*t2*cos(tal + tkl) - 2*Hfgx*mf*t1*cos(tar + tkr) + 2*Hfgy*mf*t2*cos(tar + tkr) - 2*Ls*a1*mf*sin(thl + tkl) - 2*Ls*a1*mf*sin(thr + tkr) - 2*Lgs*a1*ms*sin(thr + tkr) - 2*Ls*a1*mtoe*sin(thl + tkl) - 2*Ls*a1*mtoe*sin(thr + tkr) + 2*Lfb*mf*t1*cos(tar + tkr) - 2*Lgtoex*mtoe*t1*cos(tal + tkl) - 2*Lgtoey*mtoe*t2*cos(tal + tkl) - 2*Lgtoex*mtoe*t1*cos(tar + tkr) + 2*Lgtoey*mtoe*t2*cos(tar + tkr) - 2*a1*k2*mtoe*sin(tal + thl + tkl) - 2*a2*k1*mtoe*sin(tal + thl + tkl) - 2*a1*k2*mtoe*sin(tar + thr + tkr) - 2*a2*k1*mtoe*sin(tar + thr + tkr) - 2*Hfgy*mf*t1*sin(tal + tkl) - 2*Hfgx*mf*t2*sin(tar + tkr) - 2*Hfgy*mf*t1*sin(tar + tkr) + 2*Lfb*mf*t2*sin(tar + tkr) - 2*Lgtoex*mtoe*t2*sin(tal + tkl) + 2*Lgtoey*mtoe*t1*sin(tal + tkl) - 2*Lgtoex*mtoe*t2*sin(tar + tkr) - 2*Lgtoey*mtoe*t1*sin(tar + tkr) - 2*k1*mtoe*t1*cos(tal + tkl) + 2*k2*mtoe*t2*cos(tal + tkl) - 2*k1*mtoe*t1*cos(tar + tkr) + 2*k2*mtoe*t2*cos(tar + tkr) - 2*Hfgx*mf*t1*cos(tar - thl + thr + tkr) - 2*k1*mtoe*t2*sin(tal + tkl) - 2*k2*mtoe*t1*sin(tal + tkl) - 2*k1*mtoe*t2*sin(tar + tkr) - 2*k2*mtoe*t1*sin(tar + tkr) + 2*Lfb*mf*t1*cos(tar - thl + thr + tkr) - 2*Lgs*a1*ms*cos(thl + tkl + 2*tu) - 2*Hfgx*mf*t2*sin(tar - thl + thr + tkr) + 2*Lfb*mf*t2*sin(tar - thl + thr + tkr) + 2*Lgs*a2*ms*sin(thl + tkl + 2*tu) - 2*Hfgx*Ls*mf*sin(tar - thl + thr - tkl + tkr) + 2*Lfb*Ls*mf*sin(tar - thl + thr - tkl + tkr) + 2*Hfgy*Ls*mf*cos(tal) + 2*Hfgy*Ls*mf*cos(tar) - 2*Lgtoey*Ls*mtoe*cos(tal) + 2*Lgtoey*Ls*mtoe*cos(tar) - 2*Hfgx*Ls*mf*sin(tar) + 2*Hfgx*Hfgy*mf*sin(tal - tar + thl - thr + tkl - tkr) + 2*Lfb*Ls*mf*sin(tar) - 2*Lgtoex*Ls*mtoe*sin(tal) - 2*Lgtoex*Ls*mtoe*sin(tar) - 2*Hfgy*Lfb*mf*sin(tal - tar + thl - thr + tkl - tkr) + 2*Lgt*a2*mt*cos(thl) + 2*Lgt*a2*mt*cos(thr) - 2*Lgs*ms*t1*cos(2*thl + tkl + 2*tu) + 2*Ls*k2*mtoe*cos(tal) + 2*Ls*k2*mtoe*cos(tar) - 2*Lgt*a1*mt*sin(thl) - 2*Lgt*a1*mt*sin(thr) + 2*Lgs*ms*t2*sin(2*thl + tkl + 2*tu) + 2*Ls*mf*t2*cos(tkl) + 2*Ls*mf*t2*cos(tkr) + 2*Lgs*ms*t2*cos(tkr) + 2*Ls*mtoe*t2*cos(tkl) + 2*Ls*mtoe*t2*cos(tkr) - 2*Ls*k1*mtoe*sin(tal) - 2*Ls*k1*mtoe*sin(tar) - 2*Ls*mf*t1*sin(tkl) - 2*Ls*mf*t1*sin(tkr) - 2*Lgs*ms*t1*sin(tkr) - 2*Ls*mtoe*t1*sin(tkl) - 2*Ls*mtoe*t1*sin(tkr) + 2*a1*mf*t1*cos(thl) + 2*a2*mf*t2*cos(thl) + 2*a1*mf*t1*cos(thr) + 2*a2*mf*t2*cos(thr) + 2*a1*ms*t1*cos(thl) + 2*a2*ms*t2*cos(thl) + 2*a1*ms*t1*cos(thr) + 2*a2*ms*t2*cos(thr) + 2*a1*mtoe*t1*cos(thl) + 2*a2*mtoe*t2*cos(thl) + 2*a1*mtoe*t1*cos(thr) + 2*a2*mtoe*t2*cos(thr) + 2*Hfgy*a2*mf*cos(tal + thl + tkl) - 4*Hfgx*a1*mf*cos(tar + thr + tkr) + 2*Hfgy*a2*mf*cos(tar + thr + tkr) + 4*Lfb*a1*mf*cos(tar + thr + tkr) - 2*Lgtoex*a1*mtoe*cos(tal + thl + tkl) - 2*Lgtoey*a2*mtoe*cos(tal + thl + tkl) - 2*Lgtoex*a1*mtoe*cos(tar + thr + tkr) + 2*Lgtoey*a2*mtoe*cos(tar + thr + tkr) - 2*a1*mf*t2*sin(thl) + 2*a2*mf*t1*sin(thl) - 2*a1*mf*t2*sin(thr) + 2*a2*mf*t1*sin(thr) - 2*a1*ms*t2*sin(thl) + 2*a2*ms*t1*sin(thl) - 2*a1*ms*t2*sin(thr) + 2*a2*ms*t1*sin(thr) - 2*a1*mtoe*t2*sin(thl) + 2*a2*mtoe*t1*sin(thl) - 2*a1*mtoe*t2*sin(thr) + 2*a2*mtoe*t1*sin(thr), 2*a2*mf*cos(tu) + Hfgy*mf*cos(tal + thl + tkl + tu) + Hfgy*mf*cos(tar + thr + tkr + tu) + 2*a2*ms*cos(tu) + 2*a2*mt*cos(tu) + 2*a2*mtoe*cos(tu) - Lgtoey*mtoe*cos(tal + thl + tkl + tu) + Lgtoey*mtoe*cos(tar + thr + tkr + tu) + 2*a1*mf*sin(tu) - 2*Hfgx*mf*sin(tar + thr + tkr + tu) + 2*a1*ms*sin(tu) + 2*a1*mt*sin(tu) + 2*a1*mtoe*sin(tu) - mu*r2*cos(tu) + 2*Lfb*mf*sin(tar + thr + tkr + tu) - Lgtoex*mtoe*sin(tal + thl + tkl + tu) - Lgtoex*mtoe*sin(tar + thr + tkr + tu) + Ls*mf*cos(thl + tkl + tu) + Ls*mf*cos(thr + tkr + tu) + Lgs*ms*cos(thr + tkr + tu) + Ls*mtoe*cos(thl + tkl + tu) + Ls*mtoe*cos(thr + tkr + tu) + mu*r1*sin(tu) + k2*mtoe*cos(tal + thl + tkl + tu) + k2*mtoe*cos(tar + thr + tkr + tu) + Lgs*ms*sin(thl + tkl + tu) - k1*mtoe*sin(tal + thl + tkl + tu) - k1*mtoe*sin(tar + thr + tkr + tu) + Lgt*mt*cos(thl + tu) + Lgt*mt*cos(thr + tu) + mf*t2*cos(thl + tu) + mf*t2*cos(thr + tu) + ms*t2*cos(thl + tu) + ms*t2*cos(thr + tu) + mtoe*t2*cos(thl + tu) + mtoe*t2*cos(thr + tu) + mf*t1*sin(thl + tu) + mf*t1*sin(thr + tu) + ms*t1*sin(thl + tu) + ms*t1*sin(thr + tu) + mtoe*t1*sin(thl + tu) + mtoe*t1*sin(thr + tu), 2*Hfgx*mf*cos(tar + thr + tkr + tu) - 2*a1*mf*cos(tu) - 2*a1*ms*cos(tu) - 2*a1*mt*cos(tu) - 2*a1*mtoe*cos(tu) - 2*Lfb*mf*cos(tar + thr + tkr + tu) + Lgtoex*mtoe*cos(tal + thl + tkl + tu) + Lgtoex*mtoe*cos(tar + thr + tkr + tu) + 2*a2*mf*sin(tu) + Hfgy*mf*sin(tal + thl + tkl + tu) + Hfgy*mf*sin(tar + thr + tkr + tu) + 2*a2*ms*sin(tu) + 2*a2*mt*sin(tu) + 2*a2*mtoe*sin(tu) - mu*r1*cos(tu) - Lgtoey*mtoe*sin(tal + thl + tkl + tu) + Lgtoey*mtoe*sin(tar + thr + tkr + tu) + Lgs*ms*cos(thl + tkl + tu) - mu*r2*sin(tu) + k1*mtoe*cos(tal + thl + tkl + tu) + k1*mtoe*cos(tar + thr + tkr + tu) + Ls*mf*sin(thl + tkl + tu) + Ls*mf*sin(thr + tkr + tu) + Lgs*ms*sin(thr + tkr + tu) + Ls*mtoe*sin(thl + tkl + tu) + Ls*mtoe*sin(thr + tkr + tu) + k2*mtoe*sin(tal + thl + tkl + tu) + k2*mtoe*sin(tar + thr + tkr + tu) + Lgt*mt*sin(thl + tu) + Lgt*mt*sin(thr + tu) - mf*t1*cos(thl + tu) - mf*t1*cos(thr + tu) - ms*t1*cos(thl + tu) - ms*t1*cos(thr + tu) - mtoe*t1*cos(thl + tu) - mtoe*t1*cos(thr + tu) + mf*t2*sin(thl + tu) + mf*t2*sin(thr + tu) + ms*t2*sin(thl + tu) + ms*t2*sin(thr + tu) + mtoe*t2*sin(thl + tu) + mtoe*t2*sin(thr + tu)
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                (mf*(2*Hfgy*cos(tar + thr + tkr + tu) - 2*sin(tar + thr + tkr + tu)*(Hfgx - Lfb)))/2 + (mtoe*(2*Lgtoey*cos(tar + thr + tkr + tu) - 2*Lgtoex*sin(tar + thr + tkr + tu) + 2*k2*cos(tar + thr + tkr + tu) - 2*k1*sin(tar + thr + tkr + tu)))/2 - mf*sin(tar + thr + tkr + tu)*(Hfgx - Lfb),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 Hfgy*mf*cos(tar + thr + tkr + tu) + Lgtoey*mtoe*cos(tar + thr + tkr + tu) - 2*Hfgx*mf*sin(tar + thr + tkr + tu) + 2*Lfb*mf*sin(tar + thr + tkr + tu) - Lgtoex*mtoe*sin(tar + thr + tkr + tu) + Ls*mf*cos(thr + tkr + tu) + Lgs*ms*cos(thr + tkr + tu) + Ls*mtoe*cos(thr + tkr + tu) + k2*mtoe*cos(tar + thr + tkr + tu) - k1*mtoe*sin(tar + thr + tkr + tu),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            Hfgy*mf*cos(tar + thr + tkr + tu) + Lgtoey*mtoe*cos(tar + thr + tkr + tu) - 2*Hfgx*mf*sin(tar + thr + tkr + tu) + 2*Lfb*mf*sin(tar + thr + tkr + tu) - Lgtoex*mtoe*sin(tar + thr + tkr + tu) + Ls*mf*cos(thr + tkr + tu) + Lgs*ms*cos(thr + tkr + tu) + Ls*mtoe*cos(thr + tkr + tu) + k2*mtoe*cos(tar + thr + tkr + tu) - k1*mtoe*sin(tar + thr + tkr + tu) + Lgt*mt*cos(thr + tu) + mf*t2*cos(thr + tu) + ms*t2*cos(thr + tu) + mtoe*t2*cos(thr + tu) + mf*t1*sin(thr + tu) + ms*t1*sin(thr + tu) + mtoe*t1*sin(thr + tu),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            Hfgy*mf*cos(tal + thl + tkl + tu) - (mtoe*(2*Lgtoey*cos(tal + thl + tkl + tu) + 2*Lgtoex*sin(tal + thl + tkl + tu) - 2*k2*cos(tal + thl + tkl + tu) + 2*k1*sin(tal + thl + tkl + tu)))/2,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      Hfgy*mf*cos(tal + thl + tkl + tu) - Lgtoey*mtoe*cos(tal + thl + tkl + tu) - Lgtoex*mtoe*sin(tal + thl + tkl + tu) + Ls*mf*cos(thl + tkl + tu) + Ls*mtoe*cos(thl + tkl + tu) + k2*mtoe*cos(tal + thl + tkl + tu) + Lgs*ms*sin(thl + tkl + tu) - k1*mtoe*sin(tal + thl + tkl + tu),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             Hfgy*mf*cos(tal + thl + tkl + tu) - Lgtoey*mtoe*cos(tal + thl + tkl + tu) - Lgtoex*mtoe*sin(tal + thl + tkl + tu) + Ls*mf*cos(thl + tkl + tu) + Ls*mtoe*cos(thl + tkl + tu) + k2*mtoe*cos(tal + thl + tkl + tu) + Lgs*ms*sin(thl + tkl + tu) - k1*mtoe*sin(tal + thl + tkl + tu) + Lgt*mt*cos(thl + tu) + mf*t2*cos(thl + tu) + ms*t2*cos(thl + tu) + mtoe*t2*cos(thl + tu) + mf*t1*sin(thl + tu) + ms*t1*sin(thl + tu) + mtoe*t1*sin(thl + tu),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      2*a2*mf*cos(tu) + Hfgy*mf*cos(tal + thl + tkl + tu) + Hfgy*mf*cos(tar + thr + tkr + tu) + 2*a2*ms*cos(tu) + 2*a2*mt*cos(tu) + 2*a2*mtoe*cos(tu) - Lgtoey*mtoe*cos(tal + thl + tkl + tu) + Lgtoey*mtoe*cos(tar + thr + tkr + tu) + 2*a1*mf*sin(tu) - 2*Hfgx*mf*sin(tar + thr + tkr + tu) + 2*a1*ms*sin(tu) + 2*a1*mt*sin(tu) + 2*a1*mtoe*sin(tu) - mu*r2*cos(tu) + 2*Lfb*mf*sin(tar + thr + tkr + tu) - Lgtoex*mtoe*sin(tal + thl + tkl + tu) - Lgtoex*mtoe*sin(tar + thr + tkr + tu) + Ls*mf*cos(thl + tkl + tu) + Ls*mf*cos(thr + tkr + tu) + Lgs*ms*cos(thr + tkr + tu) + Ls*mtoe*cos(thl + tkl + tu) + Ls*mtoe*cos(thr + tkr + tu) + mu*r1*sin(tu) + k2*mtoe*cos(tal + thl + tkl + tu) + k2*mtoe*cos(tar + thr + tkr + tu) + Lgs*ms*sin(thl + tkl + tu) - k1*mtoe*sin(tal + thl + tkl + tu) - k1*mtoe*sin(tar + thr + tkr + tu) + Lgt*mt*cos(thl + tu) + Lgt*mt*cos(thr + tu) + mf*t2*cos(thl + tu) + mf*t2*cos(thr + tu) + ms*t2*cos(thl + tu) + ms*t2*cos(thr + tu) + mtoe*t2*cos(thl + tu) + mtoe*t2*cos(thr + tu) + mf*t1*sin(thl + tu) + mf*t1*sin(thr + tu) + ms*t1*sin(thl + tu) + ms*t1*sin(thr + tu) + mtoe*t1*sin(thl + tu) + mtoe*t1*sin(thr + tu),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               2*mf + 2*ms + 2*mt + 2*mtoe + mu,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              0
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                (mf*(2*cos(tar + thr + tkr + tu)*(Hfgx - Lfb) + 2*Hfgy*sin(tar + thr + tkr + tu)))/2 + (mtoe*(2*Lgtoex*cos(tar + thr + tkr + tu) + 2*Lgtoey*sin(tar + thr + tkr + tu) + 2*k1*cos(tar + thr + tkr + tu) + 2*k2*sin(tar + thr + tkr + tu)))/2 + mf*cos(tar + thr + tkr + tu)*(Hfgx - Lfb),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 2*Hfgx*mf*cos(tar + thr + tkr + tu) - 2*Lfb*mf*cos(tar + thr + tkr + tu) + Lgtoex*mtoe*cos(tar + thr + tkr + tu) + Hfgy*mf*sin(tar + thr + tkr + tu) + Lgtoey*mtoe*sin(tar + thr + tkr + tu) + k1*mtoe*cos(tar + thr + tkr + tu) + Ls*mf*sin(thr + tkr + tu) + Lgs*ms*sin(thr + tkr + tu) + Ls*mtoe*sin(thr + tkr + tu) + k2*mtoe*sin(tar + thr + tkr + tu),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            2*Hfgx*mf*cos(tar + thr + tkr + tu) - 2*Lfb*mf*cos(tar + thr + tkr + tu) + Lgtoex*mtoe*cos(tar + thr + tkr + tu) + Hfgy*mf*sin(tar + thr + tkr + tu) + Lgtoey*mtoe*sin(tar + thr + tkr + tu) + k1*mtoe*cos(tar + thr + tkr + tu) + Ls*mf*sin(thr + tkr + tu) + Lgs*ms*sin(thr + tkr + tu) + Ls*mtoe*sin(thr + tkr + tu) + k2*mtoe*sin(tar + thr + tkr + tu) + Lgt*mt*sin(thr + tu) - mf*t1*cos(thr + tu) - ms*t1*cos(thr + tu) - mtoe*t1*cos(thr + tu) + mf*t2*sin(thr + tu) + ms*t2*sin(thr + tu) + mtoe*t2*sin(thr + tu),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            (mtoe*(2*Lgtoex*cos(tal + thl + tkl + tu) - 2*Lgtoey*sin(tal + thl + tkl + tu) + 2*k1*cos(tal + thl + tkl + tu) + 2*k2*sin(tal + thl + tkl + tu)))/2 + Hfgy*mf*sin(tal + thl + tkl + tu),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      Lgtoex*mtoe*cos(tal + thl + tkl + tu) + Hfgy*mf*sin(tal + thl + tkl + tu) - Lgtoey*mtoe*sin(tal + thl + tkl + tu) + Lgs*ms*cos(thl + tkl + tu) + k1*mtoe*cos(tal + thl + tkl + tu) + Ls*mf*sin(thl + tkl + tu) + Ls*mtoe*sin(thl + tkl + tu) + k2*mtoe*sin(tal + thl + tkl + tu),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             Lgtoex*mtoe*cos(tal + thl + tkl + tu) + Hfgy*mf*sin(tal + thl + tkl + tu) - Lgtoey*mtoe*sin(tal + thl + tkl + tu) + Lgs*ms*cos(thl + tkl + tu) + k1*mtoe*cos(tal + thl + tkl + tu) + Ls*mf*sin(thl + tkl + tu) + Ls*mtoe*sin(thl + tkl + tu) + k2*mtoe*sin(tal + thl + tkl + tu) + Lgt*mt*sin(thl + tu) - mf*t1*cos(thl + tu) - ms*t1*cos(thl + tu) - mtoe*t1*cos(thl + tu) + mf*t2*sin(thl + tu) + ms*t2*sin(thl + tu) + mtoe*t2*sin(thl + tu),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      2*Hfgx*mf*cos(tar + thr + tkr + tu) - 2*a1*mf*cos(tu) - 2*a1*ms*cos(tu) - 2*a1*mt*cos(tu) - 2*a1*mtoe*cos(tu) - 2*Lfb*mf*cos(tar + thr + tkr + tu) + Lgtoex*mtoe*cos(tal + thl + tkl + tu) + Lgtoex*mtoe*cos(tar + thr + tkr + tu) + 2*a2*mf*sin(tu) + Hfgy*mf*sin(tal + thl + tkl + tu) + Hfgy*mf*sin(tar + thr + tkr + tu) + 2*a2*ms*sin(tu) + 2*a2*mt*sin(tu) + 2*a2*mtoe*sin(tu) - mu*r1*cos(tu) - Lgtoey*mtoe*sin(tal + thl + tkl + tu) + Lgtoey*mtoe*sin(tar + thr + tkr + tu) + Lgs*ms*cos(thl + tkl + tu) - mu*r2*sin(tu) + k1*mtoe*cos(tal + thl + tkl + tu) + k1*mtoe*cos(tar + thr + tkr + tu) + Ls*mf*sin(thl + tkl + tu) + Ls*mf*sin(thr + tkr + tu) + Lgs*ms*sin(thr + tkr + tu) + Ls*mtoe*sin(thl + tkl + tu) + Ls*mtoe*sin(thr + tkr + tu) + k2*mtoe*sin(tal + thl + tkl + tu) + k2*mtoe*sin(tar + thr + tkr + tu) + Lgt*mt*sin(thl + tu) + Lgt*mt*sin(thr + tu) - mf*t1*cos(thl + tu) - mf*t1*cos(thr + tu) - ms*t1*cos(thl + tu) - ms*t1*cos(thr + tu) - mtoe*t1*cos(thl + tu) - mtoe*t1*cos(thr + tu) + mf*t2*sin(thl + tu) + mf*t2*sin(thr + tu) + ms*t2*sin(thl + tu) + ms*t2*sin(thr + tu) + mtoe*t2*sin(thl + tu) + mtoe*t2*sin(thr + tu),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              0,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               2*mf + 2*ms + 2*mt + 2*mtoe + mu];
 
 
V0 = [
 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  Ltoe*sin(tar + thr + tkr + tu)*Ffr - k2*sin(tar + thr + tkr + tu)*Nmr - p1*sin(tar + thr + tkr + tu)*Nrr - Ltoe*cos(tar + thr + tkr + tu)*Nfr - k2*sin(tar + thr + tkr + tu)*Nfr - k2*cos(tar + thr + tkr + tu)*Ffr - k2*cos(tar + thr + tkr + tu)*Fmr - p1*cos(tar + thr + tkr + tu)*Frr - k1*cos(tar + thr + tkr + tu)*Nfr - k1*cos(tar + thr + tkr + tu)*Nmr + p2*cos(tar + thr + tkr + tu)*Nrr + k1*sin(tar + thr + tkr + tu)*Ffr + k1*sin(tar + thr + tkr + tu)*Fmr - p2*sin(tar + thr + tkr + tu)*Frr - g*k1*mtoe*cos(tar + thr + tkr + tu) - g*k2*mtoe*sin(tar + thr + tkr + tu) - 2*Hfgx*g*mf*cos(tar + thr + tkr + tu) + 2*Lfb*g*mf*cos(tar + thr + tkr + tu) - Lgtoex*g*mtoe*cos(tar + thr + tkr + tu) - Hfgy*g*mf*sin(tar + thr + tkr + tu) - Lgtoey*g*mtoe*sin(tar + thr + tkr + tu) + Ls*k2*mtoe*sin(tar)*thr_dt^2 + Ls*k2*mtoe*sin(tar)*tkr_dt^2 + Ls*k2*mtoe*sin(tar)*tu_dt^2 + 2*Hfgx*a2*mf*cos(tar + thr + tkr)*tu_dt^2 + Hfgy*a1*mf*cos(tar + thr + tkr)*tu_dt^2 - 2*Lfb*a2*mf*cos(tar + thr + tkr)*tu_dt^2 + Lgtoex*a2*mtoe*cos(tar + thr + tkr)*tu_dt^2 + Lgtoey*a1*mtoe*cos(tar + thr + tkr)*tu_dt^2 - 2*Hfgx*a1*mf*sin(tar + thr + tkr)*tu_dt^2 + Hfgy*a2*mf*sin(tar + thr + tkr)*tu_dt^2 + 2*Lfb*a1*mf*sin(tar + thr + tkr)*tu_dt^2 - Lgtoex*a1*mtoe*sin(tar + thr + tkr)*tu_dt^2 + Lgtoey*a2*mtoe*sin(tar + thr + tkr)*tu_dt^2 + a1*k2*mtoe*cos(tar + thr + tkr)*tu_dt^2 + a2*k1*mtoe*cos(tar + thr + tkr)*tu_dt^2 + Hfgx*mf*t2*cos(tar + tkr)*thr_dt^2 + Hfgy*mf*t1*cos(tar + tkr)*thr_dt^2 + Hfgx*mf*t2*cos(tar + tkr)*tu_dt^2 + Hfgy*mf*t1*cos(tar + tkr)*tu_dt^2 - Lfb*mf*t2*cos(tar + tkr)*thr_dt^2 - Lfb*mf*t2*cos(tar + tkr)*tu_dt^2 + Lgtoex*mtoe*t2*cos(tar + tkr)*thr_dt^2 + Lgtoey*mtoe*t1*cos(tar + tkr)*thr_dt^2 + Lgtoex*mtoe*t2*cos(tar + tkr)*tu_dt^2 + Lgtoey*mtoe*t1*cos(tar + tkr)*tu_dt^2 - a1*k1*mtoe*sin(tar + thr + tkr)*tu_dt^2 + a2*k2*mtoe*sin(tar + thr + tkr)*tu_dt^2 - Hfgx*mf*t1*sin(tar + tkr)*thr_dt^2 + Hfgy*mf*t2*sin(tar + tkr)*thr_dt^2 - Hfgx*mf*t1*sin(tar + tkr)*tu_dt^2 + Hfgy*mf*t2*sin(tar + tkr)*tu_dt^2 + Lfb*mf*t1*sin(tar + tkr)*thr_dt^2 + Lfb*mf*t1*sin(tar + tkr)*tu_dt^2 - Lgtoex*mtoe*t1*sin(tar + tkr)*thr_dt^2 + Lgtoey*mtoe*t2*sin(tar + tkr)*thr_dt^2 - Lgtoex*mtoe*t1*sin(tar + tkr)*tu_dt^2 + Lgtoey*mtoe*t2*sin(tar + tkr)*tu_dt^2 + k1*mtoe*t2*cos(tar + tkr)*thr_dt^2 + k2*mtoe*t1*cos(tar + tkr)*thr_dt^2 + k1*mtoe*t2*cos(tar + tkr)*tu_dt^2 + k2*mtoe*t1*cos(tar + tkr)*tu_dt^2 + Hfgx*mf*t2*cos(tar - thl + thr + tkr)*thl_dt^2 + Hfgx*mf*t2*cos(tar - thl + thr + tkr)*tu_dt^2 - k1*mtoe*t1*sin(tar + tkr)*thr_dt^2 + k2*mtoe*t2*sin(tar + tkr)*thr_dt^2 - k1*mtoe*t1*sin(tar + tkr)*tu_dt^2 + k2*mtoe*t2*sin(tar + tkr)*tu_dt^2 - Lfb*mf*t2*cos(tar - thl + thr + tkr)*thl_dt^2 - Lfb*mf*t2*cos(tar - thl + thr + tkr)*tu_dt^2 - Hfgx*mf*t1*sin(tar - thl + thr + tkr)*thl_dt^2 - Hfgx*mf*t1*sin(tar - thl + thr + tkr)*tu_dt^2 + Lfb*mf*t1*sin(tar - thl + thr + tkr)*thl_dt^2 + Lfb*mf*t1*sin(tar - thl + thr + tkr)*tu_dt^2 + Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*thl_dt^2 + Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tkl_dt^2 + Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tu_dt^2 - Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*thl_dt^2 - Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tkl_dt^2 - Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tu_dt^2 + Hfgx*Ls*mf*cos(tar)*thr_dt^2 + Hfgx*Ls*mf*cos(tar)*tkr_dt^2 + Hfgx*Ls*mf*cos(tar)*tu_dt^2 + Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tal_dt^2 + Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*thl_dt^2 + Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tkl_dt^2 + Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tu_dt^2 - Lfb*Ls*mf*cos(tar)*thr_dt^2 - Lfb*Ls*mf*cos(tar)*tkr_dt^2 - Lfb*Ls*mf*cos(tar)*tu_dt^2 + Lgtoex*Ls*mtoe*cos(tar)*thr_dt^2 + Lgtoex*Ls*mtoe*cos(tar)*tkr_dt^2 + Lgtoex*Ls*mtoe*cos(tar)*tu_dt^2 - Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tal_dt^2 - Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*thl_dt^2 - Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tkl_dt^2 - Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tu_dt^2 + Hfgy*Ls*mf*sin(tar)*thr_dt^2 + Hfgy*Ls*mf*sin(tar)*tkr_dt^2 + Hfgy*Ls*mf*sin(tar)*tu_dt^2 + Lgtoey*Ls*mtoe*sin(tar)*thr_dt^2 + Lgtoey*Ls*mtoe*sin(tar)*tkr_dt^2 + Lgtoey*Ls*mtoe*sin(tar)*tu_dt^2 + Ls*k1*mtoe*cos(tar)*thr_dt^2 + Ls*k1*mtoe*cos(tar)*tkr_dt^2 + Ls*k1*mtoe*cos(tar)*tu_dt^2 + 2*Hfgx*Ls*mf*cos(tar)*thr_dt*tkr_dt + 2*Hfgx*Ls*mf*cos(tar)*thr_dt*tu_dt + 2*Hfgx*Ls*mf*cos(tar)*tkr_dt*tu_dt + 2*Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tal_dt*thl_dt + 2*Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tal_dt*tkl_dt + 2*Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*thl_dt*tkl_dt + 2*Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tal_dt*tu_dt + 2*Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*thl_dt*tu_dt + 2*Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tkl_dt*tu_dt - 2*Lfb*Ls*mf*cos(tar)*thr_dt*tkr_dt - 2*Lfb*Ls*mf*cos(tar)*thr_dt*tu_dt - 2*Lfb*Ls*mf*cos(tar)*tkr_dt*tu_dt + 2*Lgtoex*Ls*mtoe*cos(tar)*thr_dt*tkr_dt + 2*Lgtoex*Ls*mtoe*cos(tar)*thr_dt*tu_dt + 2*Lgtoex*Ls*mtoe*cos(tar)*tkr_dt*tu_dt - 2*Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tal_dt*thl_dt - 2*Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tal_dt*tkl_dt - 2*Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*thl_dt*tkl_dt - 2*Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tal_dt*tu_dt - 2*Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*thl_dt*tu_dt - 2*Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tkl_dt*tu_dt + 2*Hfgy*Ls*mf*sin(tar)*thr_dt*tkr_dt + 2*Hfgy*Ls*mf*sin(tar)*thr_dt*tu_dt + 2*Hfgy*Ls*mf*sin(tar)*tkr_dt*tu_dt + 2*Lgtoey*Ls*mtoe*sin(tar)*thr_dt*tkr_dt + 2*Lgtoey*Ls*mtoe*sin(tar)*thr_dt*tu_dt + 2*Lgtoey*Ls*mtoe*sin(tar)*tkr_dt*tu_dt + 2*Ls*k1*mtoe*cos(tar)*thr_dt*tkr_dt + 2*Ls*k1*mtoe*cos(tar)*thr_dt*tu_dt + 2*Ls*k1*mtoe*cos(tar)*tkr_dt*tu_dt + 2*Ls*k2*mtoe*sin(tar)*thr_dt*tkr_dt + 2*Ls*k2*mtoe*sin(tar)*thr_dt*tu_dt + 2*Ls*k2*mtoe*sin(tar)*tkr_dt*tu_dt + 2*Hfgx*mf*t2*cos(tar + tkr)*thr_dt*tu_dt + 2*Hfgy*mf*t1*cos(tar + tkr)*thr_dt*tu_dt - 2*Lfb*mf*t2*cos(tar + tkr)*thr_dt*tu_dt + 2*Lgtoex*mtoe*t2*cos(tar + tkr)*thr_dt*tu_dt + 2*Lgtoey*mtoe*t1*cos(tar + tkr)*thr_dt*tu_dt - 2*Hfgx*mf*t1*sin(tar + tkr)*thr_dt*tu_dt + 2*Hfgy*mf*t2*sin(tar + tkr)*thr_dt*tu_dt + 2*Lfb*mf*t1*sin(tar + tkr)*thr_dt*tu_dt - 2*Lgtoex*mtoe*t1*sin(tar + tkr)*thr_dt*tu_dt + 2*Lgtoey*mtoe*t2*sin(tar + tkr)*thr_dt*tu_dt + 2*k1*mtoe*t2*cos(tar + tkr)*thr_dt*tu_dt + 2*k2*mtoe*t1*cos(tar + tkr)*thr_dt*tu_dt + 2*Hfgx*mf*t2*cos(tar - thl + thr + tkr)*thl_dt*tu_dt - 2*k1*mtoe*t1*sin(tar + tkr)*thr_dt*tu_dt + 2*k2*mtoe*t2*sin(tar + tkr)*thr_dt*tu_dt - 2*Lfb*mf*t2*cos(tar - thl + thr + tkr)*thl_dt*tu_dt - 2*Hfgx*mf*t1*sin(tar - thl + thr + tkr)*thl_dt*tu_dt + 2*Lfb*mf*t1*sin(tar - thl + thr + tkr)*thl_dt*tu_dt + 2*Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*thl_dt*tkl_dt + 2*Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*thl_dt*tu_dt + 2*Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tkl_dt*tu_dt - 2*Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*thl_dt*tkl_dt - 2*Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*thl_dt*tu_dt - 2*Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tkl_dt*tu_dt
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    Ltoe*sin(tar + thr + tkr + tu)*Ffr - k2*sin(tar + thr + tkr + tu)*Nmr - p1*sin(tar + thr + tkr + tu)*Nrr - Ltoe*cos(tar + thr + tkr + tu)*Nfr - k2*sin(tar + thr + tkr + tu)*Nfr - Ls*cos(thr + tkr + tu)*Frr - Ls*cos(thr + tkr + tu)*Ffr - Ls*cos(thr + tkr + tu)*Fmr - k2*cos(tar + thr + tkr + tu)*Ffr - k2*cos(tar + thr + tkr + tu)*Fmr - p1*cos(tar + thr + tkr + tu)*Frr - k1*cos(tar + thr + tkr + tu)*Nfr - k1*cos(tar + thr + tkr + tu)*Nmr + p2*cos(tar + thr + tkr + tu)*Nrr + k1*sin(tar + thr + tkr + tu)*Ffr + k1*sin(tar + thr + tkr + tu)*Fmr - Ls*sin(thr + tkr + tu)*Nrr - Ls*sin(thr + tkr + tu)*Nfr - Ls*sin(thr + tkr + tu)*Nmr - p2*sin(tar + thr + tkr + tu)*Frr - g*k1*mtoe*cos(tar + thr + tkr + tu) - Ls*g*mf*sin(thr + tkr + tu) - Lgs*g*ms*sin(thr + tkr + tu) - Ls*g*mtoe*sin(thr + tkr + tu) - g*k2*mtoe*sin(tar + thr + tkr + tu) - 2*Hfgx*g*mf*cos(tar + thr + tkr + tu) + 2*Lfb*g*mf*cos(tar + thr + tkr + tu) - Lgtoex*g*mtoe*cos(tar + thr + tkr + tu) - Hfgy*g*mf*sin(tar + thr + tkr + tu) - Lgtoey*g*mtoe*sin(tar + thr + tkr + tu) - Ls*k2*mtoe*sin(tar)*tar_dt^2 + Ls*mf*t2*sin(tkr)*thr_dt^2 + Lgs*ms*t2*sin(tkr)*thr_dt^2 + Ls*mf*t2*sin(tkr)*tu_dt^2 + Lgs*ms*t2*sin(tkr)*tu_dt^2 + Ls*mtoe*t2*sin(tkr)*thr_dt^2 + Ls*mtoe*t2*sin(tkr)*tu_dt^2 + 2*Hfgx*a2*mf*cos(tar + thr + tkr)*tu_dt^2 + Hfgy*a1*mf*cos(tar + thr + tkr)*tu_dt^2 - 2*Lfb*a2*mf*cos(tar + thr + tkr)*tu_dt^2 + Lgtoex*a2*mtoe*cos(tar + thr + tkr)*tu_dt^2 + Lgtoey*a1*mtoe*cos(tar + thr + tkr)*tu_dt^2 - 2*Hfgx*a1*mf*sin(tar + thr + tkr)*tu_dt^2 + Hfgy*a2*mf*sin(tar + thr + tkr)*tu_dt^2 + 2*Lfb*a1*mf*sin(tar + thr + tkr)*tu_dt^2 - Lgtoex*a1*mtoe*sin(tar + thr + tkr)*tu_dt^2 + Lgtoey*a2*mtoe*sin(tar + thr + tkr)*tu_dt^2 + Ls*a1*mf*cos(thr + tkr)*tu_dt^2 + Lgs*a1*ms*cos(thr + tkr)*tu_dt^2 + Ls*a1*mtoe*cos(thr + tkr)*tu_dt^2 + a1*k2*mtoe*cos(tar + thr + tkr)*tu_dt^2 + a2*k1*mtoe*cos(tar + thr + tkr)*tu_dt^2 + Hfgx*mf*t2*cos(tar + tkr)*thr_dt^2 + Hfgy*mf*t1*cos(tar + tkr)*thr_dt^2 + Hfgx*mf*t2*cos(tar + tkr)*tu_dt^2 + Hfgy*mf*t1*cos(tar + tkr)*tu_dt^2 + Ls*a2*mf*sin(thr + tkr)*tu_dt^2 + Lgs*a2*ms*sin(thr + tkr)*tu_dt^2 + Ls*a2*mtoe*sin(thr + tkr)*tu_dt^2 - Lfb*mf*t2*cos(tar + tkr)*thr_dt^2 - Lfb*mf*t2*cos(tar + tkr)*tu_dt^2 + Lgtoex*mtoe*t2*cos(tar + tkr)*thr_dt^2 + Lgtoey*mtoe*t1*cos(tar + tkr)*thr_dt^2 + Lgtoex*mtoe*t2*cos(tar + tkr)*tu_dt^2 + Lgtoey*mtoe*t1*cos(tar + tkr)*tu_dt^2 - a1*k1*mtoe*sin(tar + thr + tkr)*tu_dt^2 + a2*k2*mtoe*sin(tar + thr + tkr)*tu_dt^2 - Hfgx*mf*t1*sin(tar + tkr)*thr_dt^2 + Hfgy*mf*t2*sin(tar + tkr)*thr_dt^2 - Hfgx*mf*t1*sin(tar + tkr)*tu_dt^2 + Hfgy*mf*t2*sin(tar + tkr)*tu_dt^2 + Lfb*mf*t1*sin(tar + tkr)*thr_dt^2 + Lfb*mf*t1*sin(tar + tkr)*tu_dt^2 - Lgtoex*mtoe*t1*sin(tar + tkr)*thr_dt^2 + Lgtoey*mtoe*t2*sin(tar + tkr)*thr_dt^2 - Lgtoex*mtoe*t1*sin(tar + tkr)*tu_dt^2 + Lgtoey*mtoe*t2*sin(tar + tkr)*tu_dt^2 + k1*mtoe*t2*cos(tar + tkr)*thr_dt^2 + k2*mtoe*t1*cos(tar + tkr)*thr_dt^2 + k1*mtoe*t2*cos(tar + tkr)*tu_dt^2 + k2*mtoe*t1*cos(tar + tkr)*tu_dt^2 + Hfgx*mf*t2*cos(tar - thl + thr + tkr)*thl_dt^2 + Hfgx*mf*t2*cos(tar - thl + thr + tkr)*tu_dt^2 - k1*mtoe*t1*sin(tar + tkr)*thr_dt^2 + k2*mtoe*t2*sin(tar + tkr)*thr_dt^2 - k1*mtoe*t1*sin(tar + tkr)*tu_dt^2 + k2*mtoe*t2*sin(tar + tkr)*tu_dt^2 - Lfb*mf*t2*cos(tar - thl + thr + tkr)*thl_dt^2 - Lfb*mf*t2*cos(tar - thl + thr + tkr)*tu_dt^2 - Hfgx*mf*t1*sin(tar - thl + thr + tkr)*thl_dt^2 - Hfgx*mf*t1*sin(tar - thl + thr + tkr)*tu_dt^2 + Lfb*mf*t1*sin(tar - thl + thr + tkr)*thl_dt^2 + Lfb*mf*t1*sin(tar - thl + thr + tkr)*tu_dt^2 + Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*thl_dt^2 + Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tkl_dt^2 + Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tu_dt^2 - Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*thl_dt^2 - Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tkl_dt^2 - Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tu_dt^2 - Hfgx*Ls*mf*cos(tar)*tar_dt^2 + Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tal_dt^2 + Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*thl_dt^2 + Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tkl_dt^2 + Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tu_dt^2 + Lfb*Ls*mf*cos(tar)*tar_dt^2 - Lgtoex*Ls*mtoe*cos(tar)*tar_dt^2 - Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tal_dt^2 - Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*thl_dt^2 - Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tkl_dt^2 - Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tu_dt^2 - Hfgy*Ls*mf*sin(tar)*tar_dt^2 - Lgtoey*Ls*mtoe*sin(tar)*tar_dt^2 - Ls*k1*mtoe*cos(tar)*tar_dt^2 + Ls*mf*t1*cos(tkr)*thr_dt^2 + Lgs*ms*t1*cos(tkr)*thr_dt^2 + Ls*mf*t1*cos(tkr)*tu_dt^2 + Lgs*ms*t1*cos(tkr)*tu_dt^2 + Ls*mtoe*t1*cos(tkr)*thr_dt^2 + Ls*mtoe*t1*cos(tkr)*tu_dt^2 - 2*Hfgx*Ls*mf*cos(tar)*tar_dt*thr_dt - 2*Hfgx*Ls*mf*cos(tar)*tar_dt*tkr_dt - 2*Hfgx*Ls*mf*cos(tar)*tar_dt*tu_dt + 2*Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tal_dt*thl_dt + 2*Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tal_dt*tkl_dt + 2*Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*thl_dt*tkl_dt + 2*Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tal_dt*tu_dt + 2*Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*thl_dt*tu_dt + 2*Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tkl_dt*tu_dt + 2*Lfb*Ls*mf*cos(tar)*tar_dt*thr_dt + 2*Lfb*Ls*mf*cos(tar)*tar_dt*tkr_dt + 2*Lfb*Ls*mf*cos(tar)*tar_dt*tu_dt - 2*Lgtoex*Ls*mtoe*cos(tar)*tar_dt*thr_dt - 2*Lgtoex*Ls*mtoe*cos(tar)*tar_dt*tkr_dt - 2*Lgtoex*Ls*mtoe*cos(tar)*tar_dt*tu_dt - 2*Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tal_dt*thl_dt - 2*Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tal_dt*tkl_dt - 2*Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*thl_dt*tkl_dt - 2*Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tal_dt*tu_dt - 2*Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*thl_dt*tu_dt - 2*Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tkl_dt*tu_dt - 2*Hfgy*Ls*mf*sin(tar)*tar_dt*thr_dt - 2*Hfgy*Ls*mf*sin(tar)*tar_dt*tkr_dt - 2*Hfgy*Ls*mf*sin(tar)*tar_dt*tu_dt - 2*Lgtoey*Ls*mtoe*sin(tar)*tar_dt*thr_dt - 2*Lgtoey*Ls*mtoe*sin(tar)*tar_dt*tkr_dt - 2*Lgtoey*Ls*mtoe*sin(tar)*tar_dt*tu_dt - 2*Ls*k1*mtoe*cos(tar)*tar_dt*thr_dt - 2*Ls*k1*mtoe*cos(tar)*tar_dt*tkr_dt - 2*Ls*k1*mtoe*cos(tar)*tar_dt*tu_dt + 2*Ls*mf*t1*cos(tkr)*thr_dt*tu_dt + 2*Lgs*ms*t1*cos(tkr)*thr_dt*tu_dt + 2*Ls*mtoe*t1*cos(tkr)*thr_dt*tu_dt - 2*Ls*k2*mtoe*sin(tar)*tar_dt*thr_dt - 2*Ls*k2*mtoe*sin(tar)*tar_dt*tkr_dt - 2*Ls*k2*mtoe*sin(tar)*tar_dt*tu_dt + 2*Ls*mf*t2*sin(tkr)*thr_dt*tu_dt + 2*Lgs*ms*t2*sin(tkr)*thr_dt*tu_dt + 2*Ls*mtoe*t2*sin(tkr)*thr_dt*tu_dt + 2*Hfgx*mf*t2*cos(tar + tkr)*thr_dt*tu_dt + 2*Hfgy*mf*t1*cos(tar + tkr)*thr_dt*tu_dt - 2*Lfb*mf*t2*cos(tar + tkr)*thr_dt*tu_dt + 2*Lgtoex*mtoe*t2*cos(tar + tkr)*thr_dt*tu_dt + 2*Lgtoey*mtoe*t1*cos(tar + tkr)*thr_dt*tu_dt - 2*Hfgx*mf*t1*sin(tar + tkr)*thr_dt*tu_dt + 2*Hfgy*mf*t2*sin(tar + tkr)*thr_dt*tu_dt + 2*Lfb*mf*t1*sin(tar + tkr)*thr_dt*tu_dt - 2*Lgtoex*mtoe*t1*sin(tar + tkr)*thr_dt*tu_dt + 2*Lgtoey*mtoe*t2*sin(tar + tkr)*thr_dt*tu_dt + 2*k1*mtoe*t2*cos(tar + tkr)*thr_dt*tu_dt + 2*k2*mtoe*t1*cos(tar + tkr)*thr_dt*tu_dt + 2*Hfgx*mf*t2*cos(tar - thl + thr + tkr)*thl_dt*tu_dt - 2*k1*mtoe*t1*sin(tar + tkr)*thr_dt*tu_dt + 2*k2*mtoe*t2*sin(tar + tkr)*thr_dt*tu_dt - 2*Lfb*mf*t2*cos(tar - thl + thr + tkr)*thl_dt*tu_dt - 2*Hfgx*mf*t1*sin(tar - thl + thr + tkr)*thl_dt*tu_dt + 2*Lfb*mf*t1*sin(tar - thl + thr + tkr)*thl_dt*tu_dt + 2*Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*thl_dt*tkl_dt + 2*Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*thl_dt*tu_dt + 2*Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tkl_dt*tu_dt - 2*Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*thl_dt*tkl_dt - 2*Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*thl_dt*tu_dt - 2*Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tkl_dt*tu_dt
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       t1*cos(thr + tu)*Nrr - k2*sin(tar + thr + tkr + tu)*Nmr - p1*sin(tar + thr + tkr + tu)*Nrr - t2*cos(thr + tu)*Frr - t2*cos(thr + tu)*Ffr - t2*cos(thr + tu)*Fmr - k2*sin(tar + thr + tkr + tu)*Nfr + t1*cos(thr + tu)*Nfr + t1*cos(thr + tu)*Nmr - t1*sin(thr + tu)*Frr - t1*sin(thr + tu)*Ffr - t1*sin(thr + tu)*Fmr - t2*sin(thr + tu)*Nrr - t2*sin(thr + tu)*Nfr - t2*sin(thr + tu)*Nmr - Ltoe*cos(tar + thr + tkr + tu)*Nfr + Ltoe*sin(tar + thr + tkr + tu)*Ffr - Ls*cos(thr + tkr + tu)*Frr - Ls*cos(thr + tkr + tu)*Ffr - Ls*cos(thr + tkr + tu)*Fmr - k2*cos(tar + thr + tkr + tu)*Ffr - k2*cos(tar + thr + tkr + tu)*Fmr - p1*cos(tar + thr + tkr + tu)*Frr - k1*cos(tar + thr + tkr + tu)*Nfr - k1*cos(tar + thr + tkr + tu)*Nmr + p2*cos(tar + thr + tkr + tu)*Nrr + k1*sin(tar + thr + tkr + tu)*Ffr + k1*sin(tar + thr + tkr + tu)*Fmr - Ls*sin(thr + tkr + tu)*Nrr - Ls*sin(thr + tkr + tu)*Nfr - Ls*sin(thr + tkr + tu)*Nmr - p2*sin(tar + thr + tkr + tu)*Frr - g*k1*mtoe*cos(tar + thr + tkr + tu) - Ls*g*mf*sin(thr + tkr + tu) - Lgs*g*ms*sin(thr + tkr + tu) - Ls*g*mtoe*sin(thr + tkr + tu) - g*k2*mtoe*sin(tar + thr + tkr + tu) - Lgt*g*mt*sin(thr + tu) + g*mf*t1*cos(thr + tu) + g*ms*t1*cos(thr + tu) + g*mtoe*t1*cos(thr + tu) - g*mf*t2*sin(thr + tu) - g*ms*t2*sin(thr + tu) - g*mtoe*t2*sin(thr + tu) - 2*Hfgx*g*mf*cos(tar + thr + tkr + tu) + 2*Lfb*g*mf*cos(tar + thr + tkr + tu) - Lgtoex*g*mtoe*cos(tar + thr + tkr + tu) - Hfgy*g*mf*sin(tar + thr + tkr + tu) - Lgtoey*g*mtoe*sin(tar + thr + tkr + tu) - Ls*k2*mtoe*sin(tar)*tar_dt^2 - Ls*mf*t2*sin(tkr)*tkr_dt^2 - Lgs*ms*t2*sin(tkr)*tkr_dt^2 - Ls*mtoe*t2*sin(tkr)*tkr_dt^2 + a1*mf*t2*cos(thr)*tu_dt^2 - a2*mf*t1*cos(thr)*tu_dt^2 + a1*ms*t2*cos(thr)*tu_dt^2 - a2*ms*t1*cos(thr)*tu_dt^2 + a1*mtoe*t2*cos(thr)*tu_dt^2 - a2*mtoe*t1*cos(thr)*tu_dt^2 + 2*Hfgx*a2*mf*cos(tar + thr + tkr)*tu_dt^2 + Hfgy*a1*mf*cos(tar + thr + tkr)*tu_dt^2 - 2*Lfb*a2*mf*cos(tar + thr + tkr)*tu_dt^2 + Lgtoex*a2*mtoe*cos(tar + thr + tkr)*tu_dt^2 + Lgtoey*a1*mtoe*cos(tar + thr + tkr)*tu_dt^2 + a1*mf*t1*sin(thr)*tu_dt^2 + a2*mf*t2*sin(thr)*tu_dt^2 + a1*ms*t1*sin(thr)*tu_dt^2 + a2*ms*t2*sin(thr)*tu_dt^2 + a1*mtoe*t1*sin(thr)*tu_dt^2 + a2*mtoe*t2*sin(thr)*tu_dt^2 - 2*Hfgx*a1*mf*sin(tar + thr + tkr)*tu_dt^2 + Hfgy*a2*mf*sin(tar + thr + tkr)*tu_dt^2 + 2*Lfb*a1*mf*sin(tar + thr + tkr)*tu_dt^2 - Lgtoex*a1*mtoe*sin(tar + thr + tkr)*tu_dt^2 + Lgtoey*a2*mtoe*sin(tar + thr + tkr)*tu_dt^2 + Ls*a1*mf*cos(thr + tkr)*tu_dt^2 + Lgs*a1*ms*cos(thr + tkr)*tu_dt^2 + Ls*a1*mtoe*cos(thr + tkr)*tu_dt^2 + a1*k2*mtoe*cos(tar + thr + tkr)*tu_dt^2 + a2*k1*mtoe*cos(tar + thr + tkr)*tu_dt^2 - Hfgx*mf*t2*cos(tar + tkr)*tar_dt^2 - Hfgy*mf*t1*cos(tar + tkr)*tar_dt^2 - Hfgx*mf*t2*cos(tar + tkr)*tkr_dt^2 - Hfgy*mf*t1*cos(tar + tkr)*tkr_dt^2 + Ls*a2*mf*sin(thr + tkr)*tu_dt^2 + Lgs*a2*ms*sin(thr + tkr)*tu_dt^2 + Ls*a2*mtoe*sin(thr + tkr)*tu_dt^2 + Lfb*mf*t2*cos(tar + tkr)*tar_dt^2 + Lfb*mf*t2*cos(tar + tkr)*tkr_dt^2 - Lgtoex*mtoe*t2*cos(tar + tkr)*tar_dt^2 - Lgtoey*mtoe*t1*cos(tar + tkr)*tar_dt^2 - Lgtoex*mtoe*t2*cos(tar + tkr)*tkr_dt^2 - Lgtoey*mtoe*t1*cos(tar + tkr)*tkr_dt^2 - a1*k1*mtoe*sin(tar + thr + tkr)*tu_dt^2 + a2*k2*mtoe*sin(tar + thr + tkr)*tu_dt^2 + Hfgx*mf*t1*sin(tar + tkr)*tar_dt^2 - Hfgy*mf*t2*sin(tar + tkr)*tar_dt^2 + Hfgx*mf*t1*sin(tar + tkr)*tkr_dt^2 - Hfgy*mf*t2*sin(tar + tkr)*tkr_dt^2 - Lfb*mf*t1*sin(tar + tkr)*tar_dt^2 - Lfb*mf*t1*sin(tar + tkr)*tkr_dt^2 + Lgtoex*mtoe*t1*sin(tar + tkr)*tar_dt^2 - Lgtoey*mtoe*t2*sin(tar + tkr)*tar_dt^2 + Lgtoex*mtoe*t1*sin(tar + tkr)*tkr_dt^2 - Lgtoey*mtoe*t2*sin(tar + tkr)*tkr_dt^2 - k1*mtoe*t2*cos(tar + tkr)*tar_dt^2 - k2*mtoe*t1*cos(tar + tkr)*tar_dt^2 - k1*mtoe*t2*cos(tar + tkr)*tkr_dt^2 - k2*mtoe*t1*cos(tar + tkr)*tkr_dt^2 + Hfgx*mf*t2*cos(tar - thl + thr + tkr)*thl_dt^2 + Hfgx*mf*t2*cos(tar - thl + thr + tkr)*tu_dt^2 + k1*mtoe*t1*sin(tar + tkr)*tar_dt^2 - k2*mtoe*t2*sin(tar + tkr)*tar_dt^2 + k1*mtoe*t1*sin(tar + tkr)*tkr_dt^2 - k2*mtoe*t2*sin(tar + tkr)*tkr_dt^2 - Lfb*mf*t2*cos(tar - thl + thr + tkr)*thl_dt^2 - Lfb*mf*t2*cos(tar - thl + thr + tkr)*tu_dt^2 - Hfgx*mf*t1*sin(tar - thl + thr + tkr)*thl_dt^2 - Hfgx*mf*t1*sin(tar - thl + thr + tkr)*tu_dt^2 + Lfb*mf*t1*sin(tar - thl + thr + tkr)*thl_dt^2 + Lfb*mf*t1*sin(tar - thl + thr + tkr)*tu_dt^2 + Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*thl_dt^2 + Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tkl_dt^2 + Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tu_dt^2 - Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*thl_dt^2 - Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tkl_dt^2 - Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tu_dt^2 - Hfgx*Ls*mf*cos(tar)*tar_dt^2 + Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tal_dt^2 + Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*thl_dt^2 + Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tkl_dt^2 + Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tu_dt^2 + Lfb*Ls*mf*cos(tar)*tar_dt^2 - Lgtoex*Ls*mtoe*cos(tar)*tar_dt^2 - Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tal_dt^2 - Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*thl_dt^2 - Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tkl_dt^2 - Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tu_dt^2 - Hfgy*Ls*mf*sin(tar)*tar_dt^2 - Lgtoey*Ls*mtoe*sin(tar)*tar_dt^2 + Lgt*a1*mt*cos(thr)*tu_dt^2 - Ls*k1*mtoe*cos(tar)*tar_dt^2 + Lgt*a2*mt*sin(thr)*tu_dt^2 - Ls*mf*t1*cos(tkr)*tkr_dt^2 - Lgs*ms*t1*cos(tkr)*tkr_dt^2 - Ls*mtoe*t1*cos(tkr)*tkr_dt^2 - 2*Hfgx*Ls*mf*cos(tar)*tar_dt*thr_dt - 2*Hfgx*Ls*mf*cos(tar)*tar_dt*tkr_dt - 2*Hfgx*Ls*mf*cos(tar)*tar_dt*tu_dt + 2*Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tal_dt*thl_dt + 2*Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tal_dt*tkl_dt + 2*Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*thl_dt*tkl_dt + 2*Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tal_dt*tu_dt + 2*Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*thl_dt*tu_dt + 2*Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tkl_dt*tu_dt + 2*Lfb*Ls*mf*cos(tar)*tar_dt*thr_dt + 2*Lfb*Ls*mf*cos(tar)*tar_dt*tkr_dt + 2*Lfb*Ls*mf*cos(tar)*tar_dt*tu_dt - 2*Lgtoex*Ls*mtoe*cos(tar)*tar_dt*thr_dt - 2*Lgtoex*Ls*mtoe*cos(tar)*tar_dt*tkr_dt - 2*Lgtoex*Ls*mtoe*cos(tar)*tar_dt*tu_dt - 2*Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tal_dt*thl_dt - 2*Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tal_dt*tkl_dt - 2*Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*thl_dt*tkl_dt - 2*Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tal_dt*tu_dt - 2*Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*thl_dt*tu_dt - 2*Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tkl_dt*tu_dt - 2*Hfgy*Ls*mf*sin(tar)*tar_dt*thr_dt - 2*Hfgy*Ls*mf*sin(tar)*tar_dt*tkr_dt - 2*Hfgy*Ls*mf*sin(tar)*tar_dt*tu_dt - 2*Lgtoey*Ls*mtoe*sin(tar)*tar_dt*thr_dt - 2*Lgtoey*Ls*mtoe*sin(tar)*tar_dt*tkr_dt - 2*Lgtoey*Ls*mtoe*sin(tar)*tar_dt*tu_dt - 2*Ls*k1*mtoe*cos(tar)*tar_dt*thr_dt - 2*Ls*k1*mtoe*cos(tar)*tar_dt*tkr_dt - 2*Ls*k1*mtoe*cos(tar)*tar_dt*tu_dt - 2*Ls*mf*t1*cos(tkr)*thr_dt*tkr_dt - 2*Lgs*ms*t1*cos(tkr)*thr_dt*tkr_dt - 2*Ls*mf*t1*cos(tkr)*tkr_dt*tu_dt - 2*Lgs*ms*t1*cos(tkr)*tkr_dt*tu_dt - 2*Ls*mtoe*t1*cos(tkr)*thr_dt*tkr_dt - 2*Ls*mtoe*t1*cos(tkr)*tkr_dt*tu_dt - 2*Ls*k2*mtoe*sin(tar)*tar_dt*thr_dt - 2*Ls*k2*mtoe*sin(tar)*tar_dt*tkr_dt - 2*Ls*k2*mtoe*sin(tar)*tar_dt*tu_dt - 2*Ls*mf*t2*sin(tkr)*thr_dt*tkr_dt - 2*Lgs*ms*t2*sin(tkr)*thr_dt*tkr_dt - 2*Ls*mf*t2*sin(tkr)*tkr_dt*tu_dt - 2*Lgs*ms*t2*sin(tkr)*tkr_dt*tu_dt - 2*Ls*mtoe*t2*sin(tkr)*thr_dt*tkr_dt - 2*Ls*mtoe*t2*sin(tkr)*tkr_dt*tu_dt - 2*Hfgx*mf*t2*cos(tar + tkr)*tar_dt*thr_dt - 2*Hfgy*mf*t1*cos(tar + tkr)*tar_dt*thr_dt - 2*Hfgx*mf*t2*cos(tar + tkr)*tar_dt*tkr_dt - 2*Hfgy*mf*t1*cos(tar + tkr)*tar_dt*tkr_dt - 2*Hfgx*mf*t2*cos(tar + tkr)*thr_dt*tkr_dt - 2*Hfgy*mf*t1*cos(tar + tkr)*thr_dt*tkr_dt - 2*Hfgx*mf*t2*cos(tar + tkr)*tar_dt*tu_dt - 2*Hfgy*mf*t1*cos(tar + tkr)*tar_dt*tu_dt - 2*Hfgx*mf*t2*cos(tar + tkr)*tkr_dt*tu_dt - 2*Hfgy*mf*t1*cos(tar + tkr)*tkr_dt*tu_dt + 2*Lfb*mf*t2*cos(tar + tkr)*tar_dt*thr_dt + 2*Lfb*mf*t2*cos(tar + tkr)*tar_dt*tkr_dt + 2*Lfb*mf*t2*cos(tar + tkr)*thr_dt*tkr_dt + 2*Lfb*mf*t2*cos(tar + tkr)*tar_dt*tu_dt - 2*Lgtoex*mtoe*t2*cos(tar + tkr)*tar_dt*thr_dt - 2*Lgtoey*mtoe*t1*cos(tar + tkr)*tar_dt*thr_dt - 2*Lgtoex*mtoe*t2*cos(tar + tkr)*tar_dt*tkr_dt - 2*Lgtoey*mtoe*t1*cos(tar + tkr)*tar_dt*tkr_dt + 2*Lfb*mf*t2*cos(tar + tkr)*tkr_dt*tu_dt - 2*Lgtoex*mtoe*t2*cos(tar + tkr)*thr_dt*tkr_dt - 2*Lgtoey*mtoe*t1*cos(tar + tkr)*thr_dt*tkr_dt - 2*Lgtoex*mtoe*t2*cos(tar + tkr)*tar_dt*tu_dt - 2*Lgtoey*mtoe*t1*cos(tar + tkr)*tar_dt*tu_dt - 2*Lgtoex*mtoe*t2*cos(tar + tkr)*tkr_dt*tu_dt - 2*Lgtoey*mtoe*t1*cos(tar + tkr)*tkr_dt*tu_dt + 2*Hfgx*mf*t1*sin(tar + tkr)*tar_dt*thr_dt - 2*Hfgy*mf*t2*sin(tar + tkr)*tar_dt*thr_dt + 2*Hfgx*mf*t1*sin(tar + tkr)*tar_dt*tkr_dt - 2*Hfgy*mf*t2*sin(tar + tkr)*tar_dt*tkr_dt + 2*Hfgx*mf*t1*sin(tar + tkr)*thr_dt*tkr_dt - 2*Hfgy*mf*t2*sin(tar + tkr)*thr_dt*tkr_dt + 2*Hfgx*mf*t1*sin(tar + tkr)*tar_dt*tu_dt - 2*Hfgy*mf*t2*sin(tar + tkr)*tar_dt*tu_dt + 2*Hfgx*mf*t1*sin(tar + tkr)*tkr_dt*tu_dt - 2*Hfgy*mf*t2*sin(tar + tkr)*tkr_dt*tu_dt - 2*Lfb*mf*t1*sin(tar + tkr)*tar_dt*thr_dt - 2*Lfb*mf*t1*sin(tar + tkr)*tar_dt*tkr_dt - 2*Lfb*mf*t1*sin(tar + tkr)*thr_dt*tkr_dt - 2*Lfb*mf*t1*sin(tar + tkr)*tar_dt*tu_dt + 2*Lgtoex*mtoe*t1*sin(tar + tkr)*tar_dt*thr_dt - 2*Lgtoey*mtoe*t2*sin(tar + tkr)*tar_dt*thr_dt + 2*Lgtoex*mtoe*t1*sin(tar + tkr)*tar_dt*tkr_dt - 2*Lgtoey*mtoe*t2*sin(tar + tkr)*tar_dt*tkr_dt - 2*Lfb*mf*t1*sin(tar + tkr)*tkr_dt*tu_dt + 2*Lgtoex*mtoe*t1*sin(tar + tkr)*thr_dt*tkr_dt - 2*Lgtoey*mtoe*t2*sin(tar + tkr)*thr_dt*tkr_dt + 2*Lgtoex*mtoe*t1*sin(tar + tkr)*tar_dt*tu_dt - 2*Lgtoey*mtoe*t2*sin(tar + tkr)*tar_dt*tu_dt + 2*Lgtoex*mtoe*t1*sin(tar + tkr)*tkr_dt*tu_dt - 2*Lgtoey*mtoe*t2*sin(tar + tkr)*tkr_dt*tu_dt - 2*k1*mtoe*t2*cos(tar + tkr)*tar_dt*thr_dt - 2*k2*mtoe*t1*cos(tar + tkr)*tar_dt*thr_dt - 2*k1*mtoe*t2*cos(tar + tkr)*tar_dt*tkr_dt - 2*k2*mtoe*t1*cos(tar + tkr)*tar_dt*tkr_dt - 2*k1*mtoe*t2*cos(tar + tkr)*thr_dt*tkr_dt - 2*k2*mtoe*t1*cos(tar + tkr)*thr_dt*tkr_dt - 2*k1*mtoe*t2*cos(tar + tkr)*tar_dt*tu_dt - 2*k2*mtoe*t1*cos(tar + tkr)*tar_dt*tu_dt - 2*k1*mtoe*t2*cos(tar + tkr)*tkr_dt*tu_dt - 2*k2*mtoe*t1*cos(tar + tkr)*tkr_dt*tu_dt + 2*Hfgx*mf*t2*cos(tar - thl + thr + tkr)*thl_dt*tu_dt + 2*k1*mtoe*t1*sin(tar + tkr)*tar_dt*thr_dt - 2*k2*mtoe*t2*sin(tar + tkr)*tar_dt*thr_dt + 2*k1*mtoe*t1*sin(tar + tkr)*tar_dt*tkr_dt - 2*k2*mtoe*t2*sin(tar + tkr)*tar_dt*tkr_dt + 2*k1*mtoe*t1*sin(tar + tkr)*thr_dt*tkr_dt - 2*k2*mtoe*t2*sin(tar + tkr)*thr_dt*tkr_dt + 2*k1*mtoe*t1*sin(tar + tkr)*tar_dt*tu_dt - 2*k2*mtoe*t2*sin(tar + tkr)*tar_dt*tu_dt + 2*k1*mtoe*t1*sin(tar + tkr)*tkr_dt*tu_dt - 2*k2*mtoe*t2*sin(tar + tkr)*tkr_dt*tu_dt - 2*Lfb*mf*t2*cos(tar - thl + thr + tkr)*thl_dt*tu_dt - 2*Hfgx*mf*t1*sin(tar - thl + thr + tkr)*thl_dt*tu_dt + 2*Lfb*mf*t1*sin(tar - thl + thr + tkr)*thl_dt*tu_dt + 2*Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*thl_dt*tkl_dt + 2*Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*thl_dt*tu_dt + 2*Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tkl_dt*tu_dt - 2*Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*thl_dt*tkl_dt - 2*Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*thl_dt*tu_dt - 2*Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tkl_dt*tu_dt
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   Ltoe*sin(tal + thl + tkl + tu)*Ffl - k2*sin(tal + thl + tkl + tu)*Nml - p1*sin(tal + thl + tkl + tu)*Nrl - Ltoe*cos(tal + thl + tkl + tu)*Nfl - k2*sin(tal + thl + tkl + tu)*Nfl - k2*cos(tal + thl + tkl + tu)*Ffl - k2*cos(tal + thl + tkl + tu)*Fml - p1*cos(tal + thl + tkl + tu)*Frl - k1*cos(tal + thl + tkl + tu)*Nfl - k1*cos(tal + thl + tkl + tu)*Nml + p2*cos(tal + thl + tkl + tu)*Nrl + k1*sin(tal + thl + tkl + tu)*Ffl + k1*sin(tal + thl + tkl + tu)*Fml - p2*sin(tal + thl + tkl + tu)*Frl - g*k1*mtoe*cos(tal + thl + tkl + tu) - g*k2*mtoe*sin(tal + thl + tkl + tu) - Lgtoex*g*mtoe*cos(tal + thl + tkl + tu) - Hfgy*g*mf*sin(tal + thl + tkl + tu) + Lgtoey*g*mtoe*sin(tal + thl + tkl + tu) + Ls*k2*mtoe*sin(tal)*thl_dt^2 + Ls*k2*mtoe*sin(tal)*tkl_dt^2 + Ls*k2*mtoe*sin(tal)*tu_dt^2 + Hfgy*a1*mf*cos(tal + thl + tkl)*tu_dt^2 + Lgtoex*a2*mtoe*cos(tal + thl + tkl)*tu_dt^2 - Lgtoey*a1*mtoe*cos(tal + thl + tkl)*tu_dt^2 + Hfgy*a2*mf*sin(tal + thl + tkl)*tu_dt^2 - Lgtoex*a1*mtoe*sin(tal + thl + tkl)*tu_dt^2 - Lgtoey*a2*mtoe*sin(tal + thl + tkl)*tu_dt^2 + a1*k2*mtoe*cos(tal + thl + tkl)*tu_dt^2 + a2*k1*mtoe*cos(tal + thl + tkl)*tu_dt^2 + Hfgy*mf*t1*cos(tal + tkl)*thl_dt^2 + Hfgy*mf*t1*cos(tal + tkl)*tu_dt^2 + Lgtoex*mtoe*t2*cos(tal + tkl)*thl_dt^2 - Lgtoey*mtoe*t1*cos(tal + tkl)*thl_dt^2 + Lgtoex*mtoe*t2*cos(tal + tkl)*tu_dt^2 - Lgtoey*mtoe*t1*cos(tal + tkl)*tu_dt^2 - a1*k1*mtoe*sin(tal + thl + tkl)*tu_dt^2 + a2*k2*mtoe*sin(tal + thl + tkl)*tu_dt^2 + Hfgy*mf*t2*sin(tal + tkl)*thl_dt^2 + Hfgy*mf*t2*sin(tal + tkl)*tu_dt^2 - Lgtoex*mtoe*t1*sin(tal + tkl)*thl_dt^2 - Lgtoey*mtoe*t2*sin(tal + tkl)*thl_dt^2 - Lgtoex*mtoe*t1*sin(tal + tkl)*tu_dt^2 - Lgtoey*mtoe*t2*sin(tal + tkl)*tu_dt^2 + k1*mtoe*t2*cos(tal + tkl)*thl_dt^2 + k2*mtoe*t1*cos(tal + tkl)*thl_dt^2 + k1*mtoe*t2*cos(tal + tkl)*tu_dt^2 + k2*mtoe*t1*cos(tal + tkl)*tu_dt^2 - k1*mtoe*t1*sin(tal + tkl)*thl_dt^2 + k2*mtoe*t2*sin(tal + tkl)*thl_dt^2 - k1*mtoe*t1*sin(tal + tkl)*tu_dt^2 + k2*mtoe*t2*sin(tal + tkl)*tu_dt^2 - Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tar_dt^2 - Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*thr_dt^2 - Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tkr_dt^2 - Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tu_dt^2 + Lgtoex*Ls*mtoe*cos(tal)*thl_dt^2 + Lgtoex*Ls*mtoe*cos(tal)*tkl_dt^2 + Lgtoex*Ls*mtoe*cos(tal)*tu_dt^2 + Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tar_dt^2 + Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*thr_dt^2 + Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tkr_dt^2 + Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tu_dt^2 + Hfgy*Ls*mf*sin(tal)*thl_dt^2 + Hfgy*Ls*mf*sin(tal)*tkl_dt^2 + Hfgy*Ls*mf*sin(tal)*tu_dt^2 - Lgtoey*Ls*mtoe*sin(tal)*thl_dt^2 - Lgtoey*Ls*mtoe*sin(tal)*tkl_dt^2 - Lgtoey*Ls*mtoe*sin(tal)*tu_dt^2 + Ls*k1*mtoe*cos(tal)*thl_dt^2 + Ls*k1*mtoe*cos(tal)*tkl_dt^2 + Ls*k1*mtoe*cos(tal)*tu_dt^2 - 2*Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tar_dt*thr_dt - 2*Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tar_dt*tkr_dt - 2*Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*thr_dt*tkr_dt - 2*Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tar_dt*tu_dt - 2*Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*thr_dt*tu_dt - 2*Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tkr_dt*tu_dt + 2*Lgtoex*Ls*mtoe*cos(tal)*thl_dt*tkl_dt + 2*Lgtoex*Ls*mtoe*cos(tal)*thl_dt*tu_dt + 2*Lgtoex*Ls*mtoe*cos(tal)*tkl_dt*tu_dt + 2*Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tar_dt*thr_dt + 2*Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tar_dt*tkr_dt + 2*Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*thr_dt*tkr_dt + 2*Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tar_dt*tu_dt + 2*Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*thr_dt*tu_dt + 2*Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tkr_dt*tu_dt + 2*Hfgy*Ls*mf*sin(tal)*thl_dt*tkl_dt + 2*Hfgy*Ls*mf*sin(tal)*thl_dt*tu_dt + 2*Hfgy*Ls*mf*sin(tal)*tkl_dt*tu_dt - 2*Lgtoey*Ls*mtoe*sin(tal)*thl_dt*tkl_dt - 2*Lgtoey*Ls*mtoe*sin(tal)*thl_dt*tu_dt - 2*Lgtoey*Ls*mtoe*sin(tal)*tkl_dt*tu_dt + 2*Ls*k1*mtoe*cos(tal)*thl_dt*tkl_dt + 2*Ls*k1*mtoe*cos(tal)*thl_dt*tu_dt + 2*Ls*k1*mtoe*cos(tal)*tkl_dt*tu_dt + 2*Ls*k2*mtoe*sin(tal)*thl_dt*tkl_dt + 2*Ls*k2*mtoe*sin(tal)*thl_dt*tu_dt + 2*Ls*k2*mtoe*sin(tal)*tkl_dt*tu_dt + 2*Hfgy*mf*t1*cos(tal + tkl)*thl_dt*tu_dt + 2*Lgtoex*mtoe*t2*cos(tal + tkl)*thl_dt*tu_dt - 2*Lgtoey*mtoe*t1*cos(tal + tkl)*thl_dt*tu_dt + 2*Hfgy*mf*t2*sin(tal + tkl)*thl_dt*tu_dt - 2*Lgtoex*mtoe*t1*sin(tal + tkl)*thl_dt*tu_dt - 2*Lgtoey*mtoe*t2*sin(tal + tkl)*thl_dt*tu_dt + 2*k1*mtoe*t2*cos(tal + tkl)*thl_dt*tu_dt + 2*k2*mtoe*t1*cos(tal + tkl)*thl_dt*tu_dt - 2*k1*mtoe*t1*sin(tal + tkl)*thl_dt*tu_dt + 2*k2*mtoe*t2*sin(tal + tkl)*thl_dt*tu_dt
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       Ltoe*sin(tal + thl + tkl + tu)*Ffl - k2*sin(tal + thl + tkl + tu)*Nml - p1*sin(tal + thl + tkl + tu)*Nrl - Ltoe*cos(tal + thl + tkl + tu)*Nfl - k2*sin(tal + thl + tkl + tu)*Nfl - Ls*cos(thl + tkl + tu)*Frl - Ls*cos(thl + tkl + tu)*Ffl - Ls*cos(thl + tkl + tu)*Fml - k2*cos(tal + thl + tkl + tu)*Ffl - k2*cos(tal + thl + tkl + tu)*Fml - p1*cos(tal + thl + tkl + tu)*Frl - k1*cos(tal + thl + tkl + tu)*Nfl - k1*cos(tal + thl + tkl + tu)*Nml + p2*cos(tal + thl + tkl + tu)*Nrl + k1*sin(tal + thl + tkl + tu)*Ffl + k1*sin(tal + thl + tkl + tu)*Fml - Ls*sin(thl + tkl + tu)*Nrl - Ls*sin(thl + tkl + tu)*Nfl - Ls*sin(thl + tkl + tu)*Nml - p2*sin(tal + thl + tkl + tu)*Frl - g*k1*mtoe*cos(tal + thl + tkl + tu) - Ls*g*mf*sin(thl + tkl + tu) - Ls*g*mtoe*sin(thl + tkl + tu) - g*k2*mtoe*sin(tal + thl + tkl + tu) - Lgtoex*g*mtoe*cos(tal + thl + tkl + tu) - Hfgy*g*mf*sin(tal + thl + tkl + tu) + Lgtoey*g*mtoe*sin(tal + thl + tkl + tu) - Lgs*g*ms*cos(thl + tkl + tu) - Ls*k2*mtoe*sin(tal)*tal_dt^2 + Ls*mf*t2*sin(tkl)*thl_dt^2 + Ls*mf*t2*sin(tkl)*tu_dt^2 + Ls*mtoe*t2*sin(tkl)*thl_dt^2 + Ls*mtoe*t2*sin(tkl)*tu_dt^2 + Hfgy*a1*mf*cos(tal + thl + tkl)*tu_dt^2 + Lgtoex*a2*mtoe*cos(tal + thl + tkl)*tu_dt^2 - Lgtoey*a1*mtoe*cos(tal + thl + tkl)*tu_dt^2 + Hfgy*a2*mf*sin(tal + thl + tkl)*tu_dt^2 - Lgtoex*a1*mtoe*sin(tal + thl + tkl)*tu_dt^2 - Lgtoey*a2*mtoe*sin(tal + thl + tkl)*tu_dt^2 + Ls*a1*mf*cos(thl + tkl)*tu_dt^2 + Ls*a1*mtoe*cos(thl + tkl)*tu_dt^2 + a1*k2*mtoe*cos(tal + thl + tkl)*tu_dt^2 + a2*k1*mtoe*cos(tal + thl + tkl)*tu_dt^2 + Hfgy*mf*t1*cos(tal + tkl)*thl_dt^2 + Hfgy*mf*t1*cos(tal + tkl)*tu_dt^2 + Ls*a2*mf*sin(thl + tkl)*tu_dt^2 + Ls*a2*mtoe*sin(thl + tkl)*tu_dt^2 + Lgtoex*mtoe*t2*cos(tal + tkl)*thl_dt^2 - Lgtoey*mtoe*t1*cos(tal + tkl)*thl_dt^2 + Lgtoex*mtoe*t2*cos(tal + tkl)*tu_dt^2 - Lgtoey*mtoe*t1*cos(tal + tkl)*tu_dt^2 - a1*k1*mtoe*sin(tal + thl + tkl)*tu_dt^2 + a2*k2*mtoe*sin(tal + thl + tkl)*tu_dt^2 + Hfgy*mf*t2*sin(tal + tkl)*thl_dt^2 + Hfgy*mf*t2*sin(tal + tkl)*tu_dt^2 - Lgtoex*mtoe*t1*sin(tal + tkl)*thl_dt^2 - Lgtoey*mtoe*t2*sin(tal + tkl)*thl_dt^2 - Lgtoex*mtoe*t1*sin(tal + tkl)*tu_dt^2 - Lgtoey*mtoe*t2*sin(tal + tkl)*tu_dt^2 + k1*mtoe*t2*cos(tal + tkl)*thl_dt^2 + k2*mtoe*t1*cos(tal + tkl)*thl_dt^2 + k1*mtoe*t2*cos(tal + tkl)*tu_dt^2 + k2*mtoe*t1*cos(tal + tkl)*tu_dt^2 - k1*mtoe*t1*sin(tal + tkl)*thl_dt^2 + k2*mtoe*t2*sin(tal + tkl)*thl_dt^2 - k1*mtoe*t1*sin(tal + tkl)*tu_dt^2 + k2*mtoe*t2*sin(tal + tkl)*tu_dt^2 + Lgs*a2*ms*cos(thl + tkl + 2*tu)*tu_dt^2 + Lgs*a1*ms*sin(thl + tkl + 2*tu)*tu_dt^2 - Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tar_dt^2 - Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*thr_dt^2 - Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tkr_dt^2 - Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tu_dt^2 + Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tar_dt^2 + Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*thr_dt^2 + Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tkr_dt^2 + Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tu_dt^2 - Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tar_dt^2 - Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*thr_dt^2 - Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tkr_dt^2 - Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tu_dt^2 - Lgtoex*Ls*mtoe*cos(tal)*tal_dt^2 + Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tar_dt^2 + Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*thr_dt^2 + Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tkr_dt^2 + Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tu_dt^2 - Hfgy*Ls*mf*sin(tal)*tal_dt^2 + Lgtoey*Ls*mtoe*sin(tal)*tal_dt^2 + Lgs*ms*t2*cos(2*thl + tkl + 2*tu)*thl_dt^2 + Lgs*ms*t2*cos(2*thl + tkl + 2*tu)*tu_dt^2 - Ls*k1*mtoe*cos(tal)*tal_dt^2 + Lgs*ms*t1*sin(2*thl + tkl + 2*tu)*thl_dt^2 + Lgs*ms*t1*sin(2*thl + tkl + 2*tu)*tu_dt^2 + Ls*mf*t1*cos(tkl)*thl_dt^2 + Ls*mf*t1*cos(tkl)*tu_dt^2 + Ls*mtoe*t1*cos(tkl)*thl_dt^2 + Ls*mtoe*t1*cos(tkl)*tu_dt^2 - 2*Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tar_dt*thr_dt - 2*Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tar_dt*tkr_dt - 2*Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*thr_dt*tkr_dt - 2*Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tar_dt*tu_dt - 2*Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*thr_dt*tu_dt - 2*Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tkr_dt*tu_dt - 2*Lgtoex*Ls*mtoe*cos(tal)*tal_dt*thl_dt - 2*Lgtoex*Ls*mtoe*cos(tal)*tal_dt*tkl_dt - 2*Lgtoex*Ls*mtoe*cos(tal)*tal_dt*tu_dt + 2*Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tar_dt*thr_dt + 2*Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tar_dt*tkr_dt + 2*Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*thr_dt*tkr_dt + 2*Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tar_dt*tu_dt + 2*Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*thr_dt*tu_dt + 2*Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tkr_dt*tu_dt - 2*Hfgy*Ls*mf*sin(tal)*tal_dt*thl_dt - 2*Hfgy*Ls*mf*sin(tal)*tal_dt*tkl_dt - 2*Hfgy*Ls*mf*sin(tal)*tal_dt*tu_dt + 2*Lgtoey*Ls*mtoe*sin(tal)*tal_dt*thl_dt + 2*Lgtoey*Ls*mtoe*sin(tal)*tal_dt*tkl_dt + 2*Lgtoey*Ls*mtoe*sin(tal)*tal_dt*tu_dt + 2*Lgs*ms*t2*cos(2*thl + tkl + 2*tu)*thl_dt*tu_dt - 2*Ls*k1*mtoe*cos(tal)*tal_dt*thl_dt - 2*Ls*k1*mtoe*cos(tal)*tal_dt*tkl_dt - 2*Ls*k1*mtoe*cos(tal)*tal_dt*tu_dt + 2*Lgs*ms*t1*sin(2*thl + tkl + 2*tu)*thl_dt*tu_dt + 2*Ls*mf*t1*cos(tkl)*thl_dt*tu_dt + 2*Ls*mtoe*t1*cos(tkl)*thl_dt*tu_dt - 2*Ls*k2*mtoe*sin(tal)*tal_dt*thl_dt - 2*Ls*k2*mtoe*sin(tal)*tal_dt*tkl_dt - 2*Ls*k2*mtoe*sin(tal)*tal_dt*tu_dt + 2*Ls*mf*t2*sin(tkl)*thl_dt*tu_dt + 2*Ls*mtoe*t2*sin(tkl)*thl_dt*tu_dt + 2*Hfgy*mf*t1*cos(tal + tkl)*thl_dt*tu_dt + 2*Lgtoex*mtoe*t2*cos(tal + tkl)*thl_dt*tu_dt - 2*Lgtoey*mtoe*t1*cos(tal + tkl)*thl_dt*tu_dt + 2*Hfgy*mf*t2*sin(tal + tkl)*thl_dt*tu_dt - 2*Lgtoex*mtoe*t1*sin(tal + tkl)*thl_dt*tu_dt - 2*Lgtoey*mtoe*t2*sin(tal + tkl)*thl_dt*tu_dt + 2*k1*mtoe*t2*cos(tal + tkl)*thl_dt*tu_dt + 2*k2*mtoe*t1*cos(tal + tkl)*thl_dt*tu_dt - 2*k1*mtoe*t1*sin(tal + tkl)*thl_dt*tu_dt + 2*k2*mtoe*t2*sin(tal + tkl)*thl_dt*tu_dt - 2*Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tar_dt*thr_dt - 2*Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tar_dt*tkr_dt - 2*Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*thr_dt*tkr_dt - 2*Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tar_dt*tu_dt - 2*Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*thr_dt*tu_dt - 2*Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tkr_dt*tu_dt + 2*Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tar_dt*thr_dt + 2*Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tar_dt*tkr_dt + 2*Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*thr_dt*tkr_dt + 2*Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tar_dt*tu_dt + 2*Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*thr_dt*tu_dt + 2*Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tkr_dt*tu_dt
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      t1*cos(thl + tu)*Nrl - k2*sin(tal + thl + tkl + tu)*Nml - p1*sin(tal + thl + tkl + tu)*Nrl - t2*cos(thl + tu)*Frl - t2*cos(thl + tu)*Ffl - t2*cos(thl + tu)*Fml - k2*sin(tal + thl + tkl + tu)*Nfl + t1*cos(thl + tu)*Nfl + t1*cos(thl + tu)*Nml - t1*sin(thl + tu)*Frl - t1*sin(thl + tu)*Ffl - t1*sin(thl + tu)*Fml - t2*sin(thl + tu)*Nrl - t2*sin(thl + tu)*Nfl - t2*sin(thl + tu)*Nml - Ltoe*cos(tal + thl + tkl + tu)*Nfl + Ltoe*sin(tal + thl + tkl + tu)*Ffl - Ls*cos(thl + tkl + tu)*Frl - Ls*cos(thl + tkl + tu)*Ffl - Ls*cos(thl + tkl + tu)*Fml - k2*cos(tal + thl + tkl + tu)*Ffl - k2*cos(tal + thl + tkl + tu)*Fml - p1*cos(tal + thl + tkl + tu)*Frl - k1*cos(tal + thl + tkl + tu)*Nfl - k1*cos(tal + thl + tkl + tu)*Nml + p2*cos(tal + thl + tkl + tu)*Nrl + k1*sin(tal + thl + tkl + tu)*Ffl + k1*sin(tal + thl + tkl + tu)*Fml - Ls*sin(thl + tkl + tu)*Nrl - Ls*sin(thl + tkl + tu)*Nfl - Ls*sin(thl + tkl + tu)*Nml - p2*sin(tal + thl + tkl + tu)*Frl - g*k1*mtoe*cos(tal + thl + tkl + tu) - Ls*g*mf*sin(thl + tkl + tu) - Ls*g*mtoe*sin(thl + tkl + tu) - g*k2*mtoe*sin(tal + thl + tkl + tu) - Lgt*g*mt*sin(thl + tu) + g*mf*t1*cos(thl + tu) + g*ms*t1*cos(thl + tu) + g*mtoe*t1*cos(thl + tu) - g*mf*t2*sin(thl + tu) - g*ms*t2*sin(thl + tu) - g*mtoe*t2*sin(thl + tu) - Lgtoex*g*mtoe*cos(tal + thl + tkl + tu) - Hfgy*g*mf*sin(tal + thl + tkl + tu) + Lgtoey*g*mtoe*sin(tal + thl + tkl + tu) - Lgs*g*ms*cos(thl + tkl + tu) - Ls*k2*mtoe*sin(tal)*tal_dt^2 - Ls*mf*t2*sin(tkl)*tkl_dt^2 - Ls*mtoe*t2*sin(tkl)*tkl_dt^2 + a1*mf*t2*cos(thl)*tu_dt^2 - a2*mf*t1*cos(thl)*tu_dt^2 + a1*ms*t2*cos(thl)*tu_dt^2 - a2*ms*t1*cos(thl)*tu_dt^2 + a1*mtoe*t2*cos(thl)*tu_dt^2 - a2*mtoe*t1*cos(thl)*tu_dt^2 + Hfgy*a1*mf*cos(tal + thl + tkl)*tu_dt^2 + Lgtoex*a2*mtoe*cos(tal + thl + tkl)*tu_dt^2 - Lgtoey*a1*mtoe*cos(tal + thl + tkl)*tu_dt^2 + a1*mf*t1*sin(thl)*tu_dt^2 + a2*mf*t2*sin(thl)*tu_dt^2 + a1*ms*t1*sin(thl)*tu_dt^2 + a2*ms*t2*sin(thl)*tu_dt^2 + a1*mtoe*t1*sin(thl)*tu_dt^2 + a2*mtoe*t2*sin(thl)*tu_dt^2 + Hfgy*a2*mf*sin(tal + thl + tkl)*tu_dt^2 - Lgtoex*a1*mtoe*sin(tal + thl + tkl)*tu_dt^2 - Lgtoey*a2*mtoe*sin(tal + thl + tkl)*tu_dt^2 + Ls*a1*mf*cos(thl + tkl)*tu_dt^2 + Ls*a1*mtoe*cos(thl + tkl)*tu_dt^2 + a1*k2*mtoe*cos(tal + thl + tkl)*tu_dt^2 + a2*k1*mtoe*cos(tal + thl + tkl)*tu_dt^2 - Hfgy*mf*t1*cos(tal + tkl)*tal_dt^2 - Hfgy*mf*t1*cos(tal + tkl)*tkl_dt^2 + Ls*a2*mf*sin(thl + tkl)*tu_dt^2 + Ls*a2*mtoe*sin(thl + tkl)*tu_dt^2 - Lgtoex*mtoe*t2*cos(tal + tkl)*tal_dt^2 + Lgtoey*mtoe*t1*cos(tal + tkl)*tal_dt^2 - Lgtoex*mtoe*t2*cos(tal + tkl)*tkl_dt^2 + Lgtoey*mtoe*t1*cos(tal + tkl)*tkl_dt^2 - a1*k1*mtoe*sin(tal + thl + tkl)*tu_dt^2 + a2*k2*mtoe*sin(tal + thl + tkl)*tu_dt^2 - Hfgy*mf*t2*sin(tal + tkl)*tal_dt^2 - Hfgy*mf*t2*sin(tal + tkl)*tkl_dt^2 + Lgtoex*mtoe*t1*sin(tal + tkl)*tal_dt^2 + Lgtoey*mtoe*t2*sin(tal + tkl)*tal_dt^2 + Lgtoex*mtoe*t1*sin(tal + tkl)*tkl_dt^2 + Lgtoey*mtoe*t2*sin(tal + tkl)*tkl_dt^2 - k1*mtoe*t2*cos(tal + tkl)*tal_dt^2 - k2*mtoe*t1*cos(tal + tkl)*tal_dt^2 - k1*mtoe*t2*cos(tal + tkl)*tkl_dt^2 - k2*mtoe*t1*cos(tal + tkl)*tkl_dt^2 - Hfgx*mf*t2*cos(tar - thl + thr + tkr)*tar_dt^2 - Hfgx*mf*t2*cos(tar - thl + thr + tkr)*thr_dt^2 - Hfgx*mf*t2*cos(tar - thl + thr + tkr)*tkr_dt^2 - Hfgx*mf*t2*cos(tar - thl + thr + tkr)*tu_dt^2 + k1*mtoe*t1*sin(tal + tkl)*tal_dt^2 - k2*mtoe*t2*sin(tal + tkl)*tal_dt^2 + k1*mtoe*t1*sin(tal + tkl)*tkl_dt^2 - k2*mtoe*t2*sin(tal + tkl)*tkl_dt^2 + Lfb*mf*t2*cos(tar - thl + thr + tkr)*tar_dt^2 + Lfb*mf*t2*cos(tar - thl + thr + tkr)*thr_dt^2 + Lfb*mf*t2*cos(tar - thl + thr + tkr)*tkr_dt^2 + Lfb*mf*t2*cos(tar - thl + thr + tkr)*tu_dt^2 + Lgs*a2*ms*cos(thl + tkl + 2*tu)*tu_dt^2 + Hfgx*mf*t1*sin(tar - thl + thr + tkr)*tar_dt^2 + Hfgx*mf*t1*sin(tar - thl + thr + tkr)*thr_dt^2 + Hfgx*mf*t1*sin(tar - thl + thr + tkr)*tkr_dt^2 + Hfgx*mf*t1*sin(tar - thl + thr + tkr)*tu_dt^2 - Lfb*mf*t1*sin(tar - thl + thr + tkr)*tar_dt^2 - Lfb*mf*t1*sin(tar - thl + thr + tkr)*thr_dt^2 - Lfb*mf*t1*sin(tar - thl + thr + tkr)*tkr_dt^2 - Lfb*mf*t1*sin(tar - thl + thr + tkr)*tu_dt^2 + Lgs*a1*ms*sin(thl + tkl + 2*tu)*tu_dt^2 - Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tar_dt^2 - Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*thr_dt^2 - Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tkr_dt^2 - Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tu_dt^2 + Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tar_dt^2 + Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*thr_dt^2 + Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tkr_dt^2 + Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tu_dt^2 - Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tar_dt^2 - Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*thr_dt^2 - Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tkr_dt^2 - Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tu_dt^2 - Lgtoex*Ls*mtoe*cos(tal)*tal_dt^2 + Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tar_dt^2 + Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*thr_dt^2 + Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tkr_dt^2 + Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tu_dt^2 - Hfgy*Ls*mf*sin(tal)*tal_dt^2 + Lgtoey*Ls*mtoe*sin(tal)*tal_dt^2 + Lgt*a1*mt*cos(thl)*tu_dt^2 + 2*Lgs*ms*t2*cos(2*thl + tkl + 2*tu)*thl_dt^2 + Lgs*ms*t2*cos(2*thl + tkl + 2*tu)*tkl_dt^2 + 2*Lgs*ms*t2*cos(2*thl + tkl + 2*tu)*tu_dt^2 - Ls*k1*mtoe*cos(tal)*tal_dt^2 + Lgt*a2*mt*sin(thl)*tu_dt^2 + 2*Lgs*ms*t1*sin(2*thl + tkl + 2*tu)*thl_dt^2 + Lgs*ms*t1*sin(2*thl + tkl + 2*tu)*tkl_dt^2 + 2*Lgs*ms*t1*sin(2*thl + tkl + 2*tu)*tu_dt^2 - Ls*mf*t1*cos(tkl)*tkl_dt^2 - Ls*mtoe*t1*cos(tkl)*tkl_dt^2 - 2*Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tar_dt*thr_dt - 2*Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tar_dt*tkr_dt - 2*Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*thr_dt*tkr_dt - 2*Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tar_dt*tu_dt - 2*Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*thr_dt*tu_dt - 2*Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tkr_dt*tu_dt - 2*Lgtoex*Ls*mtoe*cos(tal)*tal_dt*thl_dt - 2*Lgtoex*Ls*mtoe*cos(tal)*tal_dt*tkl_dt - 2*Lgtoex*Ls*mtoe*cos(tal)*tal_dt*tu_dt + 2*Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tar_dt*thr_dt + 2*Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tar_dt*tkr_dt + 2*Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*thr_dt*tkr_dt + 2*Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tar_dt*tu_dt + 2*Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*thr_dt*tu_dt + 2*Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tkr_dt*tu_dt - 2*Hfgy*Ls*mf*sin(tal)*tal_dt*thl_dt - 2*Hfgy*Ls*mf*sin(tal)*tal_dt*tkl_dt - 2*Hfgy*Ls*mf*sin(tal)*tal_dt*tu_dt + 2*Lgtoey*Ls*mtoe*sin(tal)*tal_dt*thl_dt + 2*Lgtoey*Ls*mtoe*sin(tal)*tal_dt*tkl_dt + 2*Lgtoey*Ls*mtoe*sin(tal)*tal_dt*tu_dt + 2*Lgs*ms*t2*cos(2*thl + tkl + 2*tu)*thl_dt*tkl_dt + 4*Lgs*ms*t2*cos(2*thl + tkl + 2*tu)*thl_dt*tu_dt + 2*Lgs*ms*t2*cos(2*thl + tkl + 2*tu)*tkl_dt*tu_dt - 2*Ls*k1*mtoe*cos(tal)*tal_dt*thl_dt - 2*Ls*k1*mtoe*cos(tal)*tal_dt*tkl_dt - 2*Ls*k1*mtoe*cos(tal)*tal_dt*tu_dt + 2*Lgs*ms*t1*sin(2*thl + tkl + 2*tu)*thl_dt*tkl_dt + 4*Lgs*ms*t1*sin(2*thl + tkl + 2*tu)*thl_dt*tu_dt + 2*Lgs*ms*t1*sin(2*thl + tkl + 2*tu)*tkl_dt*tu_dt - 2*Ls*mf*t1*cos(tkl)*thl_dt*tkl_dt - 2*Ls*mf*t1*cos(tkl)*tkl_dt*tu_dt - 2*Ls*mtoe*t1*cos(tkl)*thl_dt*tkl_dt - 2*Ls*mtoe*t1*cos(tkl)*tkl_dt*tu_dt - 2*Ls*k2*mtoe*sin(tal)*tal_dt*thl_dt - 2*Ls*k2*mtoe*sin(tal)*tal_dt*tkl_dt - 2*Ls*k2*mtoe*sin(tal)*tal_dt*tu_dt - 2*Ls*mf*t2*sin(tkl)*thl_dt*tkl_dt - 2*Ls*mf*t2*sin(tkl)*tkl_dt*tu_dt - 2*Ls*mtoe*t2*sin(tkl)*thl_dt*tkl_dt - 2*Ls*mtoe*t2*sin(tkl)*tkl_dt*tu_dt - 2*Hfgy*mf*t1*cos(tal + tkl)*tal_dt*thl_dt - 2*Hfgy*mf*t1*cos(tal + tkl)*tal_dt*tkl_dt - 2*Hfgy*mf*t1*cos(tal + tkl)*thl_dt*tkl_dt - 2*Hfgy*mf*t1*cos(tal + tkl)*tal_dt*tu_dt - 2*Hfgy*mf*t1*cos(tal + tkl)*tkl_dt*tu_dt - 2*Lgtoex*mtoe*t2*cos(tal + tkl)*tal_dt*thl_dt + 2*Lgtoey*mtoe*t1*cos(tal + tkl)*tal_dt*thl_dt - 2*Lgtoex*mtoe*t2*cos(tal + tkl)*tal_dt*tkl_dt + 2*Lgtoey*mtoe*t1*cos(tal + tkl)*tal_dt*tkl_dt - 2*Lgtoex*mtoe*t2*cos(tal + tkl)*thl_dt*tkl_dt + 2*Lgtoey*mtoe*t1*cos(tal + tkl)*thl_dt*tkl_dt - 2*Lgtoex*mtoe*t2*cos(tal + tkl)*tal_dt*tu_dt + 2*Lgtoey*mtoe*t1*cos(tal + tkl)*tal_dt*tu_dt - 2*Lgtoex*mtoe*t2*cos(tal + tkl)*tkl_dt*tu_dt + 2*Lgtoey*mtoe*t1*cos(tal + tkl)*tkl_dt*tu_dt - 2*Hfgy*mf*t2*sin(tal + tkl)*tal_dt*thl_dt - 2*Hfgy*mf*t2*sin(tal + tkl)*tal_dt*tkl_dt - 2*Hfgy*mf*t2*sin(tal + tkl)*thl_dt*tkl_dt - 2*Hfgy*mf*t2*sin(tal + tkl)*tal_dt*tu_dt - 2*Hfgy*mf*t2*sin(tal + tkl)*tkl_dt*tu_dt + 2*Lgtoex*mtoe*t1*sin(tal + tkl)*tal_dt*thl_dt + 2*Lgtoey*mtoe*t2*sin(tal + tkl)*tal_dt*thl_dt + 2*Lgtoex*mtoe*t1*sin(tal + tkl)*tal_dt*tkl_dt + 2*Lgtoey*mtoe*t2*sin(tal + tkl)*tal_dt*tkl_dt + 2*Lgtoex*mtoe*t1*sin(tal + tkl)*thl_dt*tkl_dt + 2*Lgtoey*mtoe*t2*sin(tal + tkl)*thl_dt*tkl_dt + 2*Lgtoex*mtoe*t1*sin(tal + tkl)*tal_dt*tu_dt + 2*Lgtoey*mtoe*t2*sin(tal + tkl)*tal_dt*tu_dt + 2*Lgtoex*mtoe*t1*sin(tal + tkl)*tkl_dt*tu_dt + 2*Lgtoey*mtoe*t2*sin(tal + tkl)*tkl_dt*tu_dt - 2*k1*mtoe*t2*cos(tal + tkl)*tal_dt*thl_dt - 2*k2*mtoe*t1*cos(tal + tkl)*tal_dt*thl_dt - 2*k1*mtoe*t2*cos(tal + tkl)*tal_dt*tkl_dt - 2*k2*mtoe*t1*cos(tal + tkl)*tal_dt*tkl_dt - 2*k1*mtoe*t2*cos(tal + tkl)*thl_dt*tkl_dt - 2*k2*mtoe*t1*cos(tal + tkl)*thl_dt*tkl_dt - 2*k1*mtoe*t2*cos(tal + tkl)*tal_dt*tu_dt - 2*k2*mtoe*t1*cos(tal + tkl)*tal_dt*tu_dt - 2*k1*mtoe*t2*cos(tal + tkl)*tkl_dt*tu_dt - 2*k2*mtoe*t1*cos(tal + tkl)*tkl_dt*tu_dt - 2*Hfgx*mf*t2*cos(tar - thl + thr + tkr)*tar_dt*thr_dt - 2*Hfgx*mf*t2*cos(tar - thl + thr + tkr)*tar_dt*tkr_dt - 2*Hfgx*mf*t2*cos(tar - thl + thr + tkr)*thr_dt*tkr_dt - 2*Hfgx*mf*t2*cos(tar - thl + thr + tkr)*tar_dt*tu_dt - 2*Hfgx*mf*t2*cos(tar - thl + thr + tkr)*thr_dt*tu_dt - 2*Hfgx*mf*t2*cos(tar - thl + thr + tkr)*tkr_dt*tu_dt + 2*k1*mtoe*t1*sin(tal + tkl)*tal_dt*thl_dt - 2*k2*mtoe*t2*sin(tal + tkl)*tal_dt*thl_dt + 2*k1*mtoe*t1*sin(tal + tkl)*tal_dt*tkl_dt - 2*k2*mtoe*t2*sin(tal + tkl)*tal_dt*tkl_dt + 2*k1*mtoe*t1*sin(tal + tkl)*thl_dt*tkl_dt - 2*k2*mtoe*t2*sin(tal + tkl)*thl_dt*tkl_dt + 2*k1*mtoe*t1*sin(tal + tkl)*tal_dt*tu_dt - 2*k2*mtoe*t2*sin(tal + tkl)*tal_dt*tu_dt + 2*k1*mtoe*t1*sin(tal + tkl)*tkl_dt*tu_dt - 2*k2*mtoe*t2*sin(tal + tkl)*tkl_dt*tu_dt + 2*Lfb*mf*t2*cos(tar - thl + thr + tkr)*tar_dt*thr_dt + 2*Lfb*mf*t2*cos(tar - thl + thr + tkr)*tar_dt*tkr_dt + 2*Lfb*mf*t2*cos(tar - thl + thr + tkr)*thr_dt*tkr_dt + 2*Lfb*mf*t2*cos(tar - thl + thr + tkr)*tar_dt*tu_dt + 2*Lfb*mf*t2*cos(tar - thl + thr + tkr)*thr_dt*tu_dt + 2*Lfb*mf*t2*cos(tar - thl + thr + tkr)*tkr_dt*tu_dt + 2*Hfgx*mf*t1*sin(tar - thl + thr + tkr)*tar_dt*thr_dt + 2*Hfgx*mf*t1*sin(tar - thl + thr + tkr)*tar_dt*tkr_dt + 2*Hfgx*mf*t1*sin(tar - thl + thr + tkr)*thr_dt*tkr_dt + 2*Hfgx*mf*t1*sin(tar - thl + thr + tkr)*tar_dt*tu_dt + 2*Hfgx*mf*t1*sin(tar - thl + thr + tkr)*thr_dt*tu_dt + 2*Hfgx*mf*t1*sin(tar - thl + thr + tkr)*tkr_dt*tu_dt - 2*Lfb*mf*t1*sin(tar - thl + thr + tkr)*tar_dt*thr_dt - 2*Lfb*mf*t1*sin(tar - thl + thr + tkr)*tar_dt*tkr_dt - 2*Lfb*mf*t1*sin(tar - thl + thr + tkr)*thr_dt*tkr_dt - 2*Lfb*mf*t1*sin(tar - thl + thr + tkr)*tar_dt*tu_dt - 2*Lfb*mf*t1*sin(tar - thl + thr + tkr)*thr_dt*tu_dt - 2*Lfb*mf*t1*sin(tar - thl + thr + tkr)*tkr_dt*tu_dt - 2*Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tar_dt*thr_dt - 2*Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tar_dt*tkr_dt - 2*Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*thr_dt*tkr_dt - 2*Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tar_dt*tu_dt - 2*Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*thr_dt*tu_dt - 2*Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tkr_dt*tu_dt + 2*Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tar_dt*thr_dt + 2*Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tar_dt*tkr_dt + 2*Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*thr_dt*tkr_dt + 2*Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tar_dt*tu_dt + 2*Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*thr_dt*tu_dt + 2*Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tkr_dt*tu_dt
 - k2*sin(tal + thl + tkl + tu)*Nfl - k2*sin(tar + thr + tkr + tu)*Nfr - k2*sin(tal + thl + tkl + tu)*Nml - k2*sin(tar + thr + tkr + tu)*Nmr - p1*sin(tal + thl + tkl + tu)*Nrl - p1*sin(tar + thr + tkr + tu)*Nrr - t2*cos(thl + tu)*Frl - t2*cos(thr + tu)*Frr - t2*cos(thl + tu)*Ffl - t2*cos(thr + tu)*Ffr - t2*cos(thl + tu)*Fml - t2*cos(thr + tu)*Fmr + t1*cos(thl + tu)*Nrl + t1*cos(thr + tu)*Nrr + t1*cos(thl + tu)*Nfl + t1*cos(thr + tu)*Nfr + t1*cos(thl + tu)*Nml + t1*cos(thr + tu)*Nmr - t1*sin(thl + tu)*Frl - t1*sin(thr + tu)*Frr - t1*sin(thl + tu)*Ffl - t1*sin(thr + tu)*Ffr - t1*sin(thl + tu)*Fml - t1*sin(thr + tu)*Fmr - t2*sin(thl + tu)*Nrl - t2*sin(thr + tu)*Nrr - t2*sin(thl + tu)*Nfl - t2*sin(thr + tu)*Nfr - t2*sin(thl + tu)*Nml - t2*sin(thr + tu)*Nmr - a2*cos(tu)*Frl - a2*cos(tu)*Frr - a2*cos(tu)*Ffl - a2*cos(tu)*Ffr - a2*cos(tu)*Fml - a2*cos(tu)*Fmr + a1*cos(tu)*Nrl + a1*cos(tu)*Nrr + a1*cos(tu)*Nfl + a1*cos(tu)*Nfr + a1*cos(tu)*Nml + a1*cos(tu)*Nmr - Ltoe*cos(tal + thl + tkl + tu)*Nfl - Ltoe*cos(tar + thr + tkr + tu)*Nfr - a1*sin(tu)*Frl - a1*sin(tu)*Frr - a1*sin(tu)*Ffl - a1*sin(tu)*Ffr - a1*sin(tu)*Fml - a1*sin(tu)*Fmr + Ltoe*sin(tal + thl + tkl + tu)*Ffl + Ltoe*sin(tar + thr + tkr + tu)*Ffr - a2*sin(tu)*Nrl - a2*sin(tu)*Nrr - a2*sin(tu)*Nfl - a2*sin(tu)*Nfr - a2*sin(tu)*Nml - a2*sin(tu)*Nmr - Ls*cos(thl + tkl + tu)*Frl - Ls*cos(thr + tkr + tu)*Frr - Ls*cos(thl + tkl + tu)*Ffl - Ls*cos(thr + tkr + tu)*Ffr - Ls*cos(thl + tkl + tu)*Fml - Ls*cos(thr + tkr + tu)*Fmr - k2*cos(tal + thl + tkl + tu)*Ffl - k2*cos(tar + thr + tkr + tu)*Ffr - k2*cos(tal + thl + tkl + tu)*Fml - k2*cos(tar + thr + tkr + tu)*Fmr - p1*cos(tal + thl + tkl + tu)*Frl - p1*cos(tar + thr + tkr + tu)*Frr - k1*cos(tal + thl + tkl + tu)*Nfl - k1*cos(tar + thr + tkr + tu)*Nfr - k1*cos(tal + thl + tkl + tu)*Nml - k1*cos(tar + thr + tkr + tu)*Nmr + p2*cos(tal + thl + tkl + tu)*Nrl + p2*cos(tar + thr + tkr + tu)*Nrr + k1*sin(tal + thl + tkl + tu)*Ffl + k1*sin(tar + thr + tkr + tu)*Ffr + k1*sin(tal + thl + tkl + tu)*Fml + k1*sin(tar + thr + tkr + tu)*Fmr - Ls*sin(thl + tkl + tu)*Nrl - Ls*sin(thr + tkr + tu)*Nrr - Ls*sin(thl + tkl + tu)*Nfl - Ls*sin(thr + tkr + tu)*Nfr - Ls*sin(thl + tkl + tu)*Nml - Ls*sin(thr + tkr + tu)*Nmr - p2*sin(tal + thl + tkl + tu)*Frl - p2*sin(tar + thr + tkr + tu)*Frr + g*mu*r2*sin(tu) - g*k1*mtoe*cos(tal + thl + tkl + tu) - g*k1*mtoe*cos(tar + thr + tkr + tu) - Ls*g*mf*sin(thl + tkl + tu) - Ls*g*mf*sin(thr + tkr + tu) - Lgs*g*ms*sin(thr + tkr + tu) - Ls*g*mtoe*sin(thl + tkl + tu) - Ls*g*mtoe*sin(thr + tkr + tu) - g*k2*mtoe*sin(tal + thl + tkl + tu) - g*k2*mtoe*sin(tar + thr + tkr + tu) - Lgt*g*mt*sin(thl + tu) - Lgt*g*mt*sin(thr + tu) + g*mf*t1*cos(thl + tu) + g*mf*t1*cos(thr + tu) + g*ms*t1*cos(thl + tu) + g*ms*t1*cos(thr + tu) + g*mtoe*t1*cos(thl + tu) + g*mtoe*t1*cos(thr + tu) - g*mf*t2*sin(thl + tu) - g*mf*t2*sin(thr + tu) - g*ms*t2*sin(thl + tu) - g*ms*t2*sin(thr + tu) - g*mtoe*t2*sin(thl + tu) - g*mtoe*t2*sin(thr + tu) + 2*a1*g*mf*cos(tu) - 2*Hfgx*g*mf*cos(tar + thr + tkr + tu) + 2*a1*g*ms*cos(tu) + 2*a1*g*mt*cos(tu) + 2*a1*g*mtoe*cos(tu) + 2*Lfb*g*mf*cos(tar + thr + tkr + tu) - Lgtoex*g*mtoe*cos(tal + thl + tkl + tu) - Lgtoex*g*mtoe*cos(tar + thr + tkr + tu) - 2*a2*g*mf*sin(tu) - Hfgy*g*mf*sin(tal + thl + tkl + tu) - Hfgy*g*mf*sin(tar + thr + tkr + tu) - 2*a2*g*ms*sin(tu) - 2*a2*g*mt*sin(tu) - 2*a2*g*mtoe*sin(tu) + g*mu*r1*cos(tu) + Lgtoey*g*mtoe*sin(tal + thl + tkl + tu) - Lgtoey*g*mtoe*sin(tar + thr + tkr + tu) - Lgs*g*ms*cos(thl + tkl + tu) - Ls*k2*mtoe*sin(tal)*tal_dt^2 - Ls*k2*mtoe*sin(tar)*tar_dt^2 - Ls*mf*t2*sin(tkl)*tkl_dt^2 - Ls*mf*t2*sin(tkr)*tkr_dt^2 - Lgs*ms*t2*sin(tkr)*tkr_dt^2 - Ls*mtoe*t2*sin(tkl)*tkl_dt^2 - Ls*mtoe*t2*sin(tkr)*tkr_dt^2 - a1*mf*t2*cos(thl)*thl_dt^2 + a2*mf*t1*cos(thl)*thl_dt^2 - a1*mf*t2*cos(thr)*thr_dt^2 + a2*mf*t1*cos(thr)*thr_dt^2 - a1*ms*t2*cos(thl)*thl_dt^2 + a2*ms*t1*cos(thl)*thl_dt^2 - a1*ms*t2*cos(thr)*thr_dt^2 + a2*ms*t1*cos(thr)*thr_dt^2 - a1*mtoe*t2*cos(thl)*thl_dt^2 + a2*mtoe*t1*cos(thl)*thl_dt^2 - a1*mtoe*t2*cos(thr)*thr_dt^2 + a2*mtoe*t1*cos(thr)*thr_dt^2 - Hfgy*a1*mf*cos(tal + thl + tkl)*tal_dt^2 - 2*Hfgx*a2*mf*cos(tar + thr + tkr)*tar_dt^2 - Hfgy*a1*mf*cos(tar + thr + tkr)*tar_dt^2 - Hfgy*a1*mf*cos(tal + thl + tkl)*thl_dt^2 - 2*Hfgx*a2*mf*cos(tar + thr + tkr)*thr_dt^2 - Hfgy*a1*mf*cos(tar + thr + tkr)*thr_dt^2 - Hfgy*a1*mf*cos(tal + thl + tkl)*tkl_dt^2 - 2*Hfgx*a2*mf*cos(tar + thr + tkr)*tkr_dt^2 - Hfgy*a1*mf*cos(tar + thr + tkr)*tkr_dt^2 + 2*Lfb*a2*mf*cos(tar + thr + tkr)*tar_dt^2 + 2*Lfb*a2*mf*cos(tar + thr + tkr)*thr_dt^2 + 2*Lfb*a2*mf*cos(tar + thr + tkr)*tkr_dt^2 - Lgtoex*a2*mtoe*cos(tal + thl + tkl)*tal_dt^2 + Lgtoey*a1*mtoe*cos(tal + thl + tkl)*tal_dt^2 - Lgtoex*a2*mtoe*cos(tar + thr + tkr)*tar_dt^2 - Lgtoey*a1*mtoe*cos(tar + thr + tkr)*tar_dt^2 - Lgtoex*a2*mtoe*cos(tal + thl + tkl)*thl_dt^2 + Lgtoey*a1*mtoe*cos(tal + thl + tkl)*thl_dt^2 - Lgtoex*a2*mtoe*cos(tar + thr + tkr)*thr_dt^2 - Lgtoey*a1*mtoe*cos(tar + thr + tkr)*thr_dt^2 - Lgtoex*a2*mtoe*cos(tal + thl + tkl)*tkl_dt^2 + Lgtoey*a1*mtoe*cos(tal + thl + tkl)*tkl_dt^2 - Lgtoex*a2*mtoe*cos(tar + thr + tkr)*tkr_dt^2 - Lgtoey*a1*mtoe*cos(tar + thr + tkr)*tkr_dt^2 - a1*mf*t1*sin(thl)*thl_dt^2 - a2*mf*t2*sin(thl)*thl_dt^2 - a1*mf*t1*sin(thr)*thr_dt^2 - a2*mf*t2*sin(thr)*thr_dt^2 - a1*ms*t1*sin(thl)*thl_dt^2 - a2*ms*t2*sin(thl)*thl_dt^2 - a1*ms*t1*sin(thr)*thr_dt^2 - a2*ms*t2*sin(thr)*thr_dt^2 - a1*mtoe*t1*sin(thl)*thl_dt^2 - a2*mtoe*t2*sin(thl)*thl_dt^2 - a1*mtoe*t1*sin(thr)*thr_dt^2 - a2*mtoe*t2*sin(thr)*thr_dt^2 - Hfgy*a2*mf*sin(tal + thl + tkl)*tal_dt^2 + 2*Hfgx*a1*mf*sin(tar + thr + tkr)*tar_dt^2 - Hfgy*a2*mf*sin(tar + thr + tkr)*tar_dt^2 - Hfgy*a2*mf*sin(tal + thl + tkl)*thl_dt^2 + 2*Hfgx*a1*mf*sin(tar + thr + tkr)*thr_dt^2 - Hfgy*a2*mf*sin(tar + thr + tkr)*thr_dt^2 - Hfgy*a2*mf*sin(tal + thl + tkl)*tkl_dt^2 + 2*Hfgx*a1*mf*sin(tar + thr + tkr)*tkr_dt^2 - Hfgy*a2*mf*sin(tar + thr + tkr)*tkr_dt^2 - 2*Lfb*a1*mf*sin(tar + thr + tkr)*tar_dt^2 - 2*Lfb*a1*mf*sin(tar + thr + tkr)*thr_dt^2 - 2*Lfb*a1*mf*sin(tar + thr + tkr)*tkr_dt^2 + Lgtoex*a1*mtoe*sin(tal + thl + tkl)*tal_dt^2 + Lgtoey*a2*mtoe*sin(tal + thl + tkl)*tal_dt^2 + Lgtoex*a1*mtoe*sin(tar + thr + tkr)*tar_dt^2 - Lgtoey*a2*mtoe*sin(tar + thr + tkr)*tar_dt^2 + Lgtoex*a1*mtoe*sin(tal + thl + tkl)*thl_dt^2 + Lgtoey*a2*mtoe*sin(tal + thl + tkl)*thl_dt^2 + Lgtoex*a1*mtoe*sin(tar + thr + tkr)*thr_dt^2 - Lgtoey*a2*mtoe*sin(tar + thr + tkr)*thr_dt^2 + Lgtoex*a1*mtoe*sin(tal + thl + tkl)*tkl_dt^2 + Lgtoey*a2*mtoe*sin(tal + thl + tkl)*tkl_dt^2 + Lgtoex*a1*mtoe*sin(tar + thr + tkr)*tkr_dt^2 - Lgtoey*a2*mtoe*sin(tar + thr + tkr)*tkr_dt^2 - Ls*a1*mf*cos(thl + tkl)*thl_dt^2 - Ls*a1*mf*cos(thr + tkr)*thr_dt^2 - Lgs*a1*ms*cos(thr + tkr)*thr_dt^2 - Ls*a1*mf*cos(thl + tkl)*tkl_dt^2 - Ls*a1*mf*cos(thr + tkr)*tkr_dt^2 - Lgs*a1*ms*cos(thr + tkr)*tkr_dt^2 - Ls*a1*mtoe*cos(thl + tkl)*thl_dt^2 - Ls*a1*mtoe*cos(thr + tkr)*thr_dt^2 - Ls*a1*mtoe*cos(thl + tkl)*tkl_dt^2 - Ls*a1*mtoe*cos(thr + tkr)*tkr_dt^2 - a1*k2*mtoe*cos(tal + thl + tkl)*tal_dt^2 - a2*k1*mtoe*cos(tal + thl + tkl)*tal_dt^2 - a1*k2*mtoe*cos(tar + thr + tkr)*tar_dt^2 - a2*k1*mtoe*cos(tar + thr + tkr)*tar_dt^2 - a1*k2*mtoe*cos(tal + thl + tkl)*thl_dt^2 - a2*k1*mtoe*cos(tal + thl + tkl)*thl_dt^2 - a1*k2*mtoe*cos(tar + thr + tkr)*thr_dt^2 - a2*k1*mtoe*cos(tar + thr + tkr)*thr_dt^2 - a1*k2*mtoe*cos(tal + thl + tkl)*tkl_dt^2 - a2*k1*mtoe*cos(tal + thl + tkl)*tkl_dt^2 - a1*k2*mtoe*cos(tar + thr + tkr)*tkr_dt^2 - a2*k1*mtoe*cos(tar + thr + tkr)*tkr_dt^2 - Hfgy*mf*t1*cos(tal + tkl)*tal_dt^2 - Hfgx*mf*t2*cos(tar + tkr)*tar_dt^2 - Hfgy*mf*t1*cos(tar + tkr)*tar_dt^2 - Hfgy*mf*t1*cos(tal + tkl)*tkl_dt^2 - Hfgx*mf*t2*cos(tar + tkr)*tkr_dt^2 - Hfgy*mf*t1*cos(tar + tkr)*tkr_dt^2 - Ls*a2*mf*sin(thl + tkl)*thl_dt^2 - Ls*a2*mf*sin(thr + tkr)*thr_dt^2 - Lgs*a2*ms*sin(thr + tkr)*thr_dt^2 - Ls*a2*mf*sin(thl + tkl)*tkl_dt^2 - Ls*a2*mf*sin(thr + tkr)*tkr_dt^2 - Lgs*a2*ms*sin(thr + tkr)*tkr_dt^2 - Ls*a2*mtoe*sin(thl + tkl)*thl_dt^2 - Ls*a2*mtoe*sin(thr + tkr)*thr_dt^2 - Ls*a2*mtoe*sin(thl + tkl)*tkl_dt^2 - Ls*a2*mtoe*sin(thr + tkr)*tkr_dt^2 + Lfb*mf*t2*cos(tar + tkr)*tar_dt^2 + Lfb*mf*t2*cos(tar + tkr)*tkr_dt^2 - Lgtoex*mtoe*t2*cos(tal + tkl)*tal_dt^2 + Lgtoey*mtoe*t1*cos(tal + tkl)*tal_dt^2 - Lgtoex*mtoe*t2*cos(tar + tkr)*tar_dt^2 - Lgtoey*mtoe*t1*cos(tar + tkr)*tar_dt^2 - Lgtoex*mtoe*t2*cos(tal + tkl)*tkl_dt^2 + Lgtoey*mtoe*t1*cos(tal + tkl)*tkl_dt^2 - Lgtoex*mtoe*t2*cos(tar + tkr)*tkr_dt^2 - Lgtoey*mtoe*t1*cos(tar + tkr)*tkr_dt^2 + a1*k1*mtoe*sin(tal + thl + tkl)*tal_dt^2 - a2*k2*mtoe*sin(tal + thl + tkl)*tal_dt^2 + a1*k1*mtoe*sin(tar + thr + tkr)*tar_dt^2 - a2*k2*mtoe*sin(tar + thr + tkr)*tar_dt^2 + a1*k1*mtoe*sin(tal + thl + tkl)*thl_dt^2 - a2*k2*mtoe*sin(tal + thl + tkl)*thl_dt^2 + a1*k1*mtoe*sin(tar + thr + tkr)*thr_dt^2 - a2*k2*mtoe*sin(tar + thr + tkr)*thr_dt^2 + a1*k1*mtoe*sin(tal + thl + tkl)*tkl_dt^2 - a2*k2*mtoe*sin(tal + thl + tkl)*tkl_dt^2 + a1*k1*mtoe*sin(tar + thr + tkr)*tkr_dt^2 - a2*k2*mtoe*sin(tar + thr + tkr)*tkr_dt^2 - Hfgy*mf*t2*sin(tal + tkl)*tal_dt^2 + Hfgx*mf*t1*sin(tar + tkr)*tar_dt^2 - Hfgy*mf*t2*sin(tar + tkr)*tar_dt^2 - Hfgy*mf*t2*sin(tal + tkl)*tkl_dt^2 + Hfgx*mf*t1*sin(tar + tkr)*tkr_dt^2 - Hfgy*mf*t2*sin(tar + tkr)*tkr_dt^2 - Lfb*mf*t1*sin(tar + tkr)*tar_dt^2 - Lfb*mf*t1*sin(tar + tkr)*tkr_dt^2 + Lgtoex*mtoe*t1*sin(tal + tkl)*tal_dt^2 + Lgtoey*mtoe*t2*sin(tal + tkl)*tal_dt^2 + Lgtoex*mtoe*t1*sin(tar + tkr)*tar_dt^2 - Lgtoey*mtoe*t2*sin(tar + tkr)*tar_dt^2 + Lgtoex*mtoe*t1*sin(tal + tkl)*tkl_dt^2 + Lgtoey*mtoe*t2*sin(tal + tkl)*tkl_dt^2 + Lgtoex*mtoe*t1*sin(tar + tkr)*tkr_dt^2 - Lgtoey*mtoe*t2*sin(tar + tkr)*tkr_dt^2 - k1*mtoe*t2*cos(tal + tkl)*tal_dt^2 - k2*mtoe*t1*cos(tal + tkl)*tal_dt^2 - k1*mtoe*t2*cos(tar + tkr)*tar_dt^2 - k2*mtoe*t1*cos(tar + tkr)*tar_dt^2 - k1*mtoe*t2*cos(tal + tkl)*tkl_dt^2 - k2*mtoe*t1*cos(tal + tkl)*tkl_dt^2 - k1*mtoe*t2*cos(tar + tkr)*tkr_dt^2 - k2*mtoe*t1*cos(tar + tkr)*tkr_dt^2 - Hfgx*mf*t2*cos(tar - thl + thr + tkr)*tar_dt^2 + Hfgx*mf*t2*cos(tar - thl + thr + tkr)*thl_dt^2 - Hfgx*mf*t2*cos(tar - thl + thr + tkr)*thr_dt^2 - Hfgx*mf*t2*cos(tar - thl + thr + tkr)*tkr_dt^2 + k1*mtoe*t1*sin(tal + tkl)*tal_dt^2 - k2*mtoe*t2*sin(tal + tkl)*tal_dt^2 + k1*mtoe*t1*sin(tar + tkr)*tar_dt^2 - k2*mtoe*t2*sin(tar + tkr)*tar_dt^2 + k1*mtoe*t1*sin(tal + tkl)*tkl_dt^2 - k2*mtoe*t2*sin(tal + tkl)*tkl_dt^2 + k1*mtoe*t1*sin(tar + tkr)*tkr_dt^2 - k2*mtoe*t2*sin(tar + tkr)*tkr_dt^2 + Lfb*mf*t2*cos(tar - thl + thr + tkr)*tar_dt^2 - Lfb*mf*t2*cos(tar - thl + thr + tkr)*thl_dt^2 + Lfb*mf*t2*cos(tar - thl + thr + tkr)*thr_dt^2 + Lfb*mf*t2*cos(tar - thl + thr + tkr)*tkr_dt^2 + Lgs*a2*ms*cos(thl + tkl + 2*tu)*thl_dt^2 + Lgs*a2*ms*cos(thl + tkl + 2*tu)*tkl_dt^2 + 2*Lgs*a2*ms*cos(thl + tkl + 2*tu)*tu_dt^2 + Hfgx*mf*t1*sin(tar - thl + thr + tkr)*tar_dt^2 - Hfgx*mf*t1*sin(tar - thl + thr + tkr)*thl_dt^2 + Hfgx*mf*t1*sin(tar - thl + thr + tkr)*thr_dt^2 + Hfgx*mf*t1*sin(tar - thl + thr + tkr)*tkr_dt^2 - Lfb*mf*t1*sin(tar - thl + thr + tkr)*tar_dt^2 + Lfb*mf*t1*sin(tar - thl + thr + tkr)*thl_dt^2 - Lfb*mf*t1*sin(tar - thl + thr + tkr)*thr_dt^2 - Lfb*mf*t1*sin(tar - thl + thr + tkr)*tkr_dt^2 + Lgs*a1*ms*sin(thl + tkl + 2*tu)*thl_dt^2 + Lgs*a1*ms*sin(thl + tkl + 2*tu)*tkl_dt^2 + 2*Lgs*a1*ms*sin(thl + tkl + 2*tu)*tu_dt^2 - Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tar_dt^2 + Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*thl_dt^2 - Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*thr_dt^2 + Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tkl_dt^2 - Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tkr_dt^2 + Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tar_dt^2 - Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*thl_dt^2 + Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*thr_dt^2 - Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tkl_dt^2 + Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tkr_dt^2 - Hfgx*Ls*mf*cos(tar)*tar_dt^2 + Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tal_dt^2 - Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tar_dt^2 + Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*thl_dt^2 - Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*thr_dt^2 + Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tkl_dt^2 - Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tkr_dt^2 + Lfb*Ls*mf*cos(tar)*tar_dt^2 - Lgtoex*Ls*mtoe*cos(tal)*tal_dt^2 - Lgtoex*Ls*mtoe*cos(tar)*tar_dt^2 - Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tal_dt^2 + Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tar_dt^2 - Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*thl_dt^2 + Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*thr_dt^2 - Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tkl_dt^2 + Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tkr_dt^2 - Hfgy*Ls*mf*sin(tal)*tal_dt^2 - Hfgy*Ls*mf*sin(tar)*tar_dt^2 + Lgtoey*Ls*mtoe*sin(tal)*tal_dt^2 - Lgtoey*Ls*mtoe*sin(tar)*tar_dt^2 - Lgt*a1*mt*cos(thl)*thl_dt^2 - Lgt*a1*mt*cos(thr)*thr_dt^2 + 2*Lgs*ms*t2*cos(2*thl + tkl + 2*tu)*thl_dt^2 + Lgs*ms*t2*cos(2*thl + tkl + 2*tu)*tkl_dt^2 + 2*Lgs*ms*t2*cos(2*thl + tkl + 2*tu)*tu_dt^2 - Ls*k1*mtoe*cos(tal)*tal_dt^2 - Ls*k1*mtoe*cos(tar)*tar_dt^2 - Lgt*a2*mt*sin(thl)*thl_dt^2 - Lgt*a2*mt*sin(thr)*thr_dt^2 + 2*Lgs*ms*t1*sin(2*thl + tkl + 2*tu)*thl_dt^2 + Lgs*ms*t1*sin(2*thl + tkl + 2*tu)*tkl_dt^2 + 2*Lgs*ms*t1*sin(2*thl + tkl + 2*tu)*tu_dt^2 - Ls*mf*t1*cos(tkl)*tkl_dt^2 - Ls*mf*t1*cos(tkr)*tkr_dt^2 - Lgs*ms*t1*cos(tkr)*tkr_dt^2 - Ls*mtoe*t1*cos(tkl)*tkl_dt^2 - Ls*mtoe*t1*cos(tkr)*tkr_dt^2 - 2*Hfgx*Ls*mf*cos(tar)*tar_dt*thr_dt - 2*Hfgx*Ls*mf*cos(tar)*tar_dt*tkr_dt - 2*Hfgx*Ls*mf*cos(tar)*tar_dt*tu_dt + 2*Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tal_dt*thl_dt - 2*Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tar_dt*thr_dt + 2*Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tal_dt*tkl_dt - 2*Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tar_dt*tkr_dt + 2*Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*thl_dt*tkl_dt - 2*Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*thr_dt*tkr_dt + 2*Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tal_dt*tu_dt - 2*Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tar_dt*tu_dt + 2*Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*thl_dt*tu_dt - 2*Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*thr_dt*tu_dt + 2*Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tkl_dt*tu_dt - 2*Hfgx*Hfgy*mf*cos(tal - tar + thl - thr + tkl - tkr)*tkr_dt*tu_dt + 2*Lfb*Ls*mf*cos(tar)*tar_dt*thr_dt + 2*Lfb*Ls*mf*cos(tar)*tar_dt*tkr_dt + 2*Lfb*Ls*mf*cos(tar)*tar_dt*tu_dt - 2*Lgtoex*Ls*mtoe*cos(tal)*tal_dt*thl_dt - 2*Lgtoex*Ls*mtoe*cos(tar)*tar_dt*thr_dt - 2*Lgtoex*Ls*mtoe*cos(tal)*tal_dt*tkl_dt - 2*Lgtoex*Ls*mtoe*cos(tar)*tar_dt*tkr_dt - 2*Lgtoex*Ls*mtoe*cos(tal)*tal_dt*tu_dt - 2*Lgtoex*Ls*mtoe*cos(tar)*tar_dt*tu_dt - 2*Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tal_dt*thl_dt + 2*Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tar_dt*thr_dt - 2*Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tal_dt*tkl_dt + 2*Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tar_dt*tkr_dt - 2*Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*thl_dt*tkl_dt + 2*Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*thr_dt*tkr_dt - 2*Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tal_dt*tu_dt + 2*Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tar_dt*tu_dt - 2*Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*thl_dt*tu_dt + 2*Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*thr_dt*tu_dt - 2*Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tkl_dt*tu_dt + 2*Hfgy*Lfb*mf*cos(tal - tar + thl - thr + tkl - tkr)*tkr_dt*tu_dt - 2*Hfgy*Ls*mf*sin(tal)*tal_dt*thl_dt - 2*Hfgy*Ls*mf*sin(tar)*tar_dt*thr_dt - 2*Hfgy*Ls*mf*sin(tal)*tal_dt*tkl_dt - 2*Hfgy*Ls*mf*sin(tar)*tar_dt*tkr_dt - 2*Hfgy*Ls*mf*sin(tal)*tal_dt*tu_dt - 2*Hfgy*Ls*mf*sin(tar)*tar_dt*tu_dt + 2*Lgtoey*Ls*mtoe*sin(tal)*tal_dt*thl_dt - 2*Lgtoey*Ls*mtoe*sin(tar)*tar_dt*thr_dt + 2*Lgtoey*Ls*mtoe*sin(tal)*tal_dt*tkl_dt - 2*Lgtoey*Ls*mtoe*sin(tar)*tar_dt*tkr_dt + 2*Lgtoey*Ls*mtoe*sin(tal)*tal_dt*tu_dt - 2*Lgtoey*Ls*mtoe*sin(tar)*tar_dt*tu_dt - 2*Lgt*a1*mt*cos(thl)*thl_dt*tu_dt - 2*Lgt*a1*mt*cos(thr)*thr_dt*tu_dt + 2*Lgs*ms*t2*cos(2*thl + tkl + 2*tu)*thl_dt*tkl_dt + 4*Lgs*ms*t2*cos(2*thl + tkl + 2*tu)*thl_dt*tu_dt + 2*Lgs*ms*t2*cos(2*thl + tkl + 2*tu)*tkl_dt*tu_dt - 2*Ls*k1*mtoe*cos(tal)*tal_dt*thl_dt - 2*Ls*k1*mtoe*cos(tar)*tar_dt*thr_dt - 2*Ls*k1*mtoe*cos(tal)*tal_dt*tkl_dt - 2*Ls*k1*mtoe*cos(tar)*tar_dt*tkr_dt - 2*Ls*k1*mtoe*cos(tal)*tal_dt*tu_dt - 2*Ls*k1*mtoe*cos(tar)*tar_dt*tu_dt - 2*Lgt*a2*mt*sin(thl)*thl_dt*tu_dt - 2*Lgt*a2*mt*sin(thr)*thr_dt*tu_dt + 2*Lgs*ms*t1*sin(2*thl + tkl + 2*tu)*thl_dt*tkl_dt + 4*Lgs*ms*t1*sin(2*thl + tkl + 2*tu)*thl_dt*tu_dt + 2*Lgs*ms*t1*sin(2*thl + tkl + 2*tu)*tkl_dt*tu_dt - 2*Ls*mf*t1*cos(tkl)*thl_dt*tkl_dt - 2*Ls*mf*t1*cos(tkr)*thr_dt*tkr_dt - 2*Lgs*ms*t1*cos(tkr)*thr_dt*tkr_dt - 2*Ls*mf*t1*cos(tkl)*tkl_dt*tu_dt - 2*Ls*mf*t1*cos(tkr)*tkr_dt*tu_dt - 2*Lgs*ms*t1*cos(tkr)*tkr_dt*tu_dt - 2*Ls*mtoe*t1*cos(tkl)*thl_dt*tkl_dt - 2*Ls*mtoe*t1*cos(tkr)*thr_dt*tkr_dt - 2*Ls*mtoe*t1*cos(tkl)*tkl_dt*tu_dt - 2*Ls*mtoe*t1*cos(tkr)*tkr_dt*tu_dt - 2*Ls*k2*mtoe*sin(tal)*tal_dt*thl_dt - 2*Ls*k2*mtoe*sin(tar)*tar_dt*thr_dt - 2*Ls*k2*mtoe*sin(tal)*tal_dt*tkl_dt - 2*Ls*k2*mtoe*sin(tar)*tar_dt*tkr_dt - 2*Ls*k2*mtoe*sin(tal)*tal_dt*tu_dt - 2*Ls*k2*mtoe*sin(tar)*tar_dt*tu_dt - 2*Ls*mf*t2*sin(tkl)*thl_dt*tkl_dt - 2*Ls*mf*t2*sin(tkr)*thr_dt*tkr_dt - 2*Lgs*ms*t2*sin(tkr)*thr_dt*tkr_dt - 2*Ls*mf*t2*sin(tkl)*tkl_dt*tu_dt - 2*Ls*mf*t2*sin(tkr)*tkr_dt*tu_dt - 2*Lgs*ms*t2*sin(tkr)*tkr_dt*tu_dt - 2*Ls*mtoe*t2*sin(tkl)*thl_dt*tkl_dt - 2*Ls*mtoe*t2*sin(tkr)*thr_dt*tkr_dt - 2*Ls*mtoe*t2*sin(tkl)*tkl_dt*tu_dt - 2*Ls*mtoe*t2*sin(tkr)*tkr_dt*tu_dt - 2*a1*mf*t2*cos(thl)*thl_dt*tu_dt + 2*a2*mf*t1*cos(thl)*thl_dt*tu_dt - 2*a1*mf*t2*cos(thr)*thr_dt*tu_dt + 2*a2*mf*t1*cos(thr)*thr_dt*tu_dt - 2*a1*ms*t2*cos(thl)*thl_dt*tu_dt + 2*a2*ms*t1*cos(thl)*thl_dt*tu_dt - 2*a1*ms*t2*cos(thr)*thr_dt*tu_dt + 2*a2*ms*t1*cos(thr)*thr_dt*tu_dt - 2*a1*mtoe*t2*cos(thl)*thl_dt*tu_dt + 2*a2*mtoe*t1*cos(thl)*thl_dt*tu_dt - 2*a1*mtoe*t2*cos(thr)*thr_dt*tu_dt + 2*a2*mtoe*t1*cos(thr)*thr_dt*tu_dt - 2*Hfgy*a1*mf*cos(tal + thl + tkl)*tal_dt*thl_dt - 4*Hfgx*a2*mf*cos(tar + thr + tkr)*tar_dt*thr_dt - 2*Hfgy*a1*mf*cos(tar + thr + tkr)*tar_dt*thr_dt - 2*Hfgy*a1*mf*cos(tal + thl + tkl)*tal_dt*tkl_dt - 4*Hfgx*a2*mf*cos(tar + thr + tkr)*tar_dt*tkr_dt - 2*Hfgy*a1*mf*cos(tar + thr + tkr)*tar_dt*tkr_dt - 2*Hfgy*a1*mf*cos(tal + thl + tkl)*thl_dt*tkl_dt - 4*Hfgx*a2*mf*cos(tar + thr + tkr)*thr_dt*tkr_dt - 2*Hfgy*a1*mf*cos(tar + thr + tkr)*thr_dt*tkr_dt - 2*Hfgy*a1*mf*cos(tal + thl + tkl)*tal_dt*tu_dt - 4*Hfgx*a2*mf*cos(tar + thr + tkr)*tar_dt*tu_dt - 2*Hfgy*a1*mf*cos(tar + thr + tkr)*tar_dt*tu_dt - 2*Hfgy*a1*mf*cos(tal + thl + tkl)*thl_dt*tu_dt - 4*Hfgx*a2*mf*cos(tar + thr + tkr)*thr_dt*tu_dt - 2*Hfgy*a1*mf*cos(tar + thr + tkr)*thr_dt*tu_dt - 2*Hfgy*a1*mf*cos(tal + thl + tkl)*tkl_dt*tu_dt - 4*Hfgx*a2*mf*cos(tar + thr + tkr)*tkr_dt*tu_dt - 2*Hfgy*a1*mf*cos(tar + thr + tkr)*tkr_dt*tu_dt + 4*Lfb*a2*mf*cos(tar + thr + tkr)*tar_dt*thr_dt + 4*Lfb*a2*mf*cos(tar + thr + tkr)*tar_dt*tkr_dt + 4*Lfb*a2*mf*cos(tar + thr + tkr)*thr_dt*tkr_dt + 4*Lfb*a2*mf*cos(tar + thr + tkr)*tar_dt*tu_dt - 2*Lgtoex*a2*mtoe*cos(tal + thl + tkl)*tal_dt*thl_dt + 2*Lgtoey*a1*mtoe*cos(tal + thl + tkl)*tal_dt*thl_dt - 2*Lgtoex*a2*mtoe*cos(tar + thr + tkr)*tar_dt*thr_dt - 2*Lgtoey*a1*mtoe*cos(tar + thr + tkr)*tar_dt*thr_dt - 2*Lgtoex*a2*mtoe*cos(tal + thl + tkl)*tal_dt*tkl_dt + 2*Lgtoey*a1*mtoe*cos(tal + thl + tkl)*tal_dt*tkl_dt - 2*Lgtoex*a2*mtoe*cos(tar + thr + tkr)*tar_dt*tkr_dt - 2*Lgtoey*a1*mtoe*cos(tar + thr + tkr)*tar_dt*tkr_dt + 4*Lfb*a2*mf*cos(tar + thr + tkr)*thr_dt*tu_dt + 4*Lfb*a2*mf*cos(tar + thr + tkr)*tkr_dt*tu_dt - 2*Lgtoex*a2*mtoe*cos(tal + thl + tkl)*thl_dt*tkl_dt + 2*Lgtoey*a1*mtoe*cos(tal + thl + tkl)*thl_dt*tkl_dt - 2*Lgtoex*a2*mtoe*cos(tar + thr + tkr)*thr_dt*tkr_dt - 2*Lgtoey*a1*mtoe*cos(tar + thr + tkr)*thr_dt*tkr_dt - 2*Lgtoex*a2*mtoe*cos(tal + thl + tkl)*tal_dt*tu_dt + 2*Lgtoey*a1*mtoe*cos(tal + thl + tkl)*tal_dt*tu_dt - 2*Lgtoex*a2*mtoe*cos(tar + thr + tkr)*tar_dt*tu_dt - 2*Lgtoey*a1*mtoe*cos(tar + thr + tkr)*tar_dt*tu_dt - 2*Lgtoex*a2*mtoe*cos(tal + thl + tkl)*thl_dt*tu_dt + 2*Lgtoey*a1*mtoe*cos(tal + thl + tkl)*thl_dt*tu_dt - 2*Lgtoex*a2*mtoe*cos(tar + thr + tkr)*thr_dt*tu_dt - 2*Lgtoey*a1*mtoe*cos(tar + thr + tkr)*thr_dt*tu_dt - 2*Lgtoex*a2*mtoe*cos(tal + thl + tkl)*tkl_dt*tu_dt + 2*Lgtoey*a1*mtoe*cos(tal + thl + tkl)*tkl_dt*tu_dt - 2*Lgtoex*a2*mtoe*cos(tar + thr + tkr)*tkr_dt*tu_dt - 2*Lgtoey*a1*mtoe*cos(tar + thr + tkr)*tkr_dt*tu_dt - 2*a1*mf*t1*sin(thl)*thl_dt*tu_dt - 2*a2*mf*t2*sin(thl)*thl_dt*tu_dt - 2*a1*mf*t1*sin(thr)*thr_dt*tu_dt - 2*a2*mf*t2*sin(thr)*thr_dt*tu_dt - 2*a1*ms*t1*sin(thl)*thl_dt*tu_dt - 2*a2*ms*t2*sin(thl)*thl_dt*tu_dt - 2*a1*ms*t1*sin(thr)*thr_dt*tu_dt - 2*a2*ms*t2*sin(thr)*thr_dt*tu_dt - 2*a1*mtoe*t1*sin(thl)*thl_dt*tu_dt - 2*a2*mtoe*t2*sin(thl)*thl_dt*tu_dt - 2*a1*mtoe*t1*sin(thr)*thr_dt*tu_dt - 2*a2*mtoe*t2*sin(thr)*thr_dt*tu_dt - 2*Hfgy*a2*mf*sin(tal + thl + tkl)*tal_dt*thl_dt + 4*Hfgx*a1*mf*sin(tar + thr + tkr)*tar_dt*thr_dt - 2*Hfgy*a2*mf*sin(tar + thr + tkr)*tar_dt*thr_dt - 2*Hfgy*a2*mf*sin(tal + thl + tkl)*tal_dt*tkl_dt + 4*Hfgx*a1*mf*sin(tar + thr + tkr)*tar_dt*tkr_dt - 2*Hfgy*a2*mf*sin(tar + thr + tkr)*tar_dt*tkr_dt - 2*Hfgy*a2*mf*sin(tal + thl + tkl)*thl_dt*tkl_dt + 4*Hfgx*a1*mf*sin(tar + thr + tkr)*thr_dt*tkr_dt - 2*Hfgy*a2*mf*sin(tar + thr + tkr)*thr_dt*tkr_dt - 2*Hfgy*a2*mf*sin(tal + thl + tkl)*tal_dt*tu_dt + 4*Hfgx*a1*mf*sin(tar + thr + tkr)*tar_dt*tu_dt - 2*Hfgy*a2*mf*sin(tar + thr + tkr)*tar_dt*tu_dt - 2*Hfgy*a2*mf*sin(tal + thl + tkl)*thl_dt*tu_dt + 4*Hfgx*a1*mf*sin(tar + thr + tkr)*thr_dt*tu_dt - 2*Hfgy*a2*mf*sin(tar + thr + tkr)*thr_dt*tu_dt - 2*Hfgy*a2*mf*sin(tal + thl + tkl)*tkl_dt*tu_dt + 4*Hfgx*a1*mf*sin(tar + thr + tkr)*tkr_dt*tu_dt - 2*Hfgy*a2*mf*sin(tar + thr + tkr)*tkr_dt*tu_dt - 4*Lfb*a1*mf*sin(tar + thr + tkr)*tar_dt*thr_dt - 4*Lfb*a1*mf*sin(tar + thr + tkr)*tar_dt*tkr_dt - 4*Lfb*a1*mf*sin(tar + thr + tkr)*thr_dt*tkr_dt - 4*Lfb*a1*mf*sin(tar + thr + tkr)*tar_dt*tu_dt + 2*Lgtoex*a1*mtoe*sin(tal + thl + tkl)*tal_dt*thl_dt + 2*Lgtoey*a2*mtoe*sin(tal + thl + tkl)*tal_dt*thl_dt + 2*Lgtoex*a1*mtoe*sin(tar + thr + tkr)*tar_dt*thr_dt - 2*Lgtoey*a2*mtoe*sin(tar + thr + tkr)*tar_dt*thr_dt + 2*Lgtoex*a1*mtoe*sin(tal + thl + tkl)*tal_dt*tkl_dt + 2*Lgtoey*a2*mtoe*sin(tal + thl + tkl)*tal_dt*tkl_dt + 2*Lgtoex*a1*mtoe*sin(tar + thr + tkr)*tar_dt*tkr_dt - 2*Lgtoey*a2*mtoe*sin(tar + thr + tkr)*tar_dt*tkr_dt - 4*Lfb*a1*mf*sin(tar + thr + tkr)*thr_dt*tu_dt - 4*Lfb*a1*mf*sin(tar + thr + tkr)*tkr_dt*tu_dt + 2*Lgtoex*a1*mtoe*sin(tal + thl + tkl)*thl_dt*tkl_dt + 2*Lgtoey*a2*mtoe*sin(tal + thl + tkl)*thl_dt*tkl_dt + 2*Lgtoex*a1*mtoe*sin(tar + thr + tkr)*thr_dt*tkr_dt - 2*Lgtoey*a2*mtoe*sin(tar + thr + tkr)*thr_dt*tkr_dt + 2*Lgtoex*a1*mtoe*sin(tal + thl + tkl)*tal_dt*tu_dt + 2*Lgtoey*a2*mtoe*sin(tal + thl + tkl)*tal_dt*tu_dt + 2*Lgtoex*a1*mtoe*sin(tar + thr + tkr)*tar_dt*tu_dt - 2*Lgtoey*a2*mtoe*sin(tar + thr + tkr)*tar_dt*tu_dt + 2*Lgtoex*a1*mtoe*sin(tal + thl + tkl)*thl_dt*tu_dt + 2*Lgtoey*a2*mtoe*sin(tal + thl + tkl)*thl_dt*tu_dt + 2*Lgtoex*a1*mtoe*sin(tar + thr + tkr)*thr_dt*tu_dt - 2*Lgtoey*a2*mtoe*sin(tar + thr + tkr)*thr_dt*tu_dt + 2*Lgtoex*a1*mtoe*sin(tal + thl + tkl)*tkl_dt*tu_dt + 2*Lgtoey*a2*mtoe*sin(tal + thl + tkl)*tkl_dt*tu_dt + 2*Lgtoex*a1*mtoe*sin(tar + thr + tkr)*tkr_dt*tu_dt - 2*Lgtoey*a2*mtoe*sin(tar + thr + tkr)*tkr_dt*tu_dt - 2*Ls*a1*mf*cos(thl + tkl)*thl_dt*tkl_dt - 2*Ls*a1*mf*cos(thr + tkr)*thr_dt*tkr_dt - 2*Lgs*a1*ms*cos(thr + tkr)*thr_dt*tkr_dt - 2*Ls*a1*mf*cos(thl + tkl)*thl_dt*tu_dt - 2*Ls*a1*mf*cos(thr + tkr)*thr_dt*tu_dt - 2*Lgs*a1*ms*cos(thr + tkr)*thr_dt*tu_dt - 2*Ls*a1*mf*cos(thl + tkl)*tkl_dt*tu_dt - 2*Ls*a1*mf*cos(thr + tkr)*tkr_dt*tu_dt - 2*Lgs*a1*ms*cos(thr + tkr)*tkr_dt*tu_dt - 2*Ls*a1*mtoe*cos(thl + tkl)*thl_dt*tkl_dt - 2*Ls*a1*mtoe*cos(thr + tkr)*thr_dt*tkr_dt - 2*Ls*a1*mtoe*cos(thl + tkl)*thl_dt*tu_dt - 2*Ls*a1*mtoe*cos(thr + tkr)*thr_dt*tu_dt - 2*Ls*a1*mtoe*cos(thl + tkl)*tkl_dt*tu_dt - 2*Ls*a1*mtoe*cos(thr + tkr)*tkr_dt*tu_dt - 2*a1*k2*mtoe*cos(tal + thl + tkl)*tal_dt*thl_dt - 2*a2*k1*mtoe*cos(tal + thl + tkl)*tal_dt*thl_dt - 2*a1*k2*mtoe*cos(tar + thr + tkr)*tar_dt*thr_dt - 2*a2*k1*mtoe*cos(tar + thr + tkr)*tar_dt*thr_dt - 2*a1*k2*mtoe*cos(tal + thl + tkl)*tal_dt*tkl_dt - 2*a2*k1*mtoe*cos(tal + thl + tkl)*tal_dt*tkl_dt - 2*a1*k2*mtoe*cos(tar + thr + tkr)*tar_dt*tkr_dt - 2*a2*k1*mtoe*cos(tar + thr + tkr)*tar_dt*tkr_dt - 2*a1*k2*mtoe*cos(tal + thl + tkl)*thl_dt*tkl_dt - 2*a2*k1*mtoe*cos(tal + thl + tkl)*thl_dt*tkl_dt - 2*a1*k2*mtoe*cos(tar + thr + tkr)*thr_dt*tkr_dt - 2*a2*k1*mtoe*cos(tar + thr + tkr)*thr_dt*tkr_dt - 2*a1*k2*mtoe*cos(tal + thl + tkl)*tal_dt*tu_dt - 2*a2*k1*mtoe*cos(tal + thl + tkl)*tal_dt*tu_dt - 2*a1*k2*mtoe*cos(tar + thr + tkr)*tar_dt*tu_dt - 2*a2*k1*mtoe*cos(tar + thr + tkr)*tar_dt*tu_dt - 2*a1*k2*mtoe*cos(tal + thl + tkl)*thl_dt*tu_dt - 2*a2*k1*mtoe*cos(tal + thl + tkl)*thl_dt*tu_dt - 2*a1*k2*mtoe*cos(tar + thr + tkr)*thr_dt*tu_dt - 2*a2*k1*mtoe*cos(tar + thr + tkr)*thr_dt*tu_dt - 2*a1*k2*mtoe*cos(tal + thl + tkl)*tkl_dt*tu_dt - 2*a2*k1*mtoe*cos(tal + thl + tkl)*tkl_dt*tu_dt - 2*a1*k2*mtoe*cos(tar + thr + tkr)*tkr_dt*tu_dt - 2*a2*k1*mtoe*cos(tar + thr + tkr)*tkr_dt*tu_dt - 2*Hfgy*mf*t1*cos(tal + tkl)*tal_dt*thl_dt - 2*Hfgx*mf*t2*cos(tar + tkr)*tar_dt*thr_dt - 2*Hfgy*mf*t1*cos(tar + tkr)*tar_dt*thr_dt - 2*Hfgy*mf*t1*cos(tal + tkl)*tal_dt*tkl_dt - 2*Hfgx*mf*t2*cos(tar + tkr)*tar_dt*tkr_dt - 2*Hfgy*mf*t1*cos(tar + tkr)*tar_dt*tkr_dt - 2*Hfgy*mf*t1*cos(tal + tkl)*thl_dt*tkl_dt - 2*Hfgx*mf*t2*cos(tar + tkr)*thr_dt*tkr_dt - 2*Hfgy*mf*t1*cos(tar + tkr)*thr_dt*tkr_dt - 2*Hfgy*mf*t1*cos(tal + tkl)*tal_dt*tu_dt - 2*Hfgx*mf*t2*cos(tar + tkr)*tar_dt*tu_dt - 2*Hfgy*mf*t1*cos(tar + tkr)*tar_dt*tu_dt - 2*Hfgy*mf*t1*cos(tal + tkl)*tkl_dt*tu_dt - 2*Hfgx*mf*t2*cos(tar + tkr)*tkr_dt*tu_dt - 2*Hfgy*mf*t1*cos(tar + tkr)*tkr_dt*tu_dt - 2*Ls*a2*mf*sin(thl + tkl)*thl_dt*tkl_dt - 2*Ls*a2*mf*sin(thr + tkr)*thr_dt*tkr_dt - 2*Lgs*a2*ms*sin(thr + tkr)*thr_dt*tkr_dt - 2*Ls*a2*mf*sin(thl + tkl)*thl_dt*tu_dt - 2*Ls*a2*mf*sin(thr + tkr)*thr_dt*tu_dt - 2*Lgs*a2*ms*sin(thr + tkr)*thr_dt*tu_dt - 2*Ls*a2*mf*sin(thl + tkl)*tkl_dt*tu_dt - 2*Ls*a2*mf*sin(thr + tkr)*tkr_dt*tu_dt - 2*Lgs*a2*ms*sin(thr + tkr)*tkr_dt*tu_dt - 2*Ls*a2*mtoe*sin(thl + tkl)*thl_dt*tkl_dt - 2*Ls*a2*mtoe*sin(thr + tkr)*thr_dt*tkr_dt - 2*Ls*a2*mtoe*sin(thl + tkl)*thl_dt*tu_dt - 2*Ls*a2*mtoe*sin(thr + tkr)*thr_dt*tu_dt - 2*Ls*a2*mtoe*sin(thl + tkl)*tkl_dt*tu_dt - 2*Ls*a2*mtoe*sin(thr + tkr)*tkr_dt*tu_dt + 2*Lfb*mf*t2*cos(tar + tkr)*tar_dt*thr_dt + 2*Lfb*mf*t2*cos(tar + tkr)*tar_dt*tkr_dt + 2*Lfb*mf*t2*cos(tar + tkr)*thr_dt*tkr_dt + 2*Lfb*mf*t2*cos(tar + tkr)*tar_dt*tu_dt - 2*Lgtoex*mtoe*t2*cos(tal + tkl)*tal_dt*thl_dt + 2*Lgtoey*mtoe*t1*cos(tal + tkl)*tal_dt*thl_dt - 2*Lgtoex*mtoe*t2*cos(tar + tkr)*tar_dt*thr_dt - 2*Lgtoey*mtoe*t1*cos(tar + tkr)*tar_dt*thr_dt - 2*Lgtoex*mtoe*t2*cos(tal + tkl)*tal_dt*tkl_dt + 2*Lgtoey*mtoe*t1*cos(tal + tkl)*tal_dt*tkl_dt - 2*Lgtoex*mtoe*t2*cos(tar + tkr)*tar_dt*tkr_dt - 2*Lgtoey*mtoe*t1*cos(tar + tkr)*tar_dt*tkr_dt + 2*Lfb*mf*t2*cos(tar + tkr)*tkr_dt*tu_dt - 2*Lgtoex*mtoe*t2*cos(tal + tkl)*thl_dt*tkl_dt + 2*Lgtoey*mtoe*t1*cos(tal + tkl)*thl_dt*tkl_dt - 2*Lgtoex*mtoe*t2*cos(tar + tkr)*thr_dt*tkr_dt - 2*Lgtoey*mtoe*t1*cos(tar + tkr)*thr_dt*tkr_dt - 2*Lgtoex*mtoe*t2*cos(tal + tkl)*tal_dt*tu_dt + 2*Lgtoey*mtoe*t1*cos(tal + tkl)*tal_dt*tu_dt - 2*Lgtoex*mtoe*t2*cos(tar + tkr)*tar_dt*tu_dt - 2*Lgtoey*mtoe*t1*cos(tar + tkr)*tar_dt*tu_dt - 2*Lgtoex*mtoe*t2*cos(tal + tkl)*tkl_dt*tu_dt + 2*Lgtoey*mtoe*t1*cos(tal + tkl)*tkl_dt*tu_dt - 2*Lgtoex*mtoe*t2*cos(tar + tkr)*tkr_dt*tu_dt - 2*Lgtoey*mtoe*t1*cos(tar + tkr)*tkr_dt*tu_dt + 2*a1*k1*mtoe*sin(tal + thl + tkl)*tal_dt*thl_dt - 2*a2*k2*mtoe*sin(tal + thl + tkl)*tal_dt*thl_dt + 2*a1*k1*mtoe*sin(tar + thr + tkr)*tar_dt*thr_dt - 2*a2*k2*mtoe*sin(tar + thr + tkr)*tar_dt*thr_dt + 2*a1*k1*mtoe*sin(tal + thl + tkl)*tal_dt*tkl_dt - 2*a2*k2*mtoe*sin(tal + thl + tkl)*tal_dt*tkl_dt + 2*a1*k1*mtoe*sin(tar + thr + tkr)*tar_dt*tkr_dt - 2*a2*k2*mtoe*sin(tar + thr + tkr)*tar_dt*tkr_dt + 2*a1*k1*mtoe*sin(tal + thl + tkl)*thl_dt*tkl_dt - 2*a2*k2*mtoe*sin(tal + thl + tkl)*thl_dt*tkl_dt + 2*a1*k1*mtoe*sin(tar + thr + tkr)*thr_dt*tkr_dt - 2*a2*k2*mtoe*sin(tar + thr + tkr)*thr_dt*tkr_dt + 2*a1*k1*mtoe*sin(tal + thl + tkl)*tal_dt*tu_dt - 2*a2*k2*mtoe*sin(tal + thl + tkl)*tal_dt*tu_dt + 2*a1*k1*mtoe*sin(tar + thr + tkr)*tar_dt*tu_dt - 2*a2*k2*mtoe*sin(tar + thr + tkr)*tar_dt*tu_dt + 2*a1*k1*mtoe*sin(tal + thl + tkl)*thl_dt*tu_dt - 2*a2*k2*mtoe*sin(tal + thl + tkl)*thl_dt*tu_dt + 2*a1*k1*mtoe*sin(tar + thr + tkr)*thr_dt*tu_dt - 2*a2*k2*mtoe*sin(tar + thr + tkr)*thr_dt*tu_dt + 2*a1*k1*mtoe*sin(tal + thl + tkl)*tkl_dt*tu_dt - 2*a2*k2*mtoe*sin(tal + thl + tkl)*tkl_dt*tu_dt + 2*a1*k1*mtoe*sin(tar + thr + tkr)*tkr_dt*tu_dt - 2*a2*k2*mtoe*sin(tar + thr + tkr)*tkr_dt*tu_dt - 2*Hfgy*mf*t2*sin(tal + tkl)*tal_dt*thl_dt + 2*Hfgx*mf*t1*sin(tar + tkr)*tar_dt*thr_dt - 2*Hfgy*mf*t2*sin(tar + tkr)*tar_dt*thr_dt - 2*Hfgy*mf*t2*sin(tal + tkl)*tal_dt*tkl_dt + 2*Hfgx*mf*t1*sin(tar + tkr)*tar_dt*tkr_dt - 2*Hfgy*mf*t2*sin(tar + tkr)*tar_dt*tkr_dt - 2*Hfgy*mf*t2*sin(tal + tkl)*thl_dt*tkl_dt + 2*Hfgx*mf*t1*sin(tar + tkr)*thr_dt*tkr_dt - 2*Hfgy*mf*t2*sin(tar + tkr)*thr_dt*tkr_dt - 2*Hfgy*mf*t2*sin(tal + tkl)*tal_dt*tu_dt + 2*Hfgx*mf*t1*sin(tar + tkr)*tar_dt*tu_dt - 2*Hfgy*mf*t2*sin(tar + tkr)*tar_dt*tu_dt - 2*Hfgy*mf*t2*sin(tal + tkl)*tkl_dt*tu_dt + 2*Hfgx*mf*t1*sin(tar + tkr)*tkr_dt*tu_dt - 2*Hfgy*mf*t2*sin(tar + tkr)*tkr_dt*tu_dt - 2*Lfb*mf*t1*sin(tar + tkr)*tar_dt*thr_dt - 2*Lfb*mf*t1*sin(tar + tkr)*tar_dt*tkr_dt - 2*Lfb*mf*t1*sin(tar + tkr)*thr_dt*tkr_dt - 2*Lfb*mf*t1*sin(tar + tkr)*tar_dt*tu_dt + 2*Lgtoex*mtoe*t1*sin(tal + tkl)*tal_dt*thl_dt + 2*Lgtoey*mtoe*t2*sin(tal + tkl)*tal_dt*thl_dt + 2*Lgtoex*mtoe*t1*sin(tar + tkr)*tar_dt*thr_dt - 2*Lgtoey*mtoe*t2*sin(tar + tkr)*tar_dt*thr_dt + 2*Lgtoex*mtoe*t1*sin(tal + tkl)*tal_dt*tkl_dt + 2*Lgtoey*mtoe*t2*sin(tal + tkl)*tal_dt*tkl_dt + 2*Lgtoex*mtoe*t1*sin(tar + tkr)*tar_dt*tkr_dt - 2*Lgtoey*mtoe*t2*sin(tar + tkr)*tar_dt*tkr_dt - 2*Lfb*mf*t1*sin(tar + tkr)*tkr_dt*tu_dt + 2*Lgtoex*mtoe*t1*sin(tal + tkl)*thl_dt*tkl_dt + 2*Lgtoey*mtoe*t2*sin(tal + tkl)*thl_dt*tkl_dt + 2*Lgtoex*mtoe*t1*sin(tar + tkr)*thr_dt*tkr_dt - 2*Lgtoey*mtoe*t2*sin(tar + tkr)*thr_dt*tkr_dt + 2*Lgtoex*mtoe*t1*sin(tal + tkl)*tal_dt*tu_dt + 2*Lgtoey*mtoe*t2*sin(tal + tkl)*tal_dt*tu_dt + 2*Lgtoex*mtoe*t1*sin(tar + tkr)*tar_dt*tu_dt - 2*Lgtoey*mtoe*t2*sin(tar + tkr)*tar_dt*tu_dt + 2*Lgtoex*mtoe*t1*sin(tal + tkl)*tkl_dt*tu_dt + 2*Lgtoey*mtoe*t2*sin(tal + tkl)*tkl_dt*tu_dt + 2*Lgtoex*mtoe*t1*sin(tar + tkr)*tkr_dt*tu_dt - 2*Lgtoey*mtoe*t2*sin(tar + tkr)*tkr_dt*tu_dt - 2*k1*mtoe*t2*cos(tal + tkl)*tal_dt*thl_dt - 2*k2*mtoe*t1*cos(tal + tkl)*tal_dt*thl_dt - 2*k1*mtoe*t2*cos(tar + tkr)*tar_dt*thr_dt - 2*k2*mtoe*t1*cos(tar + tkr)*tar_dt*thr_dt - 2*k1*mtoe*t2*cos(tal + tkl)*tal_dt*tkl_dt - 2*k2*mtoe*t1*cos(tal + tkl)*tal_dt*tkl_dt - 2*k1*mtoe*t2*cos(tar + tkr)*tar_dt*tkr_dt - 2*k2*mtoe*t1*cos(tar + tkr)*tar_dt*tkr_dt - 2*k1*mtoe*t2*cos(tal + tkl)*thl_dt*tkl_dt - 2*k2*mtoe*t1*cos(tal + tkl)*thl_dt*tkl_dt - 2*k1*mtoe*t2*cos(tar + tkr)*thr_dt*tkr_dt - 2*k2*mtoe*t1*cos(tar + tkr)*thr_dt*tkr_dt - 2*k1*mtoe*t2*cos(tal + tkl)*tal_dt*tu_dt - 2*k2*mtoe*t1*cos(tal + tkl)*tal_dt*tu_dt - 2*k1*mtoe*t2*cos(tar + tkr)*tar_dt*tu_dt - 2*k2*mtoe*t1*cos(tar + tkr)*tar_dt*tu_dt - 2*k1*mtoe*t2*cos(tal + tkl)*tkl_dt*tu_dt - 2*k2*mtoe*t1*cos(tal + tkl)*tkl_dt*tu_dt - 2*k1*mtoe*t2*cos(tar + tkr)*tkr_dt*tu_dt - 2*k2*mtoe*t1*cos(tar + tkr)*tkr_dt*tu_dt - 2*Hfgx*mf*t2*cos(tar - thl + thr + tkr)*tar_dt*thr_dt - 2*Hfgx*mf*t2*cos(tar - thl + thr + tkr)*tar_dt*tkr_dt - 2*Hfgx*mf*t2*cos(tar - thl + thr + tkr)*thr_dt*tkr_dt - 2*Hfgx*mf*t2*cos(tar - thl + thr + tkr)*tar_dt*tu_dt + 2*Hfgx*mf*t2*cos(tar - thl + thr + tkr)*thl_dt*tu_dt - 2*Hfgx*mf*t2*cos(tar - thl + thr + tkr)*thr_dt*tu_dt - 2*Hfgx*mf*t2*cos(tar - thl + thr + tkr)*tkr_dt*tu_dt + 2*k1*mtoe*t1*sin(tal + tkl)*tal_dt*thl_dt - 2*k2*mtoe*t2*sin(tal + tkl)*tal_dt*thl_dt + 2*k1*mtoe*t1*sin(tar + tkr)*tar_dt*thr_dt - 2*k2*mtoe*t2*sin(tar + tkr)*tar_dt*thr_dt + 2*k1*mtoe*t1*sin(tal + tkl)*tal_dt*tkl_dt - 2*k2*mtoe*t2*sin(tal + tkl)*tal_dt*tkl_dt + 2*k1*mtoe*t1*sin(tar + tkr)*tar_dt*tkr_dt - 2*k2*mtoe*t2*sin(tar + tkr)*tar_dt*tkr_dt + 2*k1*mtoe*t1*sin(tal + tkl)*thl_dt*tkl_dt - 2*k2*mtoe*t2*sin(tal + tkl)*thl_dt*tkl_dt + 2*k1*mtoe*t1*sin(tar + tkr)*thr_dt*tkr_dt - 2*k2*mtoe*t2*sin(tar + tkr)*thr_dt*tkr_dt + 2*k1*mtoe*t1*sin(tal + tkl)*tal_dt*tu_dt - 2*k2*mtoe*t2*sin(tal + tkl)*tal_dt*tu_dt + 2*k1*mtoe*t1*sin(tar + tkr)*tar_dt*tu_dt - 2*k2*mtoe*t2*sin(tar + tkr)*tar_dt*tu_dt + 2*k1*mtoe*t1*sin(tal + tkl)*tkl_dt*tu_dt - 2*k2*mtoe*t2*sin(tal + tkl)*tkl_dt*tu_dt + 2*k1*mtoe*t1*sin(tar + tkr)*tkr_dt*tu_dt - 2*k2*mtoe*t2*sin(tar + tkr)*tkr_dt*tu_dt + 2*Lfb*mf*t2*cos(tar - thl + thr + tkr)*tar_dt*thr_dt + 2*Lfb*mf*t2*cos(tar - thl + thr + tkr)*tar_dt*tkr_dt + 2*Lfb*mf*t2*cos(tar - thl + thr + tkr)*thr_dt*tkr_dt + 2*Lfb*mf*t2*cos(tar - thl + thr + tkr)*tar_dt*tu_dt - 2*Lfb*mf*t2*cos(tar - thl + thr + tkr)*thl_dt*tu_dt + 2*Lfb*mf*t2*cos(tar - thl + thr + tkr)*thr_dt*tu_dt + 2*Lfb*mf*t2*cos(tar - thl + thr + tkr)*tkr_dt*tu_dt + 2*Lgs*a2*ms*cos(thl + tkl + 2*tu)*thl_dt*tkl_dt + 2*Lgs*a2*ms*cos(thl + tkl + 2*tu)*thl_dt*tu_dt + 2*Lgs*a2*ms*cos(thl + tkl + 2*tu)*tkl_dt*tu_dt + 2*Hfgx*mf*t1*sin(tar - thl + thr + tkr)*tar_dt*thr_dt + 2*Hfgx*mf*t1*sin(tar - thl + thr + tkr)*tar_dt*tkr_dt + 2*Hfgx*mf*t1*sin(tar - thl + thr + tkr)*thr_dt*tkr_dt + 2*Hfgx*mf*t1*sin(tar - thl + thr + tkr)*tar_dt*tu_dt - 2*Hfgx*mf*t1*sin(tar - thl + thr + tkr)*thl_dt*tu_dt + 2*Hfgx*mf*t1*sin(tar - thl + thr + tkr)*thr_dt*tu_dt + 2*Hfgx*mf*t1*sin(tar - thl + thr + tkr)*tkr_dt*tu_dt - 2*Lfb*mf*t1*sin(tar - thl + thr + tkr)*tar_dt*thr_dt - 2*Lfb*mf*t1*sin(tar - thl + thr + tkr)*tar_dt*tkr_dt - 2*Lfb*mf*t1*sin(tar - thl + thr + tkr)*thr_dt*tkr_dt - 2*Lfb*mf*t1*sin(tar - thl + thr + tkr)*tar_dt*tu_dt + 2*Lfb*mf*t1*sin(tar - thl + thr + tkr)*thl_dt*tu_dt - 2*Lfb*mf*t1*sin(tar - thl + thr + tkr)*thr_dt*tu_dt - 2*Lfb*mf*t1*sin(tar - thl + thr + tkr)*tkr_dt*tu_dt + 2*Lgs*a1*ms*sin(thl + tkl + 2*tu)*thl_dt*tkl_dt + 2*Lgs*a1*ms*sin(thl + tkl + 2*tu)*thl_dt*tu_dt + 2*Lgs*a1*ms*sin(thl + tkl + 2*tu)*tkl_dt*tu_dt - 2*Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tar_dt*thr_dt - 2*Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tar_dt*tkr_dt + 2*Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*thl_dt*tkl_dt - 2*Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*thr_dt*tkr_dt - 2*Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tar_dt*tu_dt + 2*Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*thl_dt*tu_dt - 2*Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*thr_dt*tu_dt + 2*Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tkl_dt*tu_dt - 2*Hfgx*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tkr_dt*tu_dt + 2*Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tar_dt*thr_dt + 2*Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tar_dt*tkr_dt - 2*Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*thl_dt*tkl_dt + 2*Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*thr_dt*tkr_dt + 2*Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tar_dt*tu_dt - 2*Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*thl_dt*tu_dt + 2*Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*thr_dt*tu_dt - 2*Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tkl_dt*tu_dt + 2*Lfb*Ls*mf*cos(tar - thl + thr - tkl + tkr)*tkr_dt*tu_dt
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              2*a1*mf*cos(tu)*tu_dt^2 - Frr - Ffl - Ffr - Fml - Fmr - mf*t2*sin(thl + tu)*thl_dt^2 - mf*t2*sin(thr + tu)*thr_dt^2 - mf*t2*sin(thl + tu)*tu_dt^2 - mf*t2*sin(thr + tu)*tu_dt^2 - ms*t2*sin(thl + tu)*thl_dt^2 - ms*t2*sin(thr + tu)*thr_dt^2 - mtoe*t2*sin(thl + tu)*thl_dt^2 - mtoe*t2*sin(thr + tu)*thr_dt^2 - ms*t2*sin(thl + tu)*tu_dt^2 - ms*t2*sin(thr + tu)*tu_dt^2 - mtoe*t2*sin(thl + tu)*tu_dt^2 - mtoe*t2*sin(thr + tu)*tu_dt^2 - 2*Hfgx*mf*cos(tar + thr + tkr + tu)*tar_dt^2 - 2*Hfgx*mf*cos(tar + thr + tkr + tu)*thr_dt^2 - Frl - 2*Hfgx*mf*cos(tar + thr + tkr + tu)*tkr_dt^2 - 2*Hfgx*mf*cos(tar + thr + tkr + tu)*tu_dt^2 + 2*a1*ms*cos(tu)*tu_dt^2 + 2*a1*mt*cos(tu)*tu_dt^2 + 2*a1*mtoe*cos(tu)*tu_dt^2 + 2*Lfb*mf*cos(tar + thr + tkr + tu)*tar_dt^2 + 2*Lfb*mf*cos(tar + thr + tkr + tu)*thr_dt^2 + 2*Lfb*mf*cos(tar + thr + tkr + tu)*tkr_dt^2 - Lgtoex*mtoe*cos(tal + thl + tkl + tu)*tal_dt^2 - Lgtoex*mtoe*cos(tar + thr + tkr + tu)*tar_dt^2 + 2*Lfb*mf*cos(tar + thr + tkr + tu)*tu_dt^2 - Lgtoex*mtoe*cos(tal + thl + tkl + tu)*thl_dt^2 - Lgtoex*mtoe*cos(tar + thr + tkr + tu)*thr_dt^2 - Lgtoex*mtoe*cos(tal + thl + tkl + tu)*tkl_dt^2 - Lgtoex*mtoe*cos(tar + thr + tkr + tu)*tkr_dt^2 - Lgtoex*mtoe*cos(tal + thl + tkl + tu)*tu_dt^2 - Lgtoex*mtoe*cos(tar + thr + tkr + tu)*tu_dt^2 - Hfgy*mf*sin(tal + thl + tkl + tu)*tal_dt^2 - Hfgy*mf*sin(tar + thr + tkr + tu)*tar_dt^2 - Hfgy*mf*sin(tal + thl + tkl + tu)*thl_dt^2 - Hfgy*mf*sin(tar + thr + tkr + tu)*thr_dt^2 - 2*a2*mf*sin(tu)*tu_dt^2 - Hfgy*mf*sin(tal + thl + tkl + tu)*tkl_dt^2 - Hfgy*mf*sin(tar + thr + tkr + tu)*tkr_dt^2 - Hfgy*mf*sin(tal + thl + tkl + tu)*tu_dt^2 - Hfgy*mf*sin(tar + thr + tkr + tu)*tu_dt^2 - 2*a2*ms*sin(tu)*tu_dt^2 - 2*a2*mt*sin(tu)*tu_dt^2 - 2*a2*mtoe*sin(tu)*tu_dt^2 + mu*r1*cos(tu)*tu_dt^2 + Lgtoey*mtoe*sin(tal + thl + tkl + tu)*tal_dt^2 - Lgtoey*mtoe*sin(tar + thr + tkr + tu)*tar_dt^2 + Lgtoey*mtoe*sin(tal + thl + tkl + tu)*thl_dt^2 - Lgtoey*mtoe*sin(tar + thr + tkr + tu)*thr_dt^2 + Lgtoey*mtoe*sin(tal + thl + tkl + tu)*tkl_dt^2 - Lgtoey*mtoe*sin(tar + thr + tkr + tu)*tkr_dt^2 + Lgtoey*mtoe*sin(tal + thl + tkl + tu)*tu_dt^2 - Lgtoey*mtoe*sin(tar + thr + tkr + tu)*tu_dt^2 + Lgs*ms*cos(thl + tkl + tu)*thl_dt^2 + Lgs*ms*cos(thl + tkl + tu)*tkl_dt^2 + Lgs*ms*cos(thl + tkl + tu)*tu_dt^2 + mu*r2*sin(tu)*tu_dt^2 - k1*mtoe*cos(tal + thl + tkl + tu)*tal_dt^2 - k1*mtoe*cos(tar + thr + tkr + tu)*tar_dt^2 - k1*mtoe*cos(tal + thl + tkl + tu)*thl_dt^2 - k1*mtoe*cos(tar + thr + tkr + tu)*thr_dt^2 - k1*mtoe*cos(tal + thl + tkl + tu)*tkl_dt^2 - k1*mtoe*cos(tar + thr + tkr + tu)*tkr_dt^2 - k1*mtoe*cos(tal + thl + tkl + tu)*tu_dt^2 - k1*mtoe*cos(tar + thr + tkr + tu)*tu_dt^2 - Ls*mf*sin(thl + tkl + tu)*thl_dt^2 - Ls*mf*sin(thr + tkr + tu)*thr_dt^2 - Lgs*ms*sin(thr + tkr + tu)*thr_dt^2 - Ls*mf*sin(thl + tkl + tu)*tkl_dt^2 - Ls*mf*sin(thr + tkr + tu)*tkr_dt^2 - Lgs*ms*sin(thr + tkr + tu)*tkr_dt^2 - Ls*mf*sin(thl + tkl + tu)*tu_dt^2 - Ls*mf*sin(thr + tkr + tu)*tu_dt^2 - Lgs*ms*sin(thr + tkr + tu)*tu_dt^2 - Ls*mtoe*sin(thl + tkl + tu)*thl_dt^2 - Ls*mtoe*sin(thr + tkr + tu)*thr_dt^2 - Ls*mtoe*sin(thl + tkl + tu)*tkl_dt^2 - Ls*mtoe*sin(thr + tkr + tu)*tkr_dt^2 - Ls*mtoe*sin(thl + tkl + tu)*tu_dt^2 - Ls*mtoe*sin(thr + tkr + tu)*tu_dt^2 - k2*mtoe*sin(tal + thl + tkl + tu)*tal_dt^2 - k2*mtoe*sin(tar + thr + tkr + tu)*tar_dt^2 - k2*mtoe*sin(tal + thl + tkl + tu)*thl_dt^2 - k2*mtoe*sin(tar + thr + tkr + tu)*thr_dt^2 - k2*mtoe*sin(tal + thl + tkl + tu)*tkl_dt^2 - k2*mtoe*sin(tar + thr + tkr + tu)*tkr_dt^2 - k2*mtoe*sin(tal + thl + tkl + tu)*tu_dt^2 - k2*mtoe*sin(tar + thr + tkr + tu)*tu_dt^2 - Lgt*mt*sin(thl + tu)*thl_dt^2 - Lgt*mt*sin(thr + tu)*thr_dt^2 - Lgt*mt*sin(thl + tu)*tu_dt^2 - Lgt*mt*sin(thr + tu)*tu_dt^2 + mf*t1*cos(thl + tu)*thl_dt^2 + mf*t1*cos(thr + tu)*thr_dt^2 + mf*t1*cos(thl + tu)*tu_dt^2 + mf*t1*cos(thr + tu)*tu_dt^2 + ms*t1*cos(thl + tu)*thl_dt^2 + ms*t1*cos(thr + tu)*thr_dt^2 + mtoe*t1*cos(thl + tu)*thl_dt^2 + mtoe*t1*cos(thr + tu)*thr_dt^2 + ms*t1*cos(thl + tu)*tu_dt^2 + ms*t1*cos(thr + tu)*tu_dt^2 + mtoe*t1*cos(thl + tu)*tu_dt^2 + mtoe*t1*cos(thr + tu)*tu_dt^2 - 2*Hfgy*mf*sin(tal + thl + tkl + tu)*tal_dt*thl_dt - 2*Hfgy*mf*sin(tar + thr + tkr + tu)*tar_dt*thr_dt - 2*Hfgy*mf*sin(tal + thl + tkl + tu)*tal_dt*tkl_dt - 2*Hfgy*mf*sin(tar + thr + tkr + tu)*tar_dt*tkr_dt - 2*Hfgy*mf*sin(tal + thl + tkl + tu)*thl_dt*tkl_dt - 2*Hfgy*mf*sin(tar + thr + tkr + tu)*thr_dt*tkr_dt - 2*Hfgy*mf*sin(tal + thl + tkl + tu)*tal_dt*tu_dt - 2*Hfgy*mf*sin(tar + thr + tkr + tu)*tar_dt*tu_dt - 2*Hfgy*mf*sin(tal + thl + tkl + tu)*thl_dt*tu_dt - 2*Hfgy*mf*sin(tar + thr + tkr + tu)*thr_dt*tu_dt - 2*Hfgy*mf*sin(tal + thl + tkl + tu)*tkl_dt*tu_dt - 2*Hfgy*mf*sin(tar + thr + tkr + tu)*tkr_dt*tu_dt + 2*Lgtoey*mtoe*sin(tal + thl + tkl + tu)*tal_dt*thl_dt - 2*Lgtoey*mtoe*sin(tar + thr + tkr + tu)*tar_dt*thr_dt + 2*Lgtoey*mtoe*sin(tal + thl + tkl + tu)*tal_dt*tkl_dt - 2*Lgtoey*mtoe*sin(tar + thr + tkr + tu)*tar_dt*tkr_dt + 2*Lgtoey*mtoe*sin(tal + thl + tkl + tu)*thl_dt*tkl_dt - 2*Lgtoey*mtoe*sin(tar + thr + tkr + tu)*thr_dt*tkr_dt + 2*Lgtoey*mtoe*sin(tal + thl + tkl + tu)*tal_dt*tu_dt - 2*Lgtoey*mtoe*sin(tar + thr + tkr + tu)*tar_dt*tu_dt + 2*Lgtoey*mtoe*sin(tal + thl + tkl + tu)*thl_dt*tu_dt - 2*Lgtoey*mtoe*sin(tar + thr + tkr + tu)*thr_dt*tu_dt + 2*Lgtoey*mtoe*sin(tal + thl + tkl + tu)*tkl_dt*tu_dt - 2*Lgtoey*mtoe*sin(tar + thr + tkr + tu)*tkr_dt*tu_dt + 2*Lgs*ms*cos(thl + tkl + tu)*thl_dt*tkl_dt + 2*Lgs*ms*cos(thl + tkl + tu)*thl_dt*tu_dt + 2*Lgs*ms*cos(thl + tkl + tu)*tkl_dt*tu_dt - 2*k1*mtoe*cos(tal + thl + tkl + tu)*tal_dt*thl_dt - 2*k1*mtoe*cos(tar + thr + tkr + tu)*tar_dt*thr_dt - 2*k1*mtoe*cos(tal + thl + tkl + tu)*tal_dt*tkl_dt - 2*k1*mtoe*cos(tar + thr + tkr + tu)*tar_dt*tkr_dt - 2*k1*mtoe*cos(tal + thl + tkl + tu)*thl_dt*tkl_dt - 2*k1*mtoe*cos(tar + thr + tkr + tu)*thr_dt*tkr_dt - 2*k1*mtoe*cos(tal + thl + tkl + tu)*tal_dt*tu_dt - 2*k1*mtoe*cos(tar + thr + tkr + tu)*tar_dt*tu_dt - 2*k1*mtoe*cos(tal + thl + tkl + tu)*thl_dt*tu_dt - 2*k1*mtoe*cos(tar + thr + tkr + tu)*thr_dt*tu_dt - 2*k1*mtoe*cos(tal + thl + tkl + tu)*tkl_dt*tu_dt - 2*k1*mtoe*cos(tar + thr + tkr + tu)*tkr_dt*tu_dt - 2*Ls*mf*sin(thl + tkl + tu)*thl_dt*tkl_dt - 2*Ls*mf*sin(thr + tkr + tu)*thr_dt*tkr_dt - 2*Lgs*ms*sin(thr + tkr + tu)*thr_dt*tkr_dt - 2*Ls*mf*sin(thl + tkl + tu)*thl_dt*tu_dt - 2*Ls*mf*sin(thr + tkr + tu)*thr_dt*tu_dt - 2*Lgs*ms*sin(thr + tkr + tu)*thr_dt*tu_dt - 2*Ls*mf*sin(thl + tkl + tu)*tkl_dt*tu_dt - 2*Ls*mf*sin(thr + tkr + tu)*tkr_dt*tu_dt - 2*Lgs*ms*sin(thr + tkr + tu)*tkr_dt*tu_dt - 2*Ls*mtoe*sin(thl + tkl + tu)*thl_dt*tkl_dt - 2*Ls*mtoe*sin(thr + tkr + tu)*thr_dt*tkr_dt - 2*Ls*mtoe*sin(thl + tkl + tu)*thl_dt*tu_dt - 2*Ls*mtoe*sin(thr + tkr + tu)*thr_dt*tu_dt - 2*Ls*mtoe*sin(thl + tkl + tu)*tkl_dt*tu_dt - 2*Ls*mtoe*sin(thr + tkr + tu)*tkr_dt*tu_dt - 2*k2*mtoe*sin(tal + thl + tkl + tu)*tal_dt*thl_dt - 2*k2*mtoe*sin(tar + thr + tkr + tu)*tar_dt*thr_dt - 2*k2*mtoe*sin(tal + thl + tkl + tu)*tal_dt*tkl_dt - 2*k2*mtoe*sin(tar + thr + tkr + tu)*tar_dt*tkr_dt - 2*k2*mtoe*sin(tal + thl + tkl + tu)*thl_dt*tkl_dt - 2*k2*mtoe*sin(tar + thr + tkr + tu)*thr_dt*tkr_dt - 2*k2*mtoe*sin(tal + thl + tkl + tu)*tal_dt*tu_dt - 2*k2*mtoe*sin(tar + thr + tkr + tu)*tar_dt*tu_dt - 2*k2*mtoe*sin(tal + thl + tkl + tu)*thl_dt*tu_dt - 2*k2*mtoe*sin(tar + thr + tkr + tu)*thr_dt*tu_dt - 2*k2*mtoe*sin(tal + thl + tkl + tu)*tkl_dt*tu_dt - 2*k2*mtoe*sin(tar + thr + tkr + tu)*tkr_dt*tu_dt - 2*Lgt*mt*sin(thl + tu)*thl_dt*tu_dt - 2*Lgt*mt*sin(thr + tu)*thr_dt*tu_dt + 2*mf*t1*cos(thl + tu)*thl_dt*tu_dt + 2*mf*t1*cos(thr + tu)*thr_dt*tu_dt + 2*ms*t1*cos(thl + tu)*thl_dt*tu_dt + 2*ms*t1*cos(thr + tu)*thr_dt*tu_dt + 2*mtoe*t1*cos(thl + tu)*thl_dt*tu_dt + 2*mtoe*t1*cos(thr + tu)*thr_dt*tu_dt - 2*mf*t2*sin(thl + tu)*thl_dt*tu_dt - 2*mf*t2*sin(thr + tu)*thr_dt*tu_dt - 2*ms*t2*sin(thl + tu)*thl_dt*tu_dt - 2*ms*t2*sin(thr + tu)*thr_dt*tu_dt - 2*mtoe*t2*sin(thl + tu)*thl_dt*tu_dt - 2*mtoe*t2*sin(thr + tu)*thr_dt*tu_dt - 4*Hfgx*mf*cos(tar + thr + tkr + tu)*tar_dt*thr_dt - 4*Hfgx*mf*cos(tar + thr + tkr + tu)*tar_dt*tkr_dt - 4*Hfgx*mf*cos(tar + thr + tkr + tu)*thr_dt*tkr_dt - 4*Hfgx*mf*cos(tar + thr + tkr + tu)*tar_dt*tu_dt - 4*Hfgx*mf*cos(tar + thr + tkr + tu)*thr_dt*tu_dt - 4*Hfgx*mf*cos(tar + thr + tkr + tu)*tkr_dt*tu_dt + 4*Lfb*mf*cos(tar + thr + tkr + tu)*tar_dt*thr_dt + 4*Lfb*mf*cos(tar + thr + tkr + tu)*tar_dt*tkr_dt + 4*Lfb*mf*cos(tar + thr + tkr + tu)*thr_dt*tkr_dt + 4*Lfb*mf*cos(tar + thr + tkr + tu)*tar_dt*tu_dt - 2*Lgtoex*mtoe*cos(tal + thl + tkl + tu)*tal_dt*thl_dt - 2*Lgtoex*mtoe*cos(tar + thr + tkr + tu)*tar_dt*thr_dt - 2*Lgtoex*mtoe*cos(tal + thl + tkl + tu)*tal_dt*tkl_dt - 2*Lgtoex*mtoe*cos(tar + thr + tkr + tu)*tar_dt*tkr_dt + 4*Lfb*mf*cos(tar + thr + tkr + tu)*thr_dt*tu_dt + 4*Lfb*mf*cos(tar + thr + tkr + tu)*tkr_dt*tu_dt - 2*Lgtoex*mtoe*cos(tal + thl + tkl + tu)*thl_dt*tkl_dt - 2*Lgtoex*mtoe*cos(tar + thr + tkr + tu)*thr_dt*tkr_dt - 2*Lgtoex*mtoe*cos(tal + thl + tkl + tu)*tal_dt*tu_dt - 2*Lgtoex*mtoe*cos(tar + thr + tkr + tu)*tar_dt*tu_dt - 2*Lgtoex*mtoe*cos(tal + thl + tkl + tu)*thl_dt*tu_dt - 2*Lgtoex*mtoe*cos(tar + thr + tkr + tu)*thr_dt*tu_dt - 2*Lgtoex*mtoe*cos(tal + thl + tkl + tu)*tkl_dt*tu_dt - 2*Lgtoex*mtoe*cos(tar + thr + tkr + tu)*tkr_dt*tu_dt
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 mf*t1*sin(thl + tu)*thl_dt^2 - Nrr - Nfl - Nfr - Nml - Nmr - 2*g*mf - 2*g*ms - 2*g*mt - 2*g*mtoe - g*mu - Nrl + mf*t1*sin(thr + tu)*thr_dt^2 + mf*t1*sin(thl + tu)*tu_dt^2 + mf*t1*sin(thr + tu)*tu_dt^2 + ms*t1*sin(thl + tu)*thl_dt^2 + ms*t1*sin(thr + tu)*thr_dt^2 + mtoe*t1*sin(thl + tu)*thl_dt^2 + mtoe*t1*sin(thr + tu)*thr_dt^2 + ms*t1*sin(thl + tu)*tu_dt^2 + ms*t1*sin(thr + tu)*tu_dt^2 + mtoe*t1*sin(thl + tu)*tu_dt^2 + mtoe*t1*sin(thr + tu)*tu_dt^2 + Hfgy*mf*cos(tal + thl + tkl + tu)*tal_dt^2 + Hfgy*mf*cos(tar + thr + tkr + tu)*tar_dt^2 + Hfgy*mf*cos(tal + thl + tkl + tu)*thl_dt^2 + Hfgy*mf*cos(tar + thr + tkr + tu)*thr_dt^2 + 2*a2*mf*cos(tu)*tu_dt^2 + Hfgy*mf*cos(tal + thl + tkl + tu)*tkl_dt^2 + Hfgy*mf*cos(tar + thr + tkr + tu)*tkr_dt^2 + Hfgy*mf*cos(tal + thl + tkl + tu)*tu_dt^2 + Hfgy*mf*cos(tar + thr + tkr + tu)*tu_dt^2 + 2*a2*ms*cos(tu)*tu_dt^2 + 2*a2*mt*cos(tu)*tu_dt^2 + 2*a2*mtoe*cos(tu)*tu_dt^2 - Lgtoey*mtoe*cos(tal + thl + tkl + tu)*tal_dt^2 + Lgtoey*mtoe*cos(tar + thr + tkr + tu)*tar_dt^2 - Lgtoey*mtoe*cos(tal + thl + tkl + tu)*thl_dt^2 + Lgtoey*mtoe*cos(tar + thr + tkr + tu)*thr_dt^2 - Lgtoey*mtoe*cos(tal + thl + tkl + tu)*tkl_dt^2 + Lgtoey*mtoe*cos(tar + thr + tkr + tu)*tkr_dt^2 - Lgtoey*mtoe*cos(tal + thl + tkl + tu)*tu_dt^2 + Lgtoey*mtoe*cos(tar + thr + tkr + tu)*tu_dt^2 - 2*Hfgx*mf*sin(tar + thr + tkr + tu)*tar_dt^2 - 2*Hfgx*mf*sin(tar + thr + tkr + tu)*thr_dt^2 + 2*a1*mf*sin(tu)*tu_dt^2 - 2*Hfgx*mf*sin(tar + thr + tkr + tu)*tkr_dt^2 - 2*Hfgx*mf*sin(tar + thr + tkr + tu)*tu_dt^2 + 2*a1*ms*sin(tu)*tu_dt^2 + 2*a1*mt*sin(tu)*tu_dt^2 + 2*a1*mtoe*sin(tu)*tu_dt^2 - mu*r2*cos(tu)*tu_dt^2 + 2*Lfb*mf*sin(tar + thr + tkr + tu)*tar_dt^2 + 2*Lfb*mf*sin(tar + thr + tkr + tu)*thr_dt^2 + 2*Lfb*mf*sin(tar + thr + tkr + tu)*tkr_dt^2 - Lgtoex*mtoe*sin(tal + thl + tkl + tu)*tal_dt^2 - Lgtoex*mtoe*sin(tar + thr + tkr + tu)*tar_dt^2 + 2*Lfb*mf*sin(tar + thr + tkr + tu)*tu_dt^2 - Lgtoex*mtoe*sin(tal + thl + tkl + tu)*thl_dt^2 - Lgtoex*mtoe*sin(tar + thr + tkr + tu)*thr_dt^2 - Lgtoex*mtoe*sin(tal + thl + tkl + tu)*tkl_dt^2 - Lgtoex*mtoe*sin(tar + thr + tkr + tu)*tkr_dt^2 - Lgtoex*mtoe*sin(tal + thl + tkl + tu)*tu_dt^2 - Lgtoex*mtoe*sin(tar + thr + tkr + tu)*tu_dt^2 + Ls*mf*cos(thl + tkl + tu)*thl_dt^2 + Ls*mf*cos(thr + tkr + tu)*thr_dt^2 + Lgs*ms*cos(thr + tkr + tu)*thr_dt^2 + Ls*mf*cos(thl + tkl + tu)*tkl_dt^2 + Ls*mf*cos(thr + tkr + tu)*tkr_dt^2 + Lgs*ms*cos(thr + tkr + tu)*tkr_dt^2 + Ls*mf*cos(thl + tkl + tu)*tu_dt^2 + Ls*mf*cos(thr + tkr + tu)*tu_dt^2 + Lgs*ms*cos(thr + tkr + tu)*tu_dt^2 + Ls*mtoe*cos(thl + tkl + tu)*thl_dt^2 + Ls*mtoe*cos(thr + tkr + tu)*thr_dt^2 + Ls*mtoe*cos(thl + tkl + tu)*tkl_dt^2 + Ls*mtoe*cos(thr + tkr + tu)*tkr_dt^2 + Ls*mtoe*cos(thl + tkl + tu)*tu_dt^2 + Ls*mtoe*cos(thr + tkr + tu)*tu_dt^2 + mu*r1*sin(tu)*tu_dt^2 + k2*mtoe*cos(tal + thl + tkl + tu)*tal_dt^2 + k2*mtoe*cos(tar + thr + tkr + tu)*tar_dt^2 + k2*mtoe*cos(tal + thl + tkl + tu)*thl_dt^2 + k2*mtoe*cos(tar + thr + tkr + tu)*thr_dt^2 + k2*mtoe*cos(tal + thl + tkl + tu)*tkl_dt^2 + k2*mtoe*cos(tar + thr + tkr + tu)*tkr_dt^2 + k2*mtoe*cos(tal + thl + tkl + tu)*tu_dt^2 + k2*mtoe*cos(tar + thr + tkr + tu)*tu_dt^2 - Lgs*ms*sin(thl + tkl + tu)*thl_dt^2 - Lgs*ms*sin(thl + tkl + tu)*tkl_dt^2 - Lgs*ms*sin(thl + tkl + tu)*tu_dt^2 - k1*mtoe*sin(tal + thl + tkl + tu)*tal_dt^2 - k1*mtoe*sin(tar + thr + tkr + tu)*tar_dt^2 - k1*mtoe*sin(tal + thl + tkl + tu)*thl_dt^2 - k1*mtoe*sin(tar + thr + tkr + tu)*thr_dt^2 - k1*mtoe*sin(tal + thl + tkl + tu)*tkl_dt^2 - k1*mtoe*sin(tar + thr + tkr + tu)*tkr_dt^2 - k1*mtoe*sin(tal + thl + tkl + tu)*tu_dt^2 - k1*mtoe*sin(tar + thr + tkr + tu)*tu_dt^2 + Lgt*mt*cos(thl + tu)*thl_dt^2 + Lgt*mt*cos(thr + tu)*thr_dt^2 + Lgt*mt*cos(thl + tu)*tu_dt^2 + Lgt*mt*cos(thr + tu)*tu_dt^2 + mf*t2*cos(thl + tu)*thl_dt^2 + mf*t2*cos(thr + tu)*thr_dt^2 + mf*t2*cos(thl + tu)*tu_dt^2 + mf*t2*cos(thr + tu)*tu_dt^2 + ms*t2*cos(thl + tu)*thl_dt^2 + ms*t2*cos(thr + tu)*thr_dt^2 + mtoe*t2*cos(thl + tu)*thl_dt^2 + mtoe*t2*cos(thr + tu)*thr_dt^2 + ms*t2*cos(thl + tu)*tu_dt^2 + ms*t2*cos(thr + tu)*tu_dt^2 + mtoe*t2*cos(thl + tu)*tu_dt^2 + mtoe*t2*cos(thr + tu)*tu_dt^2 - 4*Hfgx*mf*sin(tar + thr + tkr + tu)*tar_dt*thr_dt - 4*Hfgx*mf*sin(tar + thr + tkr + tu)*tar_dt*tkr_dt - 4*Hfgx*mf*sin(tar + thr + tkr + tu)*thr_dt*tkr_dt - 4*Hfgx*mf*sin(tar + thr + tkr + tu)*tar_dt*tu_dt - 4*Hfgx*mf*sin(tar + thr + tkr + tu)*thr_dt*tu_dt - 4*Hfgx*mf*sin(tar + thr + tkr + tu)*tkr_dt*tu_dt + 4*Lfb*mf*sin(tar + thr + tkr + tu)*tar_dt*thr_dt + 4*Lfb*mf*sin(tar + thr + tkr + tu)*tar_dt*tkr_dt + 4*Lfb*mf*sin(tar + thr + tkr + tu)*thr_dt*tkr_dt + 4*Lfb*mf*sin(tar + thr + tkr + tu)*tar_dt*tu_dt - 2*Lgtoex*mtoe*sin(tal + thl + tkl + tu)*tal_dt*thl_dt - 2*Lgtoex*mtoe*sin(tar + thr + tkr + tu)*tar_dt*thr_dt - 2*Lgtoex*mtoe*sin(tal + thl + tkl + tu)*tal_dt*tkl_dt - 2*Lgtoex*mtoe*sin(tar + thr + tkr + tu)*tar_dt*tkr_dt + 4*Lfb*mf*sin(tar + thr + tkr + tu)*thr_dt*tu_dt + 4*Lfb*mf*sin(tar + thr + tkr + tu)*tkr_dt*tu_dt - 2*Lgtoex*mtoe*sin(tal + thl + tkl + tu)*thl_dt*tkl_dt - 2*Lgtoex*mtoe*sin(tar + thr + tkr + tu)*thr_dt*tkr_dt - 2*Lgtoex*mtoe*sin(tal + thl + tkl + tu)*tal_dt*tu_dt - 2*Lgtoex*mtoe*sin(tar + thr + tkr + tu)*tar_dt*tu_dt - 2*Lgtoex*mtoe*sin(tal + thl + tkl + tu)*thl_dt*tu_dt - 2*Lgtoex*mtoe*sin(tar + thr + tkr + tu)*thr_dt*tu_dt - 2*Lgtoex*mtoe*sin(tal + thl + tkl + tu)*tkl_dt*tu_dt - 2*Lgtoex*mtoe*sin(tar + thr + tkr + tu)*tkr_dt*tu_dt + 2*Ls*mf*cos(thl + tkl + tu)*thl_dt*tkl_dt + 2*Ls*mf*cos(thr + tkr + tu)*thr_dt*tkr_dt + 2*Lgs*ms*cos(thr + tkr + tu)*thr_dt*tkr_dt + 2*Ls*mf*cos(thl + tkl + tu)*thl_dt*tu_dt + 2*Ls*mf*cos(thr + tkr + tu)*thr_dt*tu_dt + 2*Lgs*ms*cos(thr + tkr + tu)*thr_dt*tu_dt + 2*Ls*mf*cos(thl + tkl + tu)*tkl_dt*tu_dt + 2*Ls*mf*cos(thr + tkr + tu)*tkr_dt*tu_dt + 2*Lgs*ms*cos(thr + tkr + tu)*tkr_dt*tu_dt + 2*Ls*mtoe*cos(thl + tkl + tu)*thl_dt*tkl_dt + 2*Ls*mtoe*cos(thr + tkr + tu)*thr_dt*tkr_dt + 2*Ls*mtoe*cos(thl + tkl + tu)*thl_dt*tu_dt + 2*Ls*mtoe*cos(thr + tkr + tu)*thr_dt*tu_dt + 2*Ls*mtoe*cos(thl + tkl + tu)*tkl_dt*tu_dt + 2*Ls*mtoe*cos(thr + tkr + tu)*tkr_dt*tu_dt + 2*k2*mtoe*cos(tal + thl + tkl + tu)*tal_dt*thl_dt + 2*k2*mtoe*cos(tar + thr + tkr + tu)*tar_dt*thr_dt + 2*k2*mtoe*cos(tal + thl + tkl + tu)*tal_dt*tkl_dt + 2*k2*mtoe*cos(tar + thr + tkr + tu)*tar_dt*tkr_dt + 2*k2*mtoe*cos(tal + thl + tkl + tu)*thl_dt*tkl_dt + 2*k2*mtoe*cos(tar + thr + tkr + tu)*thr_dt*tkr_dt + 2*k2*mtoe*cos(tal + thl + tkl + tu)*tal_dt*tu_dt + 2*k2*mtoe*cos(tar + thr + tkr + tu)*tar_dt*tu_dt + 2*k2*mtoe*cos(tal + thl + tkl + tu)*thl_dt*tu_dt + 2*k2*mtoe*cos(tar + thr + tkr + tu)*thr_dt*tu_dt + 2*k2*mtoe*cos(tal + thl + tkl + tu)*tkl_dt*tu_dt + 2*k2*mtoe*cos(tar + thr + tkr + tu)*tkr_dt*tu_dt - 2*Lgs*ms*sin(thl + tkl + tu)*thl_dt*tkl_dt - 2*Lgs*ms*sin(thl + tkl + tu)*thl_dt*tu_dt - 2*Lgs*ms*sin(thl + tkl + tu)*tkl_dt*tu_dt - 2*k1*mtoe*sin(tal + thl + tkl + tu)*tal_dt*thl_dt - 2*k1*mtoe*sin(tar + thr + tkr + tu)*tar_dt*thr_dt - 2*k1*mtoe*sin(tal + thl + tkl + tu)*tal_dt*tkl_dt - 2*k1*mtoe*sin(tar + thr + tkr + tu)*tar_dt*tkr_dt - 2*k1*mtoe*sin(tal + thl + tkl + tu)*thl_dt*tkl_dt - 2*k1*mtoe*sin(tar + thr + tkr + tu)*thr_dt*tkr_dt - 2*k1*mtoe*sin(tal + thl + tkl + tu)*tal_dt*tu_dt - 2*k1*mtoe*sin(tar + thr + tkr + tu)*tar_dt*tu_dt - 2*k1*mtoe*sin(tal + thl + tkl + tu)*thl_dt*tu_dt - 2*k1*mtoe*sin(tar + thr + tkr + tu)*thr_dt*tu_dt - 2*k1*mtoe*sin(tal + thl + tkl + tu)*tkl_dt*tu_dt - 2*k1*mtoe*sin(tar + thr + tkr + tu)*tkr_dt*tu_dt + 2*Lgt*mt*cos(thl + tu)*thl_dt*tu_dt + 2*Lgt*mt*cos(thr + tu)*thr_dt*tu_dt + 2*mf*t2*cos(thl + tu)*thl_dt*tu_dt + 2*mf*t2*cos(thr + tu)*thr_dt*tu_dt + 2*ms*t2*cos(thl + tu)*thl_dt*tu_dt + 2*ms*t2*cos(thr + tu)*thr_dt*tu_dt + 2*mtoe*t2*cos(thl + tu)*thl_dt*tu_dt + 2*mtoe*t2*cos(thr + tu)*thr_dt*tu_dt + 2*mf*t1*sin(thl + tu)*thl_dt*tu_dt + 2*mf*t1*sin(thr + tu)*thr_dt*tu_dt + 2*ms*t1*sin(thl + tu)*thl_dt*tu_dt + 2*ms*t1*sin(thr + tu)*thr_dt*tu_dt + 2*mtoe*t1*sin(thl + tu)*thl_dt*tu_dt + 2*mtoe*t1*sin(thr + tu)*thr_dt*tu_dt + 2*Hfgy*mf*cos(tal + thl + tkl + tu)*tal_dt*thl_dt + 2*Hfgy*mf*cos(tar + thr + tkr + tu)*tar_dt*thr_dt + 2*Hfgy*mf*cos(tal + thl + tkl + tu)*tal_dt*tkl_dt + 2*Hfgy*mf*cos(tar + thr + tkr + tu)*tar_dt*tkr_dt + 2*Hfgy*mf*cos(tal + thl + tkl + tu)*thl_dt*tkl_dt + 2*Hfgy*mf*cos(tar + thr + tkr + tu)*thr_dt*tkr_dt + 2*Hfgy*mf*cos(tal + thl + tkl + tu)*tal_dt*tu_dt + 2*Hfgy*mf*cos(tar + thr + tkr + tu)*tar_dt*tu_dt + 2*Hfgy*mf*cos(tal + thl + tkl + tu)*thl_dt*tu_dt + 2*Hfgy*mf*cos(tar + thr + tkr + tu)*thr_dt*tu_dt + 2*Hfgy*mf*cos(tal + thl + tkl + tu)*tkl_dt*tu_dt + 2*Hfgy*mf*cos(tar + thr + tkr + tu)*tkr_dt*tu_dt - 2*Lgtoey*mtoe*cos(tal + thl + tkl + tu)*tal_dt*thl_dt + 2*Lgtoey*mtoe*cos(tar + thr + tkr + tu)*tar_dt*thr_dt - 2*Lgtoey*mtoe*cos(tal + thl + tkl + tu)*tal_dt*tkl_dt + 2*Lgtoey*mtoe*cos(tar + thr + tkr + tu)*tar_dt*tkr_dt - 2*Lgtoey*mtoe*cos(tal + thl + tkl + tu)*thl_dt*tkl_dt + 2*Lgtoey*mtoe*cos(tar + thr + tkr + tu)*thr_dt*tkr_dt - 2*Lgtoey*mtoe*cos(tal + thl + tkl + tu)*tal_dt*tu_dt + 2*Lgtoey*mtoe*cos(tar + thr + tkr + tu)*tar_dt*tu_dt - 2*Lgtoey*mtoe*cos(tal + thl + tkl + tu)*thl_dt*tu_dt + 2*Lgtoey*mtoe*cos(tar + thr + tkr + tu)*thr_dt*tu_dt - 2*Lgtoey*mtoe*cos(tal + thl + tkl + tu)*tkl_dt*tu_dt + 2*Lgtoey*mtoe*cos(tar + thr + tkr + tu)*tkr_dt*tu_dt];

% Define constants
NUM_JOINTS = 6;
ZERO_VECTOR = zeros(3, 1);
ONE_VECTOR = ones(3, 1);

% Extract relevant submatrices
M_top = M0(1:6, 1:6);
M_bottom = M0(1:6,7:9);
V_top = V0(1:6);
V_bottom = V0(7:9);

% Calculate Ms and Vs
Ms = M_top - M_bottom * (M0(7:9, 7:9) \ M_bottom');
Vs = V_top - M_bottom * (M0(7:9, 7:9) \ V_bottom);

% gains of gait controller 
Kpj = diag(K_optimal(1:6));
Kdj = diag(K_optimal(7:12));
Kpu = K_optimal(13);
Kdu = K_optimal(14);


% Define joint angles and their derivatives
joint_angles = [tar;tkr;thr;tal;tkl;thl];
joint_angle_derivatives = [tar_dt;tkr_dt;thr_dt;tal_dt;tkl_dt;thl_dt];


% Calculate Pa
Pa = tjd_ddt + Kpj * (tjd - joint_angles) + Kdj * (tjd_dt - joint_angle_derivatives);

% Define constants for push-off and touchdown angles
tud = -6 * pi / 180;

% Calculate Pu
Pu = Kpu * (tud - tu) + Kdu * (0 - tu_dt);

% Initialize alphar and alphal with zeros
alphar = zeros(3, 1);
alphal = zeros(3, 1);

%  balance distribution coefficient(BDC)

e1 = e_optimal(1);
e2 = e_optimal(2);
e3 = e_optimal(3);
e4 = e_optimal(4);
e5 = e_optimal(5);
e6 = e_optimal(6);
e7 = e_optimal(7);

% Determine alpha values based on conditions
if Nfr == 0 && Nrr > 0 && Nfl > 0 && Nrl > 0        % First Double Stance 
    alphar = [e1, 0, e2]';
    alphal = [e3, 0, 1 - e1 - e2 - e3]';
elseif Nfr == 0 && Nrr > 0 && Nfl > 0 && Nrl == 0   % First Double Stance 
    alphar = [e1, 0, e2]';
    alphal = [e3, 0, 1 - e1 - e2 - e3]';
elseif Nfr > 0 && Nrr > 0 && Nfl > 0 && Nrl == 0    % First Double Stance 
    alphar = [e1, 0, e2]';
    alphal = [e3, 0, 1 - e1 - e2 - e3]';
elseif Nfr > 0 && Nrr > 0 && Nfl == 0 && Nrl == 0   % Stance 
    alphar = [e4, 0, 1 - e4]';
    alphal = [0, 0, 0]';
elseif Nfr > 0 && Nrr > 0 && Nfl == 0 && Nrl > 0    % Push Off
    alphar = [e5, 0, e6]';
    alphal = [e7, 0, 1 - e6 - e7 - e5]';
elseif Nfr > 0 && Nrr == 0 && Nfl == 0 && Nrl > 0   % Push Off
    alphar = [e5, 0, e6]';
    alphal = [e7, 0, 1 - e6 - e7 - e5]';
elseif Nfr > 0 && Nrr == 0 && Nfl > 0 && Nrl > 0    % Push Off
    alphar = [e5, 0, e6]';
    alphal = [e7, 0, 1 - e6 - e7 - e5]';
elseif Nfr == 0 && Nrr == 0 && Nfl > 0 && Nrl > 0   % Swing
    alphar = [0 0 0]'; 
    alphal = [e4, 0, 1 - e4]';
end


alpha = [alphar;alphal];

% Calculate Pu2 and P
Pu2 = alpha * Pu;
P = Pa - Pu2;

% Calculate joint torques
Tj = Ms * P + Vs;
% Tt = Ms * Pa + Vs;
% Tb = -Ms * Pu2;

% Extract joint torques
[Tar, Tkr, Thr, Tal, Tkl, Thl] = deal(Tj(1), Tj(2), Tj(3), Tj(4), Tj(5), Tj(6));
TJoint = [Tar, Tkr, Thr, Tal, Tkl, Thl];
%% Add the gait Controller to the Osim Model in OpenSim 

Joint_Ankle_r = PrescribedController();
actuatorSet = subjectModel.getActuators();
Joint_Ankle_r.addActuator(actuatorSet.get('ankle_motor_r'))
Torque_ar = Constant(Tar);
Joint_Ankle_r.prescribeControlForActuator('ankle_motor_r', Torque_ar);       
subjectModel.addController(Joint_Ankle_r)
      
Joint_Knee_r = PrescribedController();
actuatorSet=subjectModel.getActuators();
Joint_Knee_r.addActuator(actuatorSet.get('knee_motor_r'))
Torque_kr = Constant(Tkr);
Joint_Knee_r.prescribeControlForActuator('knee_motor_r', Torque_kr); 
subjectModel.addController(Joint_Knee_r)
        
Joint_Hip_r = PrescribedController();
actuatorSet=subjectModel.getActuators();
Joint_Hip_r.addActuator(actuatorSet.get('hip_motor_r'))
Torque_hr = Constant(Thr);
Joint_Hip_r.prescribeControlForActuator('hip_motor_r', Torque_hr);
subjectModel.addController(Joint_Hip_r)
     
Joint_ankle_l = PrescribedController();
actuatorSet=subjectModel.getActuators();
Joint_ankle_l.addActuator(actuatorSet.get('ankle_motor_l'))
Torque_al = Constant(Tal);
Joint_ankle_l.prescribeControlForActuator('ankle_motor_l', Torque_al);
subjectModel.addController(Joint_ankle_l)
        
Joint_knee_l = PrescribedController();
actuatorSet=subjectModel.getActuators();
Joint_knee_l.addActuator(actuatorSet.get('knee_motor_l'))
Torque_kl = Constant(Tkl);
Joint_knee_l.prescribeControlForActuator('knee_motor_l', Torque_kl);
subjectModel.addController(Joint_knee_l)
    
Joint_Hip_l = PrescribedController();
actuatorSet=subjectModel.getActuators();
Joint_Hip_l.addActuator(actuatorSet.get('hip_motor_l'))
Torque_hl = Constant(Thl);
Joint_Hip_l.prescribeControlForActuator('hip_motor_l', Torque_hl);
subjectModel.addController(Joint_Hip_l) 

%% Add the ground reaction force obtained by Huant-Crossely Model to the osim model 

function addForce(subjectModel, name, frameName, OF, ON, xF, yF, zF)
    force = PrescribedForce();
    force.setName(name);
    force.setFrameName(frameName);
    force.setForceFunctions(Constant(OF), Constant(ON), Constant(0));
    force.setPointFunctions(Constant(xF), Constant(yF), Constant(zF));
    subjectModel.addForce(force);
end


% Add forces for the right foot
addForce(subjectModel, 'ForcefR', '/bodyset/toes_r', Ffr, Nfr, Ltoe, 0, 0);
addForce(subjectModel, 'ForcebR', '/bodyset/calcn_r', Frr, Nrr, 0.006, 0, 0);

% Add forces for the left foot
addForce(subjectModel, 'ForcefL', '/bodyset/toes_l', Ffl, Nfl, Ltoe, 0, 0);
addForce(subjectModel, 'ForcebL', '/bodyset/calcn_l', Frl, Nrl, 0.005, 0, 0);

 %% Apply External Force on Upper Body as a disturbance (Robustness analysis)
% To evalute the performance of the gait controller, we applied some
% disturbance force to upper body of the skeletal human model. 

%     function addUpperBodyForce(subjectModel, name, frameName, dFx, dFy, xF, yF, zF)
%     force = PrescribedForce();
%     force.setName(name);
%     force.setFrameName(frameName);
%     force.setForceFunctions(Constant(dFx), Constant(dFy), Constant(0));
%     force.setPointFunctions(Constant(xF), Constant(yF), Constant(zF));
%     subjectModel.addForce(force);
%     end
% % Add external force on the upper body
% addUpperBodyForce(subjectModel, 'dForce', '/bodyset/torso', 0.6*Fdis, 0.2*Fdis, 0, 0.2, 0);

%% Initial Values

function setCoordinateValues(Coordiantes, state, coordName, value, speedValue)
    coordin = Coordiantes.get(coordName);
    coordin.setValue(state, value);
    coordin.setSpeedValue(state, speedValue);
end

% Initialize the system
state = subjectModel.initSystem();
Coordiantes = subjectModel.getCoordinateSet();

% Set values and speed values for right leg joints
setCoordinateValues(Coordiantes, state, 'ankle_angle_r', tar, tar_dt);
setCoordinateValues(Coordiantes, state, 'knee_angle_r', tkr, tkr_dt);
setCoordinateValues(Coordiantes, state, 'hip_flexion_r', thr, thr_dt);

% Set values and speed values for left leg joints
setCoordinateValues(Coordiantes, state, 'ankle_angle_l', tal, tal_dt);
setCoordinateValues(Coordiantes, state, 'knee_angle_l', tkl, tkl_dt);
setCoordinateValues(Coordiantes, state, 'hip_flexion_l', thl, thl_dt);

% Set values and speed values for pelvis
setCoordinateValues(Coordiantes, state, 'pelvis_tilt', tu, tu_dt);
setCoordinateValues(Coordiantes, state, 'pelvis_tx', X, X_dt);
setCoordinateValues(Coordiantes, state, 'pelvis_ty', Y, Y_dt);



%% Perform Forward Simulation using OpenSim Manager
% To run a forward simulation using a Manager in OpenSim, we followed these steps:
% 1. Initialize the Manager.
% 2. Set up the initial state of the system.
% 3. Integrate the system forward in time using the Manager.

manager = Manager(subjectModel);
dTime = 0.001;
state.setTime(i*dTime);
manager.initialize(state);

% Integrate the model forward in time
Out_state = manager.integrate((i+1)*dTime);

%% Retrieve Output States of the Model

function [value, speedValue] = getCoordinateValues(Out_Coordiantes, coordinateName, Out_state)
    coordinate = Out_Coordiantes.get(coordinateName);
    value = coordinate.getValue(Out_state);
    speedValue = coordinate.getSpeedValue(Out_state);
end

Out_Coordiantes = subjectModel.getCoordinateSet(); 
% Retrieve values and speed values for each coordinate
[HipR, HipR_d] = getCoordinateValues(Out_Coordiantes, 'hip_flexion_r', Out_state);
[AnkleR, AnkleR_d] = getCoordinateValues(Out_Coordiantes, 'ankle_angle_r', Out_state);
[KneeR, KneeR_d] = getCoordinateValues(Out_Coordiantes, 'knee_angle_r', Out_state);
[HipL, HipL_d] = getCoordinateValues(Out_Coordiantes, 'hip_flexion_l', Out_state);
[AnkleL, AnkleL_d] = getCoordinateValues(Out_Coordiantes, 'ankle_angle_l', Out_state);
[KneeL, KneeL_d] = getCoordinateValues(Out_Coordiantes, 'knee_angle_l', Out_state);
[PelvisTilt, PelvisTilt_d] = getCoordinateValues(Out_Coordiantes, 'pelvis_tilt', Out_state);
[Pelvis_tx, Pelvis_tx_d] = getCoordinateValues(Out_Coordiantes, 'pelvis_tx', Out_state);
[Pelvis_ty, Pelvis_ty_d] = getCoordinateValues(Out_Coordiantes, 'pelvis_ty', Out_state);


%% Outputs 

% coordinate values and speed values into a matrix
CoordinateNew = [AnkleR, KneeR, HipR, AnkleL, KneeL, HipL,...
                 AnkleR_d, KneeR_d, HipR_d, AnkleL_d, KneeL_d,  HipL_d,...
                 PelvisTilt, PelvisTilt_d, Pelvis_tx, Pelvis_tx_d, Pelvis_ty, Pelvis_ty_d];

% column vector representing ground reaction forces
FGrf = [Ffr, Nfr, Frr, Nrr, Ffl, Nfl, Frl, Nrl]';

       
end
